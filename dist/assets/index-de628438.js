function XI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M1={exports:{}},Fd={},V1={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl=Symbol.for("react.element"),JI=Symbol.for("react.portal"),ZI=Symbol.for("react.fragment"),e2=Symbol.for("react.strict_mode"),t2=Symbol.for("react.profiler"),n2=Symbol.for("react.provider"),r2=Symbol.for("react.context"),i2=Symbol.for("react.forward_ref"),s2=Symbol.for("react.suspense"),o2=Symbol.for("react.memo"),a2=Symbol.for("react.lazy"),Yv=Symbol.iterator;function l2(t){return t===null||typeof t!="object"?null:(t=Yv&&t[Yv]||t["@@iterator"],typeof t=="function"?t:null)}var F1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$1=Object.assign,U1={};function Ho(t,e,n){this.props=t,this.context=e,this.refs=U1,this.updater=n||F1}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z1(){}z1.prototype=Ho.prototype;function Bm(t,e,n){this.props=t,this.context=e,this.refs=U1,this.updater=n||F1}var Hm=Bm.prototype=new z1;Hm.constructor=Bm;$1(Hm,Ho.prototype);Hm.isPureReactComponent=!0;var Xv=Array.isArray,B1=Object.prototype.hasOwnProperty,Wm={current:null},H1={key:!0,ref:!0,__self:!0,__source:!0};function W1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)B1.call(e,r)&&!H1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Bl,type:t,key:s,ref:o,props:i,_owner:Wm.current}}function u2(t,e){return{$$typeof:Bl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bl}function c2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jv=/\/+/g;function Zh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?c2(""+t.key):e.toString(36)}function hc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bl:case JI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Zh(o,0):r,Xv(i)?(n="",t!=null&&(n=t.replace(Jv,"$&/")+"/"),hc(i,e,n,"",function(u){return u})):i!=null&&(qm(i)&&(i=u2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Jv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Xv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Zh(s,a);o+=hc(s,e,n,l,i)}else if(l=l2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Zh(s,a++),o+=hc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nu(t,e,n){if(t==null)return t;var r=[],i=0;return hc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function d2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},fc={transition:null},h2={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:fc,ReactCurrentOwner:Wm};function q1(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Nu,forEach:function(t,e,n){Nu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nu(t,function(){e++}),e},toArray:function(t){return Nu(t,function(e){return e})||[]},only:function(t){if(!qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=Ho;Ne.Fragment=ZI;Ne.Profiler=t2;Ne.PureComponent=Bm;Ne.StrictMode=e2;Ne.Suspense=s2;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h2;Ne.act=q1;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Wm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)B1.call(e,l)&&!H1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Bl,type:t.type,key:i,ref:s,props:r,_owner:o}};Ne.createContext=function(t){return t={$$typeof:r2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:n2,_context:t},t.Consumer=t};Ne.createElement=W1;Ne.createFactory=function(t){var e=W1.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:i2,render:t}};Ne.isValidElement=qm;Ne.lazy=function(t){return{$$typeof:a2,_payload:{_status:-1,_result:t},_init:d2}};Ne.memo=function(t,e){return{$$typeof:o2,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=fc.transition;fc.transition={};try{t()}finally{fc.transition=e}};Ne.unstable_act=q1;Ne.useCallback=function(t,e){return en.current.useCallback(t,e)};Ne.useContext=function(t){return en.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return en.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return en.current.useEffect(t,e)};Ne.useId=function(){return en.current.useId()};Ne.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return en.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};Ne.useRef=function(t){return en.current.useRef(t)};Ne.useState=function(t){return en.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return en.current.useTransition()};Ne.version="18.3.1";V1.exports=Ne;var T=V1.exports;const Pe=L1(T),tp=XI({__proto__:null,default:Pe},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2=T,p2=Symbol.for("react.element"),m2=Symbol.for("react.fragment"),g2=Object.prototype.hasOwnProperty,y2=f2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v2={key:!0,ref:!0,__self:!0,__source:!0};function G1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)g2.call(e,r)&&!v2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:p2,type:t,key:s,ref:o,props:i,_owner:y2.current}}Fd.Fragment=m2;Fd.jsx=G1;Fd.jsxs=G1;M1.exports=Fd;var d=M1.exports,np={},K1={exports:{}},En={},Q1={exports:{}},Y1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,B){var K=$.length;$.push(B);e:for(;0<K;){var z=K-1>>>1,U=$[z];if(0<i(U,B))$[z]=B,$[K]=U,K=z;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var B=$[0],K=$.pop();if(K!==B){$[0]=K;e:for(var z=0,U=$.length,J=U>>>1;z<J;){var oe=2*(z+1)-1,ne=$[oe],Ie=oe+1,ie=$[Ie];if(0>i(ne,K))Ie<U&&0>i(ie,ne)?($[z]=ie,$[Ie]=K,z=Ie):($[z]=ne,$[oe]=K,z=oe);else if(Ie<U&&0>i(ie,K))$[z]=ie,$[Ie]=K,z=Ie;else break e}}return B}function i($,B){var K=$.sortIndex-B.sortIndex;return K!==0?K:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,p=3,m=!1,v=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=$)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function N($){if(g=!1,x($),!v)if(n(l)!==null)v=!0,le(O);else{var B=n(u);B!==null&&Y(N,B.startTime-$)}}function O($,B){v=!1,g&&(g=!1,y(b),b=-1),m=!0;var K=p;try{for(x(B),f=n(l);f!==null&&(!(f.expirationTime>B)||$&&!L());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var U=z(f.expirationTime<=B);B=t.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&r(l),x(B)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var oe=n(u);oe!==null&&Y(N,oe.startTime-B),J=!1}return J}finally{f=null,p=K,m=!1}}var V=!1,S=null,b=-1,k=5,P=-1;function L(){return!(t.unstable_now()-P<k)}function A(){if(S!==null){var $=t.unstable_now();P=$;var B=!0;try{B=S(!0,$)}finally{B?j():(V=!1,S=null)}}else V=!1}var j;if(typeof _=="function")j=function(){_(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,G=R.port2;R.port1.onmessage=A,j=function(){G.postMessage(null)}}else j=function(){E(A,0)};function le($){S=$,V||(V=!0,j())}function Y($,B){b=E(function(){$(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,le(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var K=p;p=B;try{return $()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=p;p=$;try{return B()}finally{p=K}},t.unstable_scheduleCallback=function($,B,K){var z=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?z+K:z):K=z,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=K+U,$={id:h++,callback:B,priorityLevel:$,startTime:K,expirationTime:U,sortIndex:-1},K>z?($.sortIndex=K,e(u,$),n(l)===null&&$===n(u)&&(g?(y(b),b=-1):g=!0,Y(N,K-z))):($.sortIndex=U,e(l,$),v||m||(v=!0,le(O))),$},t.unstable_shouldYield=L,t.unstable_wrapCallback=function($){var B=p;return function(){var K=p;p=B;try{return $.apply(this,arguments)}finally{p=K}}}})(Y1);Q1.exports=Y1;var _2=Q1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2=T,xn=_2;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X1=new Set,hl={};function Ls(t,e){Ro(t,e),Ro(t+"Capture",e)}function Ro(t,e){for(hl[t]=e,t=0;t<e.length;t++)X1.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rp=Object.prototype.hasOwnProperty,x2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zv={},e0={};function E2(t){return rp.call(e0,t)?!0:rp.call(Zv,t)?!1:x2.test(t)?e0[t]=!0:(Zv[t]=!0,!1)}function b2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function T2(t,e,n,r){if(e===null||typeof e>"u"||b2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gm=/[\-:]([a-z])/g;function Km(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gm,Km);Dt[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gm,Km);Dt[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gm,Km);Dt[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qm(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(T2(e,n,i,r)&&(n=null),r||i===null?E2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yr=w2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ju=Symbol.for("react.element"),to=Symbol.for("react.portal"),no=Symbol.for("react.fragment"),Ym=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),J1=Symbol.for("react.provider"),Z1=Symbol.for("react.context"),Xm=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),op=Symbol.for("react.suspense_list"),Jm=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),ex=Symbol.for("react.offscreen"),t0=Symbol.iterator;function Ta(t){return t===null||typeof t!="object"?null:(t=t0&&t[t0]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,ef;function Da(t){if(ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ef=e&&e[1]||""}return`
`+ef+t}var tf=!1;function nf(t,e){if(!t||tf)return"";tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{tf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Da(t):""}function S2(t){switch(t.tag){case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return t=nf(t.type,!1),t;case 11:return t=nf(t.type.render,!1),t;case 1:return t=nf(t.type,!0),t;default:return""}}function ap(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case no:return"Fragment";case to:return"Portal";case ip:return"Profiler";case Ym:return"StrictMode";case sp:return"Suspense";case op:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z1:return(t.displayName||"Context")+".Consumer";case J1:return(t._context.displayName||"Context")+".Provider";case Xm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jm:return e=t.displayName||null,e!==null?e:ap(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return ap(t(e))}catch{}}return null}function k2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ap(e);case 8:return e===Ym?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I2(t){var e=tx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ou(t){t._valueTracker||(t._valueTracker=I2(t))}function nx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lp(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function n0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rx(t,e){e=e.checked,e!=null&&Qm(t,"checked",e,!1)}function up(t,e){rx(t,e);var n=Li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cp(t,e.type,n):e.hasOwnProperty("defaultValue")&&cp(t,e.type,Li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function r0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cp(t,e,n){(e!=="number"||$c(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var La=Array.isArray;function yo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function i0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(La(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Li(n)}}function ix(t,e){var n=Li(e.value),r=Li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Du,ox=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Du=Du||document.createElement("div"),Du.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Du.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C2=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(t){C2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ka[e]=Ka[t]})});function ax(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ka.hasOwnProperty(t)&&Ka[t]?(""+e).trim():e+"px"}function lx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ax(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var A2=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fp(t,e){if(e){if(A2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function pp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=null;function Zm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gp=null,vo=null,_o=null;function o0(t){if(t=ql(t)){if(typeof gp!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Hd(e),gp(t.stateNode,t.type,e))}}function ux(t){vo?_o?_o.push(t):_o=[t]:vo=t}function cx(){if(vo){var t=vo,e=_o;if(_o=vo=null,o0(t),e)for(t=0;t<e.length;t++)o0(e[t])}}function dx(t,e){return t(e)}function hx(){}var rf=!1;function fx(t,e,n){if(rf)return t(e,n);rf=!0;try{return dx(t,e,n)}finally{rf=!1,(vo!==null||_o!==null)&&(hx(),cx())}}function pl(t,e){var n=t.stateNode;if(n===null)return null;var r=Hd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var yp=!1;if($r)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){yp=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{yp=!1}function R2(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Qa=!1,Uc=null,zc=!1,vp=null,P2={onError:function(t){Qa=!0,Uc=t}};function N2(t,e,n,r,i,s,o,a,l){Qa=!1,Uc=null,R2.apply(P2,arguments)}function j2(t,e,n,r,i,s,o,a,l){if(N2.apply(this,arguments),Qa){if(Qa){var u=Uc;Qa=!1,Uc=null}else throw Error(ae(198));zc||(zc=!0,vp=u)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function px(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a0(t){if(Ms(t)!==t)throw Error(ae(188))}function O2(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return a0(i),t;if(s===r)return a0(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function mx(t){return t=O2(t),t!==null?gx(t):null}function gx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gx(t);if(e!==null)return e;t=t.sibling}return null}var yx=xn.unstable_scheduleCallback,l0=xn.unstable_cancelCallback,D2=xn.unstable_shouldYield,L2=xn.unstable_requestPaint,dt=xn.unstable_now,M2=xn.unstable_getCurrentPriorityLevel,eg=xn.unstable_ImmediatePriority,vx=xn.unstable_UserBlockingPriority,Bc=xn.unstable_NormalPriority,V2=xn.unstable_LowPriority,_x=xn.unstable_IdlePriority,$d=null,hr=null;function F2(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot($d,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:z2,$2=Math.log,U2=Math.LN2;function z2(t){return t>>>=0,t===0?32:31-($2(t)/U2|0)|0}var Lu=64,Mu=4194304;function Ma(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ma(a):(s&=o,s!==0&&(r=Ma(s)))}else o=n&~i,o!==0?r=Ma(o):s!==0&&(r=Ma(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),i=1<<n,r|=t[n],e&=~i;return r}function B2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=B2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function _p(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wx(){var t=Lu;return Lu<<=1,!(Lu&4194240)&&(Lu=64),t}function sf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function W2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function xx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ex,ng,bx,Tx,Sx,wp=!1,Vu=[],bi=null,Ti=null,Si=null,ml=new Map,gl=new Map,fi=[],q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u0(t,e){switch(t){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(e.pointerId)}}function ka(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ql(e),e!==null&&ng(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function G2(t,e,n,r,i){switch(e){case"focusin":return bi=ka(bi,t,e,n,r,i),!0;case"dragenter":return Ti=ka(Ti,t,e,n,r,i),!0;case"mouseover":return Si=ka(Si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ml.set(s,ka(ml.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gl.set(s,ka(gl.get(s)||null,t,e,n,r,i)),!0}return!1}function kx(t){var e=ds(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=px(n),e!==null){t.blockedOn=e,Sx(t.priority,function(){bx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mp=r,n.target.dispatchEvent(r),mp=null}else return e=ql(n),e!==null&&ng(e),t.blockedOn=n,!1;e.shift()}return!0}function c0(t,e,n){pc(t)&&n.delete(e)}function K2(){wp=!1,bi!==null&&pc(bi)&&(bi=null),Ti!==null&&pc(Ti)&&(Ti=null),Si!==null&&pc(Si)&&(Si=null),ml.forEach(c0),gl.forEach(c0)}function Ia(t,e){t.blockedOn===e&&(t.blockedOn=null,wp||(wp=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,K2)))}function yl(t){function e(i){return Ia(i,t)}if(0<Vu.length){Ia(Vu[0],t);for(var n=1;n<Vu.length;n++){var r=Vu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bi!==null&&Ia(bi,t),Ti!==null&&Ia(Ti,t),Si!==null&&Ia(Si,t),ml.forEach(e),gl.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)kx(n),n.blockedOn===null&&fi.shift()}var wo=Yr.ReactCurrentBatchConfig,Wc=!0;function Q2(t,e,n,r){var i=ze,s=wo.transition;wo.transition=null;try{ze=1,rg(t,e,n,r)}finally{ze=i,wo.transition=s}}function Y2(t,e,n,r){var i=ze,s=wo.transition;wo.transition=null;try{ze=4,rg(t,e,n,r)}finally{ze=i,wo.transition=s}}function rg(t,e,n,r){if(Wc){var i=xp(t,e,n,r);if(i===null)mf(t,e,r,qc,n),u0(t,r);else if(G2(i,t,e,n,r))r.stopPropagation();else if(u0(t,r),e&4&&-1<q2.indexOf(t)){for(;i!==null;){var s=ql(i);if(s!==null&&Ex(s),s=xp(t,e,n,r),s===null&&mf(t,e,r,qc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mf(t,e,r,null,n)}}var qc=null;function xp(t,e,n,r){if(qc=null,t=Zm(r),t=ds(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=px(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qc=t,null}function Ix(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M2()){case eg:return 1;case vx:return 4;case Bc:case V2:return 16;case _x:return 536870912;default:return 16}default:return 16}}var _i=null,ig=null,mc=null;function Cx(){if(mc)return mc;var t,e=ig,n=e.length,r,i="value"in _i?_i.value:_i.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mc=i.slice(t,1<r?1-r:void 0)}function gc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fu(){return!0}function d0(){return!1}function bn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fu:d0,this.isPropagationStopped=d0,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fu)},persist:function(){},isPersistent:Fu}),e}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sg=bn(Wo),Wl=it({},Wo,{view:0,detail:0}),X2=bn(Wl),of,af,Ca,Ud=it({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:og,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ca&&(Ca&&t.type==="mousemove"?(of=t.screenX-Ca.screenX,af=t.screenY-Ca.screenY):af=of=0,Ca=t),of)},movementY:function(t){return"movementY"in t?t.movementY:af}}),h0=bn(Ud),J2=it({},Ud,{dataTransfer:0}),Z2=bn(J2),eC=it({},Wl,{relatedTarget:0}),lf=bn(eC),tC=it({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),nC=bn(tC),rC=it({},Wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iC=bn(rC),sC=it({},Wo,{data:0}),f0=bn(sC),oC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lC[t])?!!e[t]:!1}function og(){return uC}var cC=it({},Wl,{key:function(t){if(t.key){var e=oC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:og,charCode:function(t){return t.type==="keypress"?gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dC=bn(cC),hC=it({},Ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p0=bn(hC),fC=it({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:og}),pC=bn(fC),mC=it({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),gC=bn(mC),yC=it({},Ud,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vC=bn(yC),_C=[9,13,27,32],ag=$r&&"CompositionEvent"in window,Ya=null;$r&&"documentMode"in document&&(Ya=document.documentMode);var wC=$r&&"TextEvent"in window&&!Ya,Ax=$r&&(!ag||Ya&&8<Ya&&11>=Ya),m0=String.fromCharCode(32),g0=!1;function Rx(t,e){switch(t){case"keyup":return _C.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Px(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ro=!1;function xC(t,e){switch(t){case"compositionend":return Px(e);case"keypress":return e.which!==32?null:(g0=!0,m0);case"textInput":return t=e.data,t===m0&&g0?null:t;default:return null}}function EC(t,e){if(ro)return t==="compositionend"||!ag&&Rx(t,e)?(t=Cx(),mc=ig=_i=null,ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ax&&e.locale!=="ko"?null:e.data;default:return null}}var bC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bC[t.type]:e==="textarea"}function Nx(t,e,n,r){ux(r),e=Gc(e,"onChange"),0<e.length&&(n=new sg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xa=null,vl=null;function TC(t){Bx(t,0)}function zd(t){var e=oo(t);if(nx(e))return t}function SC(t,e){if(t==="change")return e}var jx=!1;if($r){var uf;if($r){var cf="oninput"in document;if(!cf){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),cf=typeof v0.oninput=="function"}uf=cf}else uf=!1;jx=uf&&(!document.documentMode||9<document.documentMode)}function _0(){Xa&&(Xa.detachEvent("onpropertychange",Ox),vl=Xa=null)}function Ox(t){if(t.propertyName==="value"&&zd(vl)){var e=[];Nx(e,vl,t,Zm(t)),fx(TC,e)}}function kC(t,e,n){t==="focusin"?(_0(),Xa=e,vl=n,Xa.attachEvent("onpropertychange",Ox)):t==="focusout"&&_0()}function IC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zd(vl)}function CC(t,e){if(t==="click")return zd(e)}function AC(t,e){if(t==="input"||t==="change")return zd(e)}function RC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jn=typeof Object.is=="function"?Object.is:RC;function _l(t,e){if(Jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rp.call(e,i)||!Jn(t[i],e[i]))return!1}return!0}function w0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x0(t,e){var n=w0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w0(n)}}function Dx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lx(){for(var t=window,e=$c();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$c(t.document)}return e}function lg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PC(t){var e=Lx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dx(n.ownerDocument.documentElement,n)){if(r!==null&&lg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=x0(n,s);var o=x0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NC=$r&&"documentMode"in document&&11>=document.documentMode,io=null,Ep=null,Ja=null,bp=!1;function E0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bp||io==null||io!==$c(r)||(r=io,"selectionStart"in r&&lg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ja&&_l(Ja,r)||(Ja=r,r=Gc(Ep,"onSelect"),0<r.length&&(e=new sg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=io)))}function $u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var so={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},df={},Mx={};$r&&(Mx=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function Bd(t){if(df[t])return df[t];if(!so[t])return t;var e=so[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mx)return df[t]=e[n];return t}var Vx=Bd("animationend"),Fx=Bd("animationiteration"),$x=Bd("animationstart"),Ux=Bd("transitionend"),zx=new Map,b0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(t,e){zx.set(t,e),Ls(e,[t])}for(var hf=0;hf<b0.length;hf++){var ff=b0[hf],jC=ff.toLowerCase(),OC=ff[0].toUpperCase()+ff.slice(1);Gi(jC,"on"+OC)}Gi(Vx,"onAnimationEnd");Gi(Fx,"onAnimationIteration");Gi($x,"onAnimationStart");Gi("dblclick","onDoubleClick");Gi("focusin","onFocus");Gi("focusout","onBlur");Gi(Ux,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function T0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,j2(r,e,void 0,t),t.currentTarget=null}function Bx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;T0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;T0(i,a,u),s=l}}}if(zc)throw t=vp,zc=!1,vp=null,t}function Ke(t,e){var n=e[Cp];n===void 0&&(n=e[Cp]=new Set);var r=t+"__bubble";n.has(r)||(Hx(e,t,2,!1),n.add(r))}function pf(t,e,n){var r=0;e&&(r|=4),Hx(n,t,r,e)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function wl(t){if(!t[Uu]){t[Uu]=!0,X1.forEach(function(n){n!=="selectionchange"&&(DC.has(n)||pf(n,!1,t),pf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uu]||(e[Uu]=!0,pf("selectionchange",!1,e))}}function Hx(t,e,n,r){switch(Ix(e)){case 1:var i=Q2;break;case 4:i=Y2;break;default:i=rg}n=i.bind(null,e,n,t),i=void 0,!yp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ds(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fx(function(){var u=s,h=Zm(n),f=[];e:{var p=zx.get(t);if(p!==void 0){var m=sg,v=t;switch(t){case"keypress":if(gc(n)===0)break e;case"keydown":case"keyup":m=dC;break;case"focusin":v="focus",m=lf;break;case"focusout":v="blur",m=lf;break;case"beforeblur":case"afterblur":m=lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=h0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Z2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pC;break;case Vx:case Fx:case $x:m=nC;break;case Ux:m=gC;break;case"scroll":m=X2;break;case"wheel":m=vC;break;case"copy":case"cut":case"paste":m=iC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=p0}var g=(e&4)!==0,E=!g&&t==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var _=u,x;_!==null;){x=_;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,y!==null&&(N=pl(_,y),N!=null&&g.push(xl(_,N,x)))),E)break;_=_.return}0<g.length&&(p=new m(p,v,null,n,h),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==mp&&(v=n.relatedTarget||n.fromElement)&&(ds(v)||v[Ur]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?ds(v):null,v!==null&&(E=Ms(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=h0,N="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=p0,N="onPointerLeave",y="onPointerEnter",_="pointer"),E=m==null?p:oo(m),x=v==null?p:oo(v),p=new g(N,_+"leave",m,n,h),p.target=E,p.relatedTarget=x,N=null,ds(h)===u&&(g=new g(y,_+"enter",v,n,h),g.target=x,g.relatedTarget=E,N=g),E=N,m&&v)t:{for(g=m,y=v,_=0,x=g;x;x=Ks(x))_++;for(x=0,N=y;N;N=Ks(N))x++;for(;0<_-x;)g=Ks(g),_--;for(;0<x-_;)y=Ks(y),x--;for(;_--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ks(g),y=Ks(y)}g=null}else g=null;m!==null&&S0(f,p,m,g,!1),v!==null&&E!==null&&S0(f,E,v,g,!0)}}e:{if(p=u?oo(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=SC;else if(y0(p))if(jx)O=AC;else{O=IC;var V=kC}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=CC);if(O&&(O=O(t,u))){Nx(f,O,n,h);break e}V&&V(t,p,u),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&cp(p,"number",p.value)}switch(V=u?oo(u):window,t){case"focusin":(y0(V)||V.contentEditable==="true")&&(io=V,Ep=u,Ja=null);break;case"focusout":Ja=Ep=io=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,E0(f,n,h);break;case"selectionchange":if(NC)break;case"keydown":case"keyup":E0(f,n,h)}var S;if(ag)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ro?Rx(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Ax&&n.locale!=="ko"&&(ro||b!=="onCompositionStart"?b==="onCompositionEnd"&&ro&&(S=Cx()):(_i=h,ig="value"in _i?_i.value:_i.textContent,ro=!0)),V=Gc(u,b),0<V.length&&(b=new f0(b,t,null,n,h),f.push({event:b,listeners:V}),S?b.data=S:(S=Px(n),S!==null&&(b.data=S)))),(S=wC?xC(t,n):EC(t,n))&&(u=Gc(u,"onBeforeInput"),0<u.length&&(h=new f0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=S))}Bx(f,e)})}function xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pl(t,n),s!=null&&r.unshift(xl(t,s,i)),s=pl(t,e),s!=null&&r.push(xl(t,s,i))),t=t.return}return r}function Ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function S0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=pl(n,s),l!=null&&o.unshift(xl(n,l,a))):i||(l=pl(n,s),l!=null&&o.push(xl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LC=/\r\n?/g,MC=/\u0000|\uFFFD/g;function k0(t){return(typeof t=="string"?t:""+t).replace(LC,`
`).replace(MC,"")}function zu(t,e,n){if(e=k0(e),k0(t)!==e&&n)throw Error(ae(425))}function Kc(){}var Tp=null,Sp=null;function kp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ip=typeof setTimeout=="function"?setTimeout:void 0,VC=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,FC=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(t){return I0.resolve(null).then(t).catch($C)}:Ip;function $C(t){setTimeout(function(){throw t})}function gf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yl(e)}function ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qo=Math.random().toString(36).slice(2),cr="__reactFiber$"+qo,El="__reactProps$"+qo,Ur="__reactContainer$"+qo,Cp="__reactEvents$"+qo,UC="__reactListeners$"+qo,zC="__reactHandles$"+qo;function ds(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C0(t);t!==null;){if(n=t[cr])return n;t=C0(t)}return e}t=n,n=t.parentNode}return null}function ql(t){return t=t[cr]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Hd(t){return t[El]||null}var Ap=[],ao=-1;function Ki(t){return{current:t}}function Ye(t){0>ao||(t.current=Ap[ao],Ap[ao]=null,ao--)}function qe(t,e){ao++,Ap[ao]=t.current,t.current=e}var Mi={},Gt=Ki(Mi),ln=Ki(!1),Es=Mi;function Po(t,e){var n=t.type.contextTypes;if(!n)return Mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function un(t){return t=t.childContextTypes,t!=null}function Qc(){Ye(ln),Ye(Gt)}function A0(t,e,n){if(Gt.current!==Mi)throw Error(ae(168));qe(Gt,e),qe(ln,n)}function Wx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,k2(t)||"Unknown",i));return it({},n,r)}function Yc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mi,Es=Gt.current,qe(Gt,t),qe(ln,ln.current),!0}function R0(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=Wx(t,e,Es),r.__reactInternalMemoizedMergedChildContext=t,Ye(ln),Ye(Gt),qe(Gt,t)):Ye(ln),qe(ln,n)}var Ar=null,Wd=!1,yf=!1;function qx(t){Ar===null?Ar=[t]:Ar.push(t)}function BC(t){Wd=!0,qx(t)}function Qi(){if(!yf&&Ar!==null){yf=!0;var t=0,e=ze;try{var n=Ar;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,Wd=!1}catch(i){throw Ar!==null&&(Ar=Ar.slice(t+1)),yx(eg,Qi),i}finally{ze=e,yf=!1}}return null}var lo=[],uo=0,Xc=null,Jc=0,kn=[],In=0,bs=null,Pr=1,Nr="";function os(t,e){lo[uo++]=Jc,lo[uo++]=Xc,Xc=t,Jc=e}function Gx(t,e,n){kn[In++]=Pr,kn[In++]=Nr,kn[In++]=bs,bs=t;var r=Pr;t=Nr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var s=32-Yn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pr=1<<32-Yn(e)+i|n<<i|r,Nr=s+t}else Pr=1<<s|n<<i|r,Nr=t}function ug(t){t.return!==null&&(os(t,1),Gx(t,1,0))}function cg(t){for(;t===Xc;)Xc=lo[--uo],lo[uo]=null,Jc=lo[--uo],lo[uo]=null;for(;t===bs;)bs=kn[--In],kn[In]=null,Nr=kn[--In],kn[In]=null,Pr=kn[--In],kn[In]=null}var _n=null,gn=null,Xe=!1,Gn=null;function Kx(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function P0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,gn=ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bs!==null?{id:Pr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,gn=null,!0):!1;default:return!1}}function Rp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pp(t){if(Xe){var e=gn;if(e){var n=e;if(!P0(t,e)){if(Rp(t))throw Error(ae(418));e=ki(n.nextSibling);var r=_n;e&&P0(t,e)?Kx(r,n):(t.flags=t.flags&-4097|2,Xe=!1,_n=t)}}else{if(Rp(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Xe=!1,_n=t}}}function N0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function Bu(t){if(t!==_n)return!1;if(!Xe)return N0(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kp(t.type,t.memoizedProps)),e&&(e=gn)){if(Rp(t))throw Qx(),Error(ae(418));for(;e;)Kx(t,e),e=ki(e.nextSibling)}if(N0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=_n?ki(t.stateNode.nextSibling):null;return!0}function Qx(){for(var t=gn;t;)t=ki(t.nextSibling)}function No(){gn=_n=null,Xe=!1}function dg(t){Gn===null?Gn=[t]:Gn.push(t)}var HC=Yr.ReactCurrentBatchConfig;function Aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function Hu(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j0(t){var e=t._init;return e(t._payload)}function Yx(t){function e(y,_){if(t){var x=y.deletions;x===null?(y.deletions=[_],y.flags|=16):x.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=Ri(y,_),y.index=0,y.sibling=null,y}function s(y,_,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<_?(y.flags|=2,_):x):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,x,N){return _===null||_.tag!==6?(_=Tf(x,y.mode,N),_.return=y,_):(_=i(_,x),_.return=y,_)}function l(y,_,x,N){var O=x.type;return O===no?h(y,_,x.props.children,N,x.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ci&&j0(O)===_.type)?(N=i(_,x.props),N.ref=Aa(y,_,x),N.return=y,N):(N=bc(x.type,x.key,x.props,null,y.mode,N),N.ref=Aa(y,_,x),N.return=y,N)}function u(y,_,x,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Sf(x,y.mode,N),_.return=y,_):(_=i(_,x.children||[]),_.return=y,_)}function h(y,_,x,N,O){return _===null||_.tag!==7?(_=vs(x,y.mode,N,O),_.return=y,_):(_=i(_,x),_.return=y,_)}function f(y,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Tf(""+_,y.mode,x),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ju:return x=bc(_.type,_.key,_.props,null,y.mode,x),x.ref=Aa(y,null,_),x.return=y,x;case to:return _=Sf(_,y.mode,x),_.return=y,_;case ci:var N=_._init;return f(y,N(_._payload),x)}if(La(_)||Ta(_))return _=vs(_,y.mode,x,null),_.return=y,_;Hu(y,_)}return null}function p(y,_,x,N){var O=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(y,_,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ju:return x.key===O?l(y,_,x,N):null;case to:return x.key===O?u(y,_,x,N):null;case ci:return O=x._init,p(y,_,O(x._payload),N)}if(La(x)||Ta(x))return O!==null?null:h(y,_,x,N,null);Hu(y,x)}return null}function m(y,_,x,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(x)||null,a(_,y,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ju:return y=y.get(N.key===null?x:N.key)||null,l(_,y,N,O);case to:return y=y.get(N.key===null?x:N.key)||null,u(_,y,N,O);case ci:var V=N._init;return m(y,_,x,V(N._payload),O)}if(La(N)||Ta(N))return y=y.get(x)||null,h(_,y,N,O,null);Hu(_,N)}return null}function v(y,_,x,N){for(var O=null,V=null,S=_,b=_=0,k=null;S!==null&&b<x.length;b++){S.index>b?(k=S,S=null):k=S.sibling;var P=p(y,S,x[b],N);if(P===null){S===null&&(S=k);break}t&&S&&P.alternate===null&&e(y,S),_=s(P,_,b),V===null?O=P:V.sibling=P,V=P,S=k}if(b===x.length)return n(y,S),Xe&&os(y,b),O;if(S===null){for(;b<x.length;b++)S=f(y,x[b],N),S!==null&&(_=s(S,_,b),V===null?O=S:V.sibling=S,V=S);return Xe&&os(y,b),O}for(S=r(y,S);b<x.length;b++)k=m(S,y,b,x[b],N),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?b:k.key),_=s(k,_,b),V===null?O=k:V.sibling=k,V=k);return t&&S.forEach(function(L){return e(y,L)}),Xe&&os(y,b),O}function g(y,_,x,N){var O=Ta(x);if(typeof O!="function")throw Error(ae(150));if(x=O.call(x),x==null)throw Error(ae(151));for(var V=O=null,S=_,b=_=0,k=null,P=x.next();S!==null&&!P.done;b++,P=x.next()){S.index>b?(k=S,S=null):k=S.sibling;var L=p(y,S,P.value,N);if(L===null){S===null&&(S=k);break}t&&S&&L.alternate===null&&e(y,S),_=s(L,_,b),V===null?O=L:V.sibling=L,V=L,S=k}if(P.done)return n(y,S),Xe&&os(y,b),O;if(S===null){for(;!P.done;b++,P=x.next())P=f(y,P.value,N),P!==null&&(_=s(P,_,b),V===null?O=P:V.sibling=P,V=P);return Xe&&os(y,b),O}for(S=r(y,S);!P.done;b++,P=x.next())P=m(S,y,b,P.value,N),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?b:P.key),_=s(P,_,b),V===null?O=P:V.sibling=P,V=P);return t&&S.forEach(function(A){return e(y,A)}),Xe&&os(y,b),O}function E(y,_,x,N){if(typeof x=="object"&&x!==null&&x.type===no&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ju:e:{for(var O=x.key,V=_;V!==null;){if(V.key===O){if(O=x.type,O===no){if(V.tag===7){n(y,V.sibling),_=i(V,x.props.children),_.return=y,y=_;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ci&&j0(O)===V.type){n(y,V.sibling),_=i(V,x.props),_.ref=Aa(y,V,x),_.return=y,y=_;break e}n(y,V);break}else e(y,V);V=V.sibling}x.type===no?(_=vs(x.props.children,y.mode,N,x.key),_.return=y,y=_):(N=bc(x.type,x.key,x.props,null,y.mode,N),N.ref=Aa(y,_,x),N.return=y,y=N)}return o(y);case to:e:{for(V=x.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(y,_.sibling),_=i(_,x.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=Sf(x,y.mode,N),_.return=y,y=_}return o(y);case ci:return V=x._init,E(y,_,V(x._payload),N)}if(La(x))return v(y,_,x,N);if(Ta(x))return g(y,_,x,N);Hu(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,x),_.return=y,y=_):(n(y,_),_=Tf(x,y.mode,N),_.return=y,y=_),o(y)):n(y,_)}return E}var jo=Yx(!0),Xx=Yx(!1),Zc=Ki(null),ed=null,co=null,hg=null;function fg(){hg=co=ed=null}function pg(t){var e=Zc.current;Ye(Zc),t._currentValue=e}function Np(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xo(t,e){ed=t,hg=co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Ln(t){var e=t._currentValue;if(hg!==t)if(t={context:t,memoizedValue:e,next:null},co===null){if(ed===null)throw Error(ae(308));co=t,ed.dependencies={lanes:0,firstContext:t}}else co=co.next=t;return e}var hs=null;function mg(t){hs===null?hs=[t]:hs.push(t)}function Jx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mg(e)):(n.next=i.next,i.next=n),e.interleaved=n,zr(t,r)}function zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var di=!1;function gg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zr(t,n)}return i=r.interleaved,i===null?(e.next=e,mg(r)):(e.next=i.next,i.next=e),r.interleaved=e,zr(t,n)}function yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tg(t,n)}}function O0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function td(t,e,n,r){var i=t.updateQueue;di=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(p=e,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=it({},f,p);break e;case 2:di=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ss|=o,t.lanes=o,t.memoizedState=f}}function D0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var Gl={},fr=Ki(Gl),bl=Ki(Gl),Tl=Ki(Gl);function fs(t){if(t===Gl)throw Error(ae(174));return t}function yg(t,e){switch(qe(Tl,e),qe(bl,t),qe(fr,Gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hp(e,t)}Ye(fr),qe(fr,e)}function Oo(){Ye(fr),Ye(bl),Ye(Tl)}function eE(t){fs(Tl.current);var e=fs(fr.current),n=hp(e,t.type);e!==n&&(qe(bl,t),qe(fr,n))}function vg(t){bl.current===t&&(Ye(fr),Ye(bl))}var et=Ki(0);function nd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vf=[];function _g(){for(var t=0;t<vf.length;t++)vf[t]._workInProgressVersionPrimary=null;vf.length=0}var vc=Yr.ReactCurrentDispatcher,_f=Yr.ReactCurrentBatchConfig,Ts=0,rt=null,_t=null,St=null,rd=!1,Za=!1,Sl=0,WC=0;function Ft(){throw Error(ae(321))}function wg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jn(t[n],e[n]))return!1;return!0}function xg(t,e,n,r,i,s){if(Ts=s,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vc.current=t===null||t.memoizedState===null?QC:YC,t=n(r,i),Za){s=0;do{if(Za=!1,Sl=0,25<=s)throw Error(ae(301));s+=1,St=_t=null,e.updateQueue=null,vc.current=XC,t=n(r,i)}while(Za)}if(vc.current=id,e=_t!==null&&_t.next!==null,Ts=0,St=_t=rt=null,rd=!1,e)throw Error(ae(300));return t}function Eg(){var t=Sl!==0;return Sl=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?rt.memoizedState=St=t:St=St.next=t,St}function Mn(){if(_t===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=St===null?rt.memoizedState:St.next;if(e!==null)St=e,_t=t;else{if(t===null)throw Error(ae(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},St===null?rt.memoizedState=St=t:St=St.next=t}return St}function kl(t,e){return typeof e=="function"?e(t):e}function wf(t){var e=Mn(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Ts&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,rt.lanes|=h,Ss|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Jn(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,rt.lanes|=s,Ss|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xf(t){var e=Mn(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Jn(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tE(){}function nE(t,e){var n=rt,r=Mn(),i=e(),s=!Jn(r.memoizedState,i);if(s&&(r.memoizedState=i,an=!0),r=r.queue,bg(sE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Il(9,iE.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(ae(349));Ts&30||rE(n,e,i)}return i}function rE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iE(t,e,n,r){e.value=n,e.getSnapshot=r,oE(e)&&aE(t)}function sE(t,e,n){return n(function(){oE(e)&&aE(t)})}function oE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jn(t,n)}catch{return!0}}function aE(t){var e=zr(t,1);e!==null&&Xn(e,t,1,-1)}function L0(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:t},e.queue=t,t=t.dispatch=KC.bind(null,rt,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lE(){return Mn().memoizedState}function _c(t,e,n,r){var i=lr();rt.flags|=t,i.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function qd(t,e,n,r){var i=Mn();r=r===void 0?null:r;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,r!==null&&wg(r,o.deps)){i.memoizedState=Il(e,n,s,r);return}}rt.flags|=t,i.memoizedState=Il(1|e,n,s,r)}function M0(t,e){return _c(8390656,8,t,e)}function bg(t,e){return qd(2048,8,t,e)}function uE(t,e){return qd(4,2,t,e)}function cE(t,e){return qd(4,4,t,e)}function dE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hE(t,e,n){return n=n!=null?n.concat([t]):null,qd(4,4,dE.bind(null,e,t),n)}function Tg(){}function fE(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pE(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mE(t,e,n){return Ts&21?(Jn(n,e)||(n=wx(),rt.lanes|=n,Ss|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function qC(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=_f.transition;_f.transition={};try{t(!1),e()}finally{ze=n,_f.transition=r}}function gE(){return Mn().memoizedState}function GC(t,e,n){var r=Ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yE(t))vE(e,n);else if(n=Jx(t,e,n,r),n!==null){var i=Zt();Xn(n,t,r,i),_E(n,e,r)}}function KC(t,e,n){var r=Ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yE(t))vE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,o)){var l=e.interleaved;l===null?(i.next=i,mg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Jx(t,e,i,r),n!==null&&(i=Zt(),Xn(n,t,r,i),_E(n,e,r))}}function yE(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function vE(t,e){Za=rd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _E(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tg(t,n)}}var id={readContext:Ln,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},QC={readContext:Ln,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:Ln,useEffect:M0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_c(4194308,4,dE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _c(4194308,4,t,e)},useInsertionEffect:function(t,e){return _c(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GC.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:L0,useDebugValue:Tg,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=L0(!1),e=t[0];return t=qC.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,i=lr();if(Xe){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),Ct===null)throw Error(ae(349));Ts&30||rE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,M0(sE.bind(null,r,s,t),[t]),r.flags|=2048,Il(9,iE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=lr(),e=Ct.identifierPrefix;if(Xe){var n=Nr,r=Pr;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YC={readContext:Ln,useCallback:fE,useContext:Ln,useEffect:bg,useImperativeHandle:hE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:wf,useRef:lE,useState:function(){return wf(kl)},useDebugValue:Tg,useDeferredValue:function(t){var e=Mn();return mE(e,_t.memoizedState,t)},useTransition:function(){var t=wf(kl)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1},XC={readContext:Ln,useCallback:fE,useContext:Ln,useEffect:bg,useImperativeHandle:hE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:xf,useRef:lE,useState:function(){return xf(kl)},useDebugValue:Tg,useDeferredValue:function(t){var e=Mn();return _t===null?e.memoizedState=t:mE(e,_t.memoizedState,t)},useTransition:function(){var t=xf(kl)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gd={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Ai(t),s=Lr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(Xn(e,t,i,r),yc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Ai(t),s=Lr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(Xn(e,t,i,r),yc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=Ai(t),i=Lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,r),e!==null&&(Xn(e,t,r,n),yc(e,t,r))}};function V0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!_l(n,r)||!_l(i,s):!0}function wE(t,e,n){var r=!1,i=Mi,s=e.contextType;return typeof s=="object"&&s!==null?s=Ln(s):(i=un(e)?Es:Gt.current,r=e.contextTypes,s=(r=r!=null)?Po(t,i):Mi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function F0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gd.enqueueReplaceState(e,e.state,null)}function Op(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ln(s):(s=un(e)?Es:Gt.current,i.context=Po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gd.enqueueReplaceState(i,i.state,null),td(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,e){try{var n="",r=e;do n+=S2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Dp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JC=typeof WeakMap=="function"?WeakMap:Map;function xE(t,e,n){n=Lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){od||(od=!0,Wp=r),Dp(t,e)},n}function EE(t,e,n){n=Lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Dp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Dp(t,e),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hA.bind(null,t,e,n),e.then(t,t))}function U0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lr(-1,1),e.tag=2,Ii(n,e,1))),n.lanes|=1),t)}var ZC=Yr.ReactCurrentOwner,an=!1;function Xt(t,e,n,r){e.child=t===null?Xx(e,null,n,r):jo(e,t.child,n,r)}function B0(t,e,n,r,i){n=n.render;var s=e.ref;return xo(e,i),r=xg(t,e,n,r,s,i),n=Eg(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Br(t,e,i)):(Xe&&n&&ug(e),e.flags|=1,Xt(t,e,r,i),e.child)}function H0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ng(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,bE(t,e,s,r,i)):(t=bc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(o,r)&&t.ref===e.ref)return Br(t,e,i)}return e.flags|=1,t=Ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function bE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(_l(s,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Br(t,e,i)}return Lp(t,e,n,r,i)}function TE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(fo,mn),mn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(fo,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(fo,mn),mn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qe(fo,mn),mn|=r;return Xt(t,e,i,n),e.child}function SE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lp(t,e,n,r,i){var s=un(n)?Es:Gt.current;return s=Po(e,s),xo(e,i),n=xg(t,e,n,r,s,i),r=Eg(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Br(t,e,i)):(Xe&&r&&ug(e),e.flags|=1,Xt(t,e,n,i),e.child)}function W0(t,e,n,r,i){if(un(n)){var s=!0;Yc(e)}else s=!1;if(xo(e,i),e.stateNode===null)wc(t,e),wE(e,n,r),Op(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ln(u):(u=un(n)?Es:Gt.current,u=Po(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&F0(e,o,r,u),di=!1;var p=e.memoizedState;o.state=p,td(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ln.current||di?(typeof h=="function"&&(jp(e,n,h,r),l=e.memoizedState),(a=di||V0(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Zx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wn(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ln(l):(l=un(n)?Es:Gt.current,l=Po(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&F0(e,o,r,l),di=!1,p=e.memoizedState,o.state=p,td(e,r,o,i);var v=e.memoizedState;a!==f||p!==v||ln.current||di?(typeof m=="function"&&(jp(e,n,m,r),v=e.memoizedState),(u=di||V0(e,n,u,r,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Mp(t,e,n,r,s,i)}function Mp(t,e,n,r,i,s){SE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&R0(e,n,!1),Br(t,e,s);r=e.stateNode,ZC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=jo(e,t.child,null,s),e.child=jo(e,null,a,s)):Xt(t,e,a,s),e.memoizedState=r.state,i&&R0(e,n,!0),e.child}function kE(t){var e=t.stateNode;e.pendingContext?A0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&A0(t,e.context,!1),yg(t,e.containerInfo)}function q0(t,e,n,r,i){return No(),dg(i),e.flags|=256,Xt(t,e,n,r),e.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function Fp(t){return{baseLanes:t,cachePool:null,transitions:null}}function IE(t,e,n){var r=e.pendingProps,i=et.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(et,i&1),t===null)return Pp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yd(o,r,0,null),t=vs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Fp(n),e.memoizedState=Vp,t):Sg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return eA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ri(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ri(a,s):(s=vs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Fp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Vp,r}return s=t.child,t=s.sibling,r=Ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sg(t,e){return e=Yd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wu(t,e,n,r){return r!==null&&dg(r),jo(e,t.child,null,n),t=Sg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ef(Error(ae(422))),Wu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yd({mode:"visible",children:r.children},i,0,null),s=vs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&jo(e,t.child,null,o),e.child.memoizedState=Fp(o),e.memoizedState=Vp,s);if(!(e.mode&1))return Wu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=Ef(s,r,void 0),Wu(t,e,o,r)}if(a=(o&t.childLanes)!==0,an||a){if(r=Ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zr(t,i),Xn(r,t,i,-1))}return Pg(),r=Ef(Error(ae(421))),Wu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gn=ki(i.nextSibling),_n=e,Xe=!0,Gn=null,t!==null&&(kn[In++]=Pr,kn[In++]=Nr,kn[In++]=bs,Pr=t.id,Nr=t.overflow,bs=e),e=Sg(e,r.children),e.flags|=4096,e)}function G0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Np(t.return,e,n)}function bf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function CE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G0(t,n,e);else if(t.tag===19)G0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bf(e,!0,n,null,s);break;case"together":bf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ss|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tA(t,e,n){switch(e.tag){case 3:kE(e),No();break;case 5:eE(e);break;case 1:un(e.type)&&Yc(e);break;case 4:yg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(Zc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?IE(t,e,n):(qe(et,et.current&1),t=Br(t,e,n),t!==null?t.sibling:null);qe(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,TE(t,e,n)}return Br(t,e,n)}var AE,$p,RE,PE;AE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$p=function(){};RE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fs(fr.current);var s=null;switch(n){case"input":i=lp(t,i),r=lp(t,r),s=[];break;case"select":i=it({},i,{value:void 0}),r=it({},r,{value:void 0}),s=[];break;case"textarea":i=dp(t,i),r=dp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kc)}fp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};PE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ra(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nA(t,e,n){var r=e.pendingProps;switch(cg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return un(e.type)&&Qc(),$t(e),null;case 3:return r=e.stateNode,Oo(),Ye(ln),Ye(Gt),_g(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(Kp(Gn),Gn=null))),$p(t,e),$t(e),null;case 5:vg(e);var i=fs(Tl.current);if(n=e.type,t!==null&&e.stateNode!=null)RE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return $t(e),null}if(t=fs(fr.current),Bu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[cr]=e,r[El]=s,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<Va.length;i++)Ke(Va[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":n0(r,s),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ke("invalid",r);break;case"textarea":i0(r,s),Ke("invalid",r)}fp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&zu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zu(r.textContent,a,t),i=["children",""+a]):hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Ou(r),r0(r,s,!0);break;case"textarea":Ou(r),s0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cr]=e,t[El]=r,AE(t,e,!1,!1),e.stateNode=t;e:{switch(o=pp(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<Va.length;i++)Ke(Va[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":n0(t,r),i=lp(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=it({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":i0(t,r),i=dp(t,r),Ke("invalid",t);break;default:i=r}fp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?lx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ox(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fl(t,l):typeof l=="number"&&fl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ke("scroll",t):l!=null&&Qm(t,s,l,o))}switch(n){case"input":Ou(t),r0(t,r,!1);break;case"textarea":Ou(t),s0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Li(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?yo(t,!!r.multiple,s,!1):r.defaultValue!=null&&yo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)PE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=fs(Tl.current),fs(fr.current),Bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(s=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:zu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return $t(e),null;case 13:if(Ye(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&gn!==null&&e.mode&1&&!(e.flags&128))Qx(),No(),e.flags|=98560,s=!1;else if(s=Bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[cr]=e}else No(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),s=!1}else Gn!==null&&(Kp(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?wt===0&&(wt=3):Pg())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Oo(),$p(t,e),t===null&&wl(e.stateNode.containerInfo),$t(e),null;case 10:return pg(e.type._context),$t(e),null;case 17:return un(e.type)&&Qc(),$t(e),null;case 19:if(Ye(et),s=e.memoizedState,s===null)return $t(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ra(s,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nd(t),o!==null){for(e.flags|=128,Ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(et,et.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>Lo&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=nd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xe)return $t(e),null}else 2*dt()-s.renderingStartTime>Lo&&n!==1073741824&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=et.current,qe(et,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Rg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function rA(t,e){switch(cg(e),e.tag){case 1:return un(e.type)&&Qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oo(),Ye(ln),Ye(Gt),_g(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vg(e),null;case 13:if(Ye(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));No()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(et),null;case 4:return Oo(),null;case 10:return pg(e.type._context),null;case 22:case 23:return Rg(),null;case 24:return null;default:return null}}var qu=!1,Bt=!1,iA=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function Up(t,e,n){try{n()}catch(r){lt(t,e,r)}}var K0=!1;function sA(t,e){if(Tp=Wc,t=Lx(),lg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sp={focusedElem:t,selectionRange:n},Wc=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,E=v.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Wn(e.type,g),E);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(N){lt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return v=K0,K0=!1,v}function el(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Up(e,n,s)}i=i.next}while(i!==r)}}function Kd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NE(t){var e=t.alternate;e!==null&&(t.alternate=null,NE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[El],delete e[Cp],delete e[UC],delete e[zC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jE(t){return t.tag===5||t.tag===3||t.tag===4}function Q0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kc));else if(r!==4&&(t=t.child,t!==null))for(Bp(t,e,n),t=t.sibling;t!==null;)Bp(t,e,n),t=t.sibling}function Hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hp(t,e,n),t=t.sibling;t!==null;)Hp(t,e,n),t=t.sibling}var Pt=null,qn=!1;function ai(t,e,n){for(n=n.child;n!==null;)OE(t,e,n),n=n.sibling}function OE(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount($d,n)}catch{}switch(n.tag){case 5:Bt||ho(n,e);case 6:var r=Pt,i=qn;Pt=null,ai(t,e,n),Pt=r,qn=i,Pt!==null&&(qn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(qn?(t=Pt,n=n.stateNode,t.nodeType===8?gf(t.parentNode,n):t.nodeType===1&&gf(t,n),yl(t)):gf(Pt,n.stateNode));break;case 4:r=Pt,i=qn,Pt=n.stateNode.containerInfo,qn=!0,ai(t,e,n),Pt=r,qn=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Up(n,e,o),i=i.next}while(i!==r)}ai(t,e,n);break;case 1:if(!Bt&&(ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}ai(t,e,n);break;case 21:ai(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,ai(t,e,n),Bt=r):ai(t,e,n);break;default:ai(t,e,n)}}function Y0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iA),e.forEach(function(r){var i=pA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,qn=!1;break e;case 3:Pt=a.stateNode.containerInfo,qn=!0;break e;case 4:Pt=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(Pt===null)throw Error(ae(160));OE(s,o,i),Pt=null,qn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){lt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DE(e,t),e=e.sibling}function DE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),or(t),r&4){try{el(3,t,t.return),Kd(3,t)}catch(g){lt(t,t.return,g)}try{el(5,t,t.return)}catch(g){lt(t,t.return,g)}}break;case 1:Hn(e,t),or(t),r&512&&n!==null&&ho(n,n.return);break;case 5:if(Hn(e,t),or(t),r&512&&n!==null&&ho(n,n.return),t.flags&32){var i=t.stateNode;try{fl(i,"")}catch(g){lt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rx(i,s),pp(a,o);var u=pp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?lx(i,f):h==="dangerouslySetInnerHTML"?ox(i,f):h==="children"?fl(i,f):Qm(i,h,f,u)}switch(a){case"input":up(i,s);break;case"textarea":ix(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?yo(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?yo(i,!!s.multiple,s.defaultValue,!0):yo(i,!!s.multiple,s.multiple?[]:"",!1))}i[El]=s}catch(g){lt(t,t.return,g)}}break;case 6:if(Hn(e,t),or(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){lt(t,t.return,g)}}break;case 3:if(Hn(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(e.containerInfo)}catch(g){lt(t,t.return,g)}break;case 4:Hn(e,t),or(t);break;case 13:Hn(e,t),or(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cg=dt())),r&4&&Y0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||h,Hn(e,t),Bt=u):Hn(e,t),or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ge=t,h=t.child;h!==null;){for(f=ge=h;ge!==null;){switch(p=ge,m=p.child,p.tag){case 0:case 11:case 14:case 15:el(4,p,p.return);break;case 1:ho(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){lt(r,n,g)}}break;case 5:ho(p,p.return);break;case 22:if(p.memoizedState!==null){J0(f);continue}}m!==null?(m.return=p,ge=m):J0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ax("display",o))}catch(g){lt(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){lt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hn(e,t),or(t),r&4&&Y0(t);break;case 21:break;default:Hn(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jE(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fl(i,""),r.flags&=-33);var s=Q0(t);Hp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Q0(t);Bp(t,a,o);break;default:throw Error(ae(161))}}catch(l){lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oA(t,e,n){ge=t,LE(t)}function LE(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=qu;var u=Bt;if(qu=o,(Bt=l)&&!u)for(ge=i;ge!==null;)o=ge,l=o.child,o.tag===22&&o.memoizedState!==null?Z0(i):l!==null?(l.return=o,ge=l):Z0(i);for(;s!==null;)ge=s,LE(s),s=s.sibling;ge=i,qu=a,Bt=u}X0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):X0(t)}}function X0(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||Kd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&D0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&yl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Bt||e.flags&512&&zp(e)}catch(p){lt(e,e.return,p)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function J0(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function Z0(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kd(4,e)}catch(l){lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lt(e,i,l)}}var s=e.return;try{zp(e)}catch(l){lt(e,s,l)}break;case 5:var o=e.return;try{zp(e)}catch(l){lt(e,o,l)}}}catch(l){lt(e,e.return,l)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var aA=Math.ceil,sd=Yr.ReactCurrentDispatcher,kg=Yr.ReactCurrentOwner,Nn=Yr.ReactCurrentBatchConfig,Me=0,Ct=null,pt=null,Ot=0,mn=0,fo=Ki(0),wt=0,Cl=null,Ss=0,Qd=0,Ig=0,tl=null,sn=null,Cg=0,Lo=1/0,Cr=null,od=!1,Wp=null,Ci=null,Gu=!1,wi=null,ad=0,nl=0,qp=null,xc=-1,Ec=0;function Zt(){return Me&6?dt():xc!==-1?xc:xc=dt()}function Ai(t){return t.mode&1?Me&2&&Ot!==0?Ot&-Ot:HC.transition!==null?(Ec===0&&(Ec=wx()),Ec):(t=ze,t!==0||(t=window.event,t=t===void 0?16:Ix(t.type)),t):1}function Xn(t,e,n,r){if(50<nl)throw nl=0,qp=null,Error(ae(185));Hl(t,n,r),(!(Me&2)||t!==Ct)&&(t===Ct&&(!(Me&2)&&(Qd|=n),wt===4&&pi(t,Ot)),cn(t,r),n===1&&Me===0&&!(e.mode&1)&&(Lo=dt()+500,Wd&&Qi()))}function cn(t,e){var n=t.callbackNode;H2(t,e);var r=Hc(t,t===Ct?Ot:0);if(r===0)n!==null&&l0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&l0(n),e===1)t.tag===0?BC(e_.bind(null,t)):qx(e_.bind(null,t)),FC(function(){!(Me&6)&&Qi()}),n=null;else{switch(xx(r)){case 1:n=eg;break;case 4:n=vx;break;case 16:n=Bc;break;case 536870912:n=_x;break;default:n=Bc}n=HE(n,ME.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ME(t,e){if(xc=-1,Ec=0,Me&6)throw Error(ae(327));var n=t.callbackNode;if(Eo()&&t.callbackNode!==n)return null;var r=Hc(t,t===Ct?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ld(t,r);else{e=r;var i=Me;Me|=2;var s=FE();(Ct!==t||Ot!==e)&&(Cr=null,Lo=dt()+500,ys(t,e));do try{cA();break}catch(a){VE(t,a)}while(1);fg(),sd.current=s,Me=i,pt!==null?e=0:(Ct=null,Ot=0,e=wt)}if(e!==0){if(e===2&&(i=_p(t),i!==0&&(r=i,e=Gp(t,i))),e===1)throw n=Cl,ys(t,0),pi(t,r),cn(t,dt()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!lA(i)&&(e=ld(t,r),e===2&&(s=_p(t),s!==0&&(r=s,e=Gp(t,s))),e===1))throw n=Cl,ys(t,0),pi(t,r),cn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:as(t,sn,Cr);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=Cg+500-dt(),10<e)){if(Hc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ip(as.bind(null,t,sn,Cr),e);break}as(t,sn,Cr);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aA(r/1960))-r,10<r){t.timeoutHandle=Ip(as.bind(null,t,sn,Cr),r);break}as(t,sn,Cr);break;case 5:as(t,sn,Cr);break;default:throw Error(ae(329))}}}return cn(t,dt()),t.callbackNode===n?ME.bind(null,t):null}function Gp(t,e){var n=tl;return t.current.memoizedState.isDehydrated&&(ys(t,e).flags|=256),t=ld(t,e),t!==2&&(e=sn,sn=n,e!==null&&Kp(e)),t}function Kp(t){sn===null?sn=t:sn.push.apply(sn,t)}function lA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~Ig,e&=~Qd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function e_(t){if(Me&6)throw Error(ae(327));Eo();var e=Hc(t,0);if(!(e&1))return cn(t,dt()),null;var n=ld(t,e);if(t.tag!==0&&n===2){var r=_p(t);r!==0&&(e=r,n=Gp(t,r))}if(n===1)throw n=Cl,ys(t,0),pi(t,e),cn(t,dt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,as(t,sn,Cr),cn(t,dt()),null}function Ag(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(Lo=dt()+500,Wd&&Qi())}}function ks(t){wi!==null&&wi.tag===0&&!(Me&6)&&Eo();var e=Me;Me|=1;var n=Nn.transition,r=ze;try{if(Nn.transition=null,ze=1,t)return t()}finally{ze=r,Nn.transition=n,Me=e,!(Me&6)&&Qi()}}function Rg(){mn=fo.current,Ye(fo)}function ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VC(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(cg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qc();break;case 3:Oo(),Ye(ln),Ye(Gt),_g();break;case 5:vg(r);break;case 4:Oo();break;case 13:Ye(et);break;case 19:Ye(et);break;case 10:pg(r.type._context);break;case 22:case 23:Rg()}n=n.return}if(Ct=t,pt=t=Ri(t.current,null),Ot=mn=e,wt=0,Cl=null,Ig=Qd=Ss=0,sn=tl=null,hs!==null){for(e=0;e<hs.length;e++)if(n=hs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hs=null}return t}function VE(t,e){do{var n=pt;try{if(fg(),vc.current=id,rd){for(var r=rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rd=!1}if(Ts=0,St=_t=rt=null,Za=!1,Sl=0,kg.current=null,n===null||n.return===null){wt=1,Cl=e,pt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=U0(o);if(m!==null){m.flags&=-257,z0(m,o,a,s,e),m.mode&1&&$0(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){$0(s,u,e),Pg();break e}l=Error(ae(426))}}else if(Xe&&a.mode&1){var E=U0(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),z0(E,o,a,s,e),dg(Do(l,a));break e}}s=l=Do(l,a),wt!==4&&(wt=2),tl===null?tl=[s]:tl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=xE(s,l,e);O0(s,y);break e;case 1:a=l;var _=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ci===null||!Ci.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=EE(s,a,e);O0(s,N);break e}}s=s.return}while(s!==null)}UE(n)}catch(O){e=O,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(1)}function FE(){var t=sd.current;return sd.current=id,t===null?id:t}function Pg(){(wt===0||wt===3||wt===2)&&(wt=4),Ct===null||!(Ss&268435455)&&!(Qd&268435455)||pi(Ct,Ot)}function ld(t,e){var n=Me;Me|=2;var r=FE();(Ct!==t||Ot!==e)&&(Cr=null,ys(t,e));do try{uA();break}catch(i){VE(t,i)}while(1);if(fg(),Me=n,sd.current=r,pt!==null)throw Error(ae(261));return Ct=null,Ot=0,wt}function uA(){for(;pt!==null;)$E(pt)}function cA(){for(;pt!==null&&!D2();)$E(pt)}function $E(t){var e=BE(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?UE(t):pt=e,kg.current=null}function UE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rA(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,pt=null;return}}else if(n=nA(n,e,mn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);wt===0&&(wt=5)}function as(t,e,n){var r=ze,i=Nn.transition;try{Nn.transition=null,ze=1,dA(t,e,n,r)}finally{Nn.transition=i,ze=r}return null}function dA(t,e,n,r){do Eo();while(wi!==null);if(Me&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(W2(t,s),t===Ct&&(pt=Ct=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gu||(Gu=!0,HE(Bc,function(){return Eo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nn.transition,Nn.transition=null;var o=ze;ze=1;var a=Me;Me|=4,kg.current=null,sA(t,n),DE(n,t),PC(Sp),Wc=!!Tp,Sp=Tp=null,t.current=n,oA(n),L2(),Me=a,ze=o,Nn.transition=s}else t.current=n;if(Gu&&(Gu=!1,wi=t,ad=i),s=t.pendingLanes,s===0&&(Ci=null),F2(n.stateNode),cn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(od)throw od=!1,t=Wp,Wp=null,t;return ad&1&&t.tag!==0&&Eo(),s=t.pendingLanes,s&1?t===qp?nl++:(nl=0,qp=t):nl=0,Qi(),null}function Eo(){if(wi!==null){var t=xx(ad),e=Nn.transition,n=ze;try{if(Nn.transition=null,ze=16>t?16:t,wi===null)var r=!1;else{if(t=wi,wi=null,ad=0,Me&6)throw Error(ae(331));var i=Me;for(Me|=4,ge=t.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ge=u;ge!==null;){var h=ge;switch(h.tag){case 0:case 11:case 15:el(8,h,s)}var f=h.child;if(f!==null)f.return=h,ge=f;else for(;ge!==null;){h=ge;var p=h.sibling,m=h.return;if(NE(h),h===u){ge=null;break}if(p!==null){p.return=m,ge=p;break}ge=m}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:el(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ge=y;break e}ge=s.return}}var _=t.current;for(ge=_;ge!==null;){o=ge;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ge=x;else e:for(o=_;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kd(9,a)}}catch(O){lt(a,a.return,O)}if(a===o){ge=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,ge=N;break e}ge=a.return}}if(Me=i,Qi(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot($d,t)}catch{}r=!0}return r}finally{ze=n,Nn.transition=e}}return!1}function t_(t,e,n){e=Do(n,e),e=xE(t,e,1),t=Ii(t,e,1),e=Zt(),t!==null&&(Hl(t,1,e),cn(t,e))}function lt(t,e,n){if(t.tag===3)t_(t,t,n);else for(;e!==null;){if(e.tag===3){t_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ci===null||!Ci.has(r))){t=Do(n,t),t=EE(e,t,1),e=Ii(e,t,1),t=Zt(),e!==null&&(Hl(e,1,t),cn(e,t));break}}e=e.return}}function hA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Ot&n)===n&&(wt===4||wt===3&&(Ot&130023424)===Ot&&500>dt()-Cg?ys(t,0):Ig|=n),cn(t,e)}function zE(t,e){e===0&&(t.mode&1?(e=Mu,Mu<<=1,!(Mu&130023424)&&(Mu=4194304)):e=1);var n=Zt();t=zr(t,e),t!==null&&(Hl(t,e,n),cn(t,n))}function fA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zE(t,n)}function pA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),zE(t,n)}var BE;BE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,tA(t,e,n);an=!!(t.flags&131072)}else an=!1,Xe&&e.flags&1048576&&Gx(e,Jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wc(t,e),t=e.pendingProps;var i=Po(e,Gt.current);xo(e,n),i=xg(null,e,r,t,i,n);var s=Eg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(s=!0,Yc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gg(e),i.updater=Gd,e.stateNode=i,i._reactInternals=e,Op(e,r,t,n),e=Mp(null,e,r,!0,s,n)):(e.tag=0,Xe&&s&&ug(e),Xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gA(r),t=Wn(r,t),i){case 0:e=Lp(null,e,r,t,n);break e;case 1:e=W0(null,e,r,t,n);break e;case 11:e=B0(null,e,r,t,n);break e;case 14:e=H0(null,e,r,Wn(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Lp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),W0(t,e,r,i,n);case 3:e:{if(kE(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Zx(t,e),td(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Do(Error(ae(423)),e),e=q0(t,e,r,n,i);break e}else if(r!==i){i=Do(Error(ae(424)),e),e=q0(t,e,r,n,i);break e}else for(gn=ki(e.stateNode.containerInfo.firstChild),_n=e,Xe=!0,Gn=null,n=Xx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(No(),r===i){e=Br(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return eE(e),t===null&&Pp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,kp(r,i)?o=null:s!==null&&kp(r,s)&&(e.flags|=32),SE(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&Pp(e),null;case 13:return IE(t,e,n);case 4:return yg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jo(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),B0(t,e,r,i,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qe(Zc,r._currentValue),r._currentValue=o,s!==null)if(Jn(s.value,o)){if(s.children===i.children&&!ln.current){e=Br(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Lr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Np(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Np(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xo(e,n),i=Ln(i),r=r(i),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),H0(t,e,r,i,n);case 15:return bE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),wc(t,e),e.tag=1,un(r)?(t=!0,Yc(e)):t=!1,xo(e,n),wE(e,r,i),Op(e,r,i,n),Mp(null,e,r,!0,t,n);case 19:return CE(t,e,n);case 22:return TE(t,e,n)}throw Error(ae(156,e.tag))};function HE(t,e){return yx(t,e)}function mA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new mA(t,e,n,r)}function Ng(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gA(t){if(typeof t=="function")return Ng(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xm)return 11;if(t===Jm)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ng(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case no:return vs(n.children,i,s,e);case Ym:o=8,i|=8;break;case ip:return t=Rn(12,n,e,i|2),t.elementType=ip,t.lanes=s,t;case sp:return t=Rn(13,n,e,i),t.elementType=sp,t.lanes=s,t;case op:return t=Rn(19,n,e,i),t.elementType=op,t.lanes=s,t;case ex:return Yd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J1:o=10;break e;case Z1:o=9;break e;case Xm:o=11;break e;case Jm:o=14;break e;case ci:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function vs(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Yd(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=ex,t.lanes=n,t.stateNode={isHidden:!1},t}function Tf(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function Sf(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sf(0),this.expirationTimes=sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jg(t,e,n,r,i,s,o,a,l){return t=new yA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gg(s),t}function vA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WE(t){if(!t)return Mi;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(un(n))return Wx(t,n,e)}return e}function qE(t,e,n,r,i,s,o,a,l){return t=jg(n,r,!0,t,i,s,o,a,l),t.context=WE(null),n=t.current,r=Zt(),i=Ai(n),s=Lr(r,i),s.callback=e??null,Ii(n,s,i),t.current.lanes=i,Hl(t,i,r),cn(t,r),t}function Xd(t,e,n,r){var i=e.current,s=Zt(),o=Ai(i);return n=WE(n),e.context===null?e.context=n:e.pendingContext=n,e=Lr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ii(i,e,o),t!==null&&(Xn(t,i,o,s),yc(t,i,o)),o}function ud(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function n_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Og(t,e){n_(t,e),(t=t.alternate)&&n_(t,e)}function _A(){return null}var GE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dg(t){this._internalRoot=t}Jd.prototype.render=Dg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Xd(t,e,null,null)};Jd.prototype.unmount=Dg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ks(function(){Xd(null,t,null,null)}),e[Ur]=null}};function Jd(t){this._internalRoot=t}Jd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&kx(t)}};function Lg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function r_(){}function wA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ud(o);s.call(u)}}var o=qE(e,r,t,0,null,!1,!1,"",r_);return t._reactRootContainer=o,t[Ur]=o.current,wl(t.nodeType===8?t.parentNode:t),ks(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ud(l);a.call(u)}}var l=jg(t,0,!1,null,null,!1,!1,"",r_);return t._reactRootContainer=l,t[Ur]=l.current,wl(t.nodeType===8?t.parentNode:t),ks(function(){Xd(e,l,n,r)}),l}function eh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ud(o);a.call(l)}}Xd(e,o,t,i)}else o=wA(n,e,t,i,r);return ud(o)}Ex=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ma(e.pendingLanes);n!==0&&(tg(e,n|1),cn(e,dt()),!(Me&6)&&(Lo=dt()+500,Qi()))}break;case 13:ks(function(){var r=zr(t,1);if(r!==null){var i=Zt();Xn(r,t,1,i)}}),Og(t,1)}};ng=function(t){if(t.tag===13){var e=zr(t,134217728);if(e!==null){var n=Zt();Xn(e,t,134217728,n)}Og(t,134217728)}};bx=function(t){if(t.tag===13){var e=Ai(t),n=zr(t,e);if(n!==null){var r=Zt();Xn(n,t,e,r)}Og(t,e)}};Tx=function(){return ze};Sx=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};gp=function(t,e,n){switch(e){case"input":if(up(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hd(r);if(!i)throw Error(ae(90));nx(r),up(r,i)}}}break;case"textarea":ix(t,n);break;case"select":e=n.value,e!=null&&yo(t,!!n.multiple,e,!1)}};dx=Ag;hx=ks;var xA={usingClientEntryPoint:!1,Events:[ql,oo,Hd,ux,cx,Ag]},Pa={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EA={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mx(t),t===null?null:t.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||_A,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{$d=Ku.inject(EA),hr=Ku}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xA;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lg(e))throw Error(ae(200));return vA(t,e,null,n)};En.createRoot=function(t,e){if(!Lg(t))throw Error(ae(299));var n=!1,r="",i=GE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jg(t,1,!1,null,null,n,!1,r,i),t[Ur]=e.current,wl(t.nodeType===8?t.parentNode:t),new Dg(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=mx(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return ks(t)};En.hydrate=function(t,e,n){if(!Zd(e))throw Error(ae(200));return eh(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!Lg(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=GE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qE(e,null,t,1,n??null,i,!1,s,o),t[Ur]=e.current,wl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jd(e)};En.render=function(t,e,n){if(!Zd(e))throw Error(ae(200));return eh(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Zd(t))throw Error(ae(40));return t._reactRootContainer?(ks(function(){eh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};En.unstable_batchedUpdates=Ag;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zd(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return eh(t,e,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function KE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KE)}catch(t){console.error(t)}}KE(),K1.exports=En;var jn=K1.exports,i_=jn;np.createRoot=i_.createRoot,np.hydrateRoot=i_.hydrateRoot;const bA="modulepreload",TA=function(t){return"/"+t},s_={},SA=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=TA(s),s in s_)return;s_[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":bA,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.parse=NA;Mg.serialize=jA;const kA=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,IA=/^[\u0021-\u003A\u003C-\u007E]*$/,CA=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,AA=/^[\u0020-\u003A\u003D-\u007E]*$/,RA=Object.prototype.toString,PA=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function NA(t,e){const n=new PA,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||OA;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const u=o_(t,s,o),h=a_(t,o,u),f=t.slice(u,h);if(n[f]===void 0){let p=o_(t,o+1,l),m=a_(t,l,p);const v=i(t.slice(p,m));n[f]=v}s=l+1}while(s<r);return n}function o_(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function a_(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function jA(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!kA.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!IA.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!CA.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!AA.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!DA(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function OA(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function DA(t){return RA.call(t)==="[object Date]"}var l_="popstate";function LA(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Qp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Al(i)}return VA(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MA(){return Math.random().toString(36).substring(2,10)}function u_(t,e){return{usr:t.state,key:t.key,idx:e}}function Qp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:n,key:e&&e.key||r||MA()}}function Al({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Go(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function VA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let E=h(),y=E==null?null:E-u;u=E,l&&l({action:a,location:g.location,delta:y})}function p(E,y){a="PUSH";let _=Qp(g.location,E,y);n&&n(_,E),u=h()+1;let x=u_(_,u),N=g.createHref(_);try{o.pushState(x,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(N)}s&&l&&l({action:a,location:g.location,delta:1})}function m(E,y){a="REPLACE";let _=Qp(g.location,E,y);n&&n(_,E),u=h();let x=u_(_,u),N=g.createHref(_);o.replaceState(x,"",N),s&&l&&l({action:a,location:g.location,delta:0})}function v(E){return FA(E)}let g={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(l_,f),l=E,()=>{i.removeEventListener(l_,f),l=null}},createHref(E){return e(i,E)},createURL:v,encodeLocation(E){let y=v(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:m,go(E){return o.go(E)}};return g}function FA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Al(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function QE(t,e,n="/"){return $A(t,e,n,!1)}function $A(t,e,n,r){let i=typeof e=="string"?Go(e):e,s=Hr(i.pathname||"/",n);if(s==null)return null;let o=YE(t);UA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=JA(s);a=YA(o[l],u,r)}return a}function YE(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Mr([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Je(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),YE(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:KA(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of XE(s.path))i(s,o,l)}),e}function XE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=XE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function UA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var zA=/^:[\w-]+$/,BA=3,HA=2,WA=1,qA=10,GA=-2,c_=t=>t==="*";function KA(t,e){let n=t.split("/"),r=n.length;return n.some(c_)&&(r+=GA),e&&(r+=HA),n.filter(i=>!c_(i)).reduce((i,s)=>i+(zA.test(s)?BA:s===""?WA:qA),r)}function QA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YA(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=cd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=cd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Mr([s,f.pathname]),pathnameBase:nR(Mr([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Mr([s,f.pathnameBase]))}return o}function cd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:f},p)=>{if(h==="*"){let v=a[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[p];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function XA(t,e=!1,n=!0){Zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function JA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Go(t):t;return{pathname:n?n.startsWith("/")?n:eR(n,e):e,search:rR(r),hash:iR(i)}}function eR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vg(t){let e=tR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Fg(t,e,n,r=!1){let i;typeof t=="string"?i=Go(t):(i={...t},Je(!i.pathname||!i.pathname.includes("?"),kf("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),kf("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),kf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=ZA(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Mr=t=>t.join("/").replace(/\/\/+/g,"/"),nR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var JE=["POST","PUT","PATCH","DELETE"];new Set(JE);var oR=["GET",...JE];new Set(oR);var Ko=T.createContext(null);Ko.displayName="DataRouter";var th=T.createContext(null);th.displayName="DataRouterState";var ZE=T.createContext({isTransitioning:!1});ZE.displayName="ViewTransition";var aR=T.createContext(new Map);aR.displayName="Fetchers";var lR=T.createContext(null);lR.displayName="Await";var ir=T.createContext(null);ir.displayName="Navigation";var Kl=T.createContext(null);Kl.displayName="Location";var Fn=T.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var $g=T.createContext(null);$g.displayName="RouteError";function uR(t,{relative:e}={}){Je(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(ir),{hash:i,pathname:s,search:o}=Ql(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Mr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Qo(){return T.useContext(Kl)!=null}function nn(){return Je(Qo(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Kl).location}var eb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tb(t){T.useContext(ir).static||T.useLayoutEffect(t)}function $n(){let{isDataRoute:t}=T.useContext(Fn);return t?TR():cR()}function cR(){Je(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Ko),{basename:e,navigator:n}=T.useContext(ir),{matches:r}=T.useContext(Fn),{pathname:i}=nn(),s=JSON.stringify(Vg(r)),o=T.useRef(!1);return tb(()=>{o.current=!0}),T.useCallback((l,u={})=>{if(Zn(o.current,eb),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=Fg(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Mr([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,s,i,t])}var dR=T.createContext(null);function hR(t){let e=T.useContext(Fn).outlet;return e&&T.createElement(dR.Provider,{value:t},e)}function nh(){let{matches:t}=T.useContext(Fn),e=t[t.length-1];return e?e.params:{}}function Ql(t,{relative:e}={}){let{matches:n}=T.useContext(Fn),{pathname:r}=nn(),i=JSON.stringify(Vg(n));return T.useMemo(()=>Fg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function fR(t,e){return nb(t,e)}function nb(t,e,n,r){var y;Je(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(ir),{matches:s}=T.useContext(Fn),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let _=h&&h.path||"";rb(l,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let f=nn(),p;if(e){let _=typeof e=="string"?Go(e):e;Je(u==="/"||((y=_.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=f;let m=p.pathname||"/",v=m;if(u!=="/"){let _=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=QE(t,{pathname:v});Zn(h||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Zn(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=vR(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Mr([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:Mr([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&E?T.createElement(Kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},E):E}function pR(){let t=bR(),e=sR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,o)}var mR=T.createElement(pR,null),gR=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?T.createElement(Fn.Provider,{value:this.props.routeContext},T.createElement($g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yR({routeContext:t,match:e,children:n}){let r=T.useContext(Ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Fn.Provider,{value:t},n)}function vR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Je(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:h,errors:f}=n,p=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,h)=>{let f,p=!1,m=null,v=null;n&&(f=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||mR,o&&(a<0&&h===0?(rb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):a===h&&(p=!0,v=u.route.hydrateFallbackElement||null)));let g=e.concat(i.slice(0,h+1)),E=()=>{let y;return f?y=m:p?y=v:u.route.Component?y=T.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,T.createElement(yR,{match:u,routeContext:{outlet:l,matches:g,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?T.createElement(gR,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:E(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):E()},null)}function Ug(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _R(t){let e=T.useContext(Ko);return Je(e,Ug(t)),e}function wR(t){let e=T.useContext(th);return Je(e,Ug(t)),e}function xR(t){let e=T.useContext(Fn);return Je(e,Ug(t)),e}function zg(t){let e=xR(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ER(){return zg("useRouteId")}function bR(){var r;let t=T.useContext($g),e=wR("useRouteError"),n=zg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function TR(){let{router:t}=_R("useNavigate"),e=zg("useNavigate"),n=T.useRef(!1);return tb(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{Zn(n.current,eb),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var d_={};function rb(t,e,n){!e&&!d_[t]&&(d_[t]=!0,Zn(!1,n))}T.memo(SR);function SR({routes:t,future:e,state:n}){return nb(t,void 0,n,e)}function dd({to:t,replace:e,state:n,relative:r}){Je(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(ir);Zn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(Fn),{pathname:o}=nn(),a=$n(),l=Fg(t,Vg(s),o,r==="path"),u=JSON.stringify(l);return T.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function kR(t){return hR(t.context)}function ut(t){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Je(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Go(n));let{pathname:l="/",search:u="",hash:h="",state:f=null,key:p="default"}=n,m=T.useMemo(()=>{let v=Hr(l,o);return v==null?null:{location:{pathname:v,search:u,hash:h,state:f,key:p},navigationType:r}},[o,l,u,h,f,p,r]);return Zn(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:T.createElement(ir.Provider,{value:a},T.createElement(Kl.Provider,{children:e,value:m}))}function CR({children:t,location:e}){return fR(Yp(t),e)}function Yp(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Yp(r.props.children,s));return}Je(r.type===ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Yp(r.props.children,s)),n.push(o)}),n}var Tc="get",Sc="application/x-www-form-urlencoded";function rh(t){return t!=null&&typeof t.tagName=="string"}function AR(t){return rh(t)&&t.tagName.toLowerCase()==="button"}function RR(t){return rh(t)&&t.tagName.toLowerCase()==="form"}function PR(t){return rh(t)&&t.tagName.toLowerCase()==="input"}function NR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jR(t,e){return t.button===0&&(!e||e==="_self")&&!NR(t)}var Qu=null;function OR(){if(Qu===null)try{new FormData(document.createElement("form"),0),Qu=!1}catch{Qu=!0}return Qu}var DR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function If(t){return t!=null&&!DR.has(t)?(Zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sc}"`),null):t}function LR(t,e){let n,r,i,s,o;if(RR(t)){let a=t.getAttribute("action");r=a?Hr(a,e):null,n=t.getAttribute("method")||Tc,i=If(t.getAttribute("enctype"))||Sc,s=new FormData(t)}else if(AR(t)||PR(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Hr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Tc,i=If(t.getAttribute("formenctype"))||If(a.getAttribute("enctype"))||Sc,s=new FormData(a,t),!OR()){let{name:u,type:h,value:f}=t;if(h==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,f)}}else{if(rh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tc,r=null,i=Sc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Bg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function MR(t,e){if(t.id in e)return e[t.id];try{let n=await SA(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VR(t){return t!=null&&typeof t.page=="string"}function FR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $R(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await MR(s,n);return o.links?o.links():[]}return[]}));return HR(r.flat(1).filter(FR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function h_(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var h;return n[u].pathname!==l.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var f;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function UR(t,e,{includeHydrateFallback:n}={}){return zR(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function zR(t){return[...new Set(t)]}function BR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function HR(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!VR(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(BR(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WR=new Set([100,101,204,205]);function qR(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Hr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function ib(){let t=T.useContext(Ko);return Bg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GR(){let t=T.useContext(th);return Bg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hg=T.createContext(void 0);Hg.displayName="FrameworkContext";function sb(){let t=T.useContext(Hg);return Bg(t,"You must render this element inside a <HydratedRouter> element"),t}function KR(t,e){let n=T.useContext(Hg),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,p=T.useRef(null);T.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let g=y=>{y.forEach(_=>{o(_.isIntersecting)})},E=new IntersectionObserver(g,{threshold:.5});return p.current&&E.observe(p.current),()=>{E.disconnect()}}},[t]),T.useEffect(()=>{if(r){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Na(a,m),onBlur:Na(l,v),onMouseEnter:Na(u,m),onMouseLeave:Na(h,v),onTouchStart:Na(f,m)}]:[!1,p,{}]}function Na(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QR({page:t,...e}){let{router:n}=ib(),r=T.useMemo(()=>QE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(XR,{page:t,matches:r,...e}):null}function YR(t){let{manifest:e,routeModules:n}=sb(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return $R(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function XR({page:t,matches:e,...n}){let r=nn(),{manifest:i,routeModules:s}=sb(),{basename:o}=ib(),{loaderData:a,matches:l}=GR(),u=T.useMemo(()=>h_(t,e,l,i,r,"data"),[t,e,l,i,r]),h=T.useMemo(()=>h_(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(e.forEach(y=>{var x;let _=i.routes[y.route.id];!_||!_.hasLoader||(!u.some(N=>N.route.id===y.route.id)&&y.route.id in a&&((x=s[y.route.id])!=null&&x.shouldRevalidate)||_.hasClientLoader?g=!0:v.add(y.route.id))}),v.size===0)return[];let E=qR(t,o);return g&&v.size>0&&E.searchParams.set("_routes",e.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[E.pathname+E.search]},[o,a,r,i,u,e,t,s]),p=T.useMemo(()=>UR(h,i),[h,i]),m=YR(h);return T.createElement(T.Fragment,null,f.map(v=>T.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>T.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:g})=>T.createElement("link",{key:v,...g})))}function JR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ob&&(window.__reactRouterVersion="7.6.3")}catch{}function ZR({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=LA({window:n,v5Compat:!0}));let i=r.current,[s,o]=T.useState({action:i.action,location:i.location}),a=T.useCallback(l=>{T.startTransition(()=>o(l))},[o]);return T.useLayoutEffect(()=>i.listen(a),[i,a]),T.createElement(IR,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var ab=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:f,...p},m){let{basename:v}=T.useContext(ir),g=typeof u=="string"&&ab.test(u),E,y=!1;if(typeof u=="string"&&g&&(E=u,ob))try{let k=new URL(window.location.href),P=u.startsWith("//")?new URL(k.protocol+u):new URL(u),L=Hr(P.pathname,v);P.origin===k.origin&&L!=null?u=L+P.search+P.hash:y=!0}catch{Zn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=uR(u,{relative:i}),[x,N,O]=KR(r,p),V=nP(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function S(k){e&&e(k),k.defaultPrevented||V(k)}let b=T.createElement("a",{...p,...O,href:E||_,onClick:y||s?e:S,ref:JR(m,N),target:l,"data-discover":!g&&n==="render"?"true":void 0});return x&&!g?T.createElement(T.Fragment,null,b,T.createElement(QR,{page:_})):b});tt.displayName="Link";var ls=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let f=Ql(o,{relative:u.relative}),p=nn(),m=T.useContext(th),{navigator:v,basename:g}=T.useContext(ir),E=m!=null&&aP(f)&&a===!0,y=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,_=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(_=_.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&g&&(x=Hr(x,g)||x);const N=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=_===y||!i&&_.startsWith(y)&&_.charAt(N)==="/",V=x!=null&&(x===y||!i&&x.startsWith(y)&&x.charAt(y.length)==="/"),S={isActive:O,isPending:V,isTransitioning:E},b=O?e:void 0,k;typeof r=="function"?k=r(S):k=[r,O?"active":null,V?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(S):s;return T.createElement(tt,{...u,"aria-current":b,className:k,ref:h,style:P,to:o,viewTransition:a},typeof l=="function"?l(S):l)});ls.displayName="NavLink";var eP=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Tc,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:f,...p},m)=>{let v=sP(),g=oP(a,{relative:u}),E=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&ab.test(a),_=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let N=x.nativeEvent.submitter,O=(N==null?void 0:N.getAttribute("formmethod"))||o;v(N||x.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:f})};return T.createElement("form",{ref:m,method:E,action:g,onSubmit:r?l:_,...p,"data-discover":!y&&t==="render"?"true":void 0})});eP.displayName="Form";function tP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lb(t){let e=T.useContext(Ko);return Je(e,tP(t)),e}function nP(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=$n(),l=nn(),u=Ql(t,{relative:s});return T.useCallback(h=>{if(jR(h,e)){h.preventDefault();let f=n!==void 0?n:Al(l)===Al(u);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var rP=0,iP=()=>`__${String(++rP)}__`;function sP(){let{router:t}=lb("useSubmit"),{basename:e}=T.useContext(ir),n=ER();return T.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=LR(r,e);if(i.navigate===!1){let h=i.fetcherKey||iP();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function oP(t,{relative:e}={}){let{basename:n}=T.useContext(ir),r=T.useContext(Fn);Je(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ql(t||".",{relative:e})},o=nn();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Mr([n,s.pathname])),Al(s)}function aP(t,e={}){let n=T.useContext(ZE);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lb("useViewTransitionState"),i=Ql(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Hr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Hr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cd(i.pathname,o)!=null||cd(i.pathname,s)!=null}[...WR];const lP=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[h],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ub(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new cP;const p=s<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dP=function(t){const e=ub(t);return cb.encodeByteArray(e,!0)},hd=function(t){return dP(t).replace(/\./g,"")},db=function(t){try{return cb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=()=>hP().__FIREBASE_DEFAULTS__,pP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&db(t[1]);return e&&JSON.parse(e)},ih=()=>{try{return lP()||fP()||pP()||mP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hb=t=>{var e,n;return(n=(e=ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gP=t=>{const e=hb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fb=()=>{var t;return(t=ih())===null||t===void 0?void 0:t.config},pb=t=>{var e;return(e=ih())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[hd(JSON.stringify(n)),hd(JSON.stringify(o)),a].join(".")}const rl={};function _P(){const t={prod:[],emulator:[]};for(const e of Object.keys(rl))rl[e]?t.emulator.push(e):t.prod.push(e);return t}function wP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let f_=!1;function gb(t,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||rl[t]===e||rl[t]||f_)return;rl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=_P().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{f_=!0,o()},p}function h(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=wP(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),E=document.getElementById(g)||document.createElement("a"),y=n("preprendIcon"),_=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;a(x),h(E,g);const N=u();l(_,y),x.append(_,v,E,N),document.body.appendChild(x)}s?(v.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function EP(){var t;const e=(t=ih())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kP(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IP(){return!EP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CP(){try{return typeof indexedDB=="object"}catch{return!1}}function AP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="FirebaseError";class Xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RP,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?PP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xr(i,a,r)}}function PP(t,e){return t.replace(NP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NP=/\{\$([^}]+)}/g;function jP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Is(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(p_(s)&&p_(o)){if(!Is(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function p_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $a(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OP(t,e){const n=new DP(t,e);return n.subscribe.bind(n)}class DP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cf),i.error===void 0&&(i.error=Cf),i.complete===void 0&&(i.complete=Cf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FP(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VP(t){return t===us?void 0:t}function FP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const UP={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},zP=je.INFO,BP={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},HP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wg{constructor(e){this.name=e,this._logLevel=zP,this._logHandler=HP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const WP=(t,e)=>e.some(n=>t instanceof n);let m_,g_;function qP(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GP(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yb=new WeakMap,Xp=new WeakMap,vb=new WeakMap,Af=new WeakMap,qg=new WeakMap;function KP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yb.set(n,t)}).catch(()=>{}),qg.set(e,t),e}function QP(t){if(Xp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xp.set(t,e)}let Jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YP(t){Jp=t(Jp)}function XP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rf(this),e,...n);return vb.set(r,e.sort?e.sort():[e]),Pi(r)}:GP().includes(t)?function(...e){return t.apply(Rf(this),e),Pi(yb.get(this))}:function(...e){return Pi(t.apply(Rf(this),e))}}function JP(t){return typeof t=="function"?XP(t):(t instanceof IDBTransaction&&QP(t),WP(t,qP())?new Proxy(t,Jp):t)}function Pi(t){if(t instanceof IDBRequest)return KP(t);if(Af.has(t))return Af.get(t);const e=JP(t);return e!==t&&(Af.set(t,e),qg.set(e,t)),e}const Rf=t=>qg.get(t);function ZP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Pi(o.result),l.oldVersion,l.newVersion,Pi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const eN=["get","getKey","getAll","getAllKeys","count"],tN=["put","add","delete","clear"],Pf=new Map;function y_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Pf.set(e,s),s}YP(t=>({...t,get:(e,n,r)=>y_(e,n)||t.get(e,n,r),has:(e,n)=>!!y_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zp="@firebase/app",v_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Wg("@firebase/app"),iN="@firebase/app-compat",sN="@firebase/analytics-compat",oN="@firebase/analytics",aN="@firebase/app-check-compat",lN="@firebase/app-check",uN="@firebase/auth",cN="@firebase/auth-compat",dN="@firebase/database",hN="@firebase/data-connect",fN="@firebase/database-compat",pN="@firebase/functions",mN="@firebase/functions-compat",gN="@firebase/installations",yN="@firebase/installations-compat",vN="@firebase/messaging",_N="@firebase/messaging-compat",wN="@firebase/performance",xN="@firebase/performance-compat",EN="@firebase/remote-config",bN="@firebase/remote-config-compat",TN="@firebase/storage",SN="@firebase/storage-compat",kN="@firebase/firestore",IN="@firebase/ai",CN="@firebase/firestore-compat",AN="firebase",RN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",PN={[Zp]:"fire-core",[iN]:"fire-core-compat",[oN]:"fire-analytics",[sN]:"fire-analytics-compat",[lN]:"fire-app-check",[aN]:"fire-app-check-compat",[uN]:"fire-auth",[cN]:"fire-auth-compat",[dN]:"fire-rtdb",[hN]:"fire-data-connect",[fN]:"fire-rtdb-compat",[pN]:"fire-fn",[mN]:"fire-fn-compat",[gN]:"fire-iid",[yN]:"fire-iid-compat",[vN]:"fire-fcm",[_N]:"fire-fcm-compat",[wN]:"fire-perf",[xN]:"fire-perf-compat",[EN]:"fire-rc",[bN]:"fire-rc-compat",[TN]:"fire-gcs",[SN]:"fire-gcs-compat",[kN]:"fire-fst",[CN]:"fire-fst-compat",[IN]:"fire-vertex","fire-js":"fire-js",[AN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Map,NN=new Map,tm=new Map;function __(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mo(t){const e=t.name;if(tm.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,t);for(const n of fd.values())__(n,t);for(const n of NN.values())__(n,t);return!0}function Gg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new Yl("app","Firebase",jN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=RN;function _b(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:em,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=fb()),!n)throw Ni.create("no-options");const s=fd.get(i);if(s){if(Is(n,s.options)&&Is(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}const o=new $P(i);for(const l of tm.values())o.addComponent(l);const a=new ON(n,r,o);return fd.set(i,a),a}function wb(t=em){const e=fd.get(t);if(!e&&t===em&&fb())return _b();if(!e)throw Ni.create("no-app",{appName:t});return e}function ji(t,e,n){var r;let i=(r=PN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(a.join(" "));return}Mo(new Cs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="firebase-heartbeat-database",LN=1,Rl="firebase-heartbeat-store";let Nf=null;function xb(){return Nf||(Nf=ZP(DN,LN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),Nf}async function MN(t){try{const n=(await xb()).transaction(Rl),r=await n.objectStore(Rl).get(Eb(t));return await n.done,r}catch(e){if(e instanceof Xr)Wr.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function w_(t,e){try{const r=(await xb()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,Eb(t)),await r.done}catch(n){if(n instanceof Xr)Wr.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(r.message)}}}function Eb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=1024,FN=30;class $N{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=x_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>FN){const o=BN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x_(),{heartbeatsToSend:r,unsentEntries:i}=UN(this._heartbeatsCache.heartbeats),s=hd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Wr.warn(n),""}}}function x_(){return new Date().toISOString().substring(0,10)}function UN(t,e=VN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),E_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),E_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CP()?AP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function E_(t){return hd(JSON.stringify({version:2,heartbeats:t})).length}function BN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){Mo(new Cs("platform-logger",e=>new nN(e),"PRIVATE")),Mo(new Cs("heartbeat",e=>new $N(e),"PRIVATE")),ji(Zp,v_,t),ji(Zp,v_,"esm2017"),ji("fire-js","")}HN("");function Kg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WN=bb,Tb=new Yl("auth","Firebase",bb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Wg("@firebase/auth");function qN(t,...e){pd.logLevel<=je.WARN&&pd.warn(`Auth (${Xo}): ${t}`,...e)}function kc(t,...e){pd.logLevel<=je.ERROR&&pd.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,...e){throw Qg(t,...e)}function pr(t,...e){return Qg(t,...e)}function Sb(t,e,n){const r=Object.assign(Object.assign({},WN()),{[e]:n});return new Yl("auth","Firebase",r).create(e,{appName:t.name})}function Vr(t){return Sb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Tb.create(t,...e)}function xe(t,e,...n){if(!t)throw Qg(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kc(e),new Error(e)}function qr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GN(){return b_()==="http:"||b_()==="https:"}function b_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GN()||TP()||"connection"in navigator)?navigator.onLine:!0}function QN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=xP()||SP()}get(){return KN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e){qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JN=new Jl(3e4,6e4);function Jr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zr(t,e,n,r,i={}){return Ib(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Xl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return bP()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Yo(t.emulatorConfig.host)&&(u.credentials="include"),kb.fetch()(await Cb(t,t.config.apiHost,n,a),u)})}async function Ib(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YN),e);try{const i=new ej(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Sb(t,h,u);er(t,h)}}catch(i){if(i instanceof Xr)throw i;er(t,"network-request-failed",{message:String(i)})}}async function Zl(t,e,n,r,i={}){const s=await Zr(t,e,n,r,i);return"mfaPendingCredential"in s&&er(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Cb(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Yg(t.config,i):`${t.config.apiScheme}://${i}`;return XN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function ZN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ej{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),JN.get())})}}function Yu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pr(t,e,r);return i.customData._tokenResponse=n,i}function T_(t){return t!==void 0&&t.enterprise!==void 0}class tj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nj(t,e){return Zr(t,"GET","/v2/recaptchaConfig",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(t,e){return Zr(t,"POST","/v1/accounts:delete",e)}async function md(t,e){return Zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ij(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=Xg(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:il(jf(i.auth_time)),issuedAtTime:il(jf(i.iat)),expirationTime:il(jf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jf(t){return Number(t)*1e3}function Xg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const i=db(n);return i?JSON.parse(i):(kc("Failed to decode base64 JWT payload"),null)}catch(i){return kc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function S_(t){const e=Xg(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xr&&sj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pl(t,md(n,{idToken:r}));xe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ab(s.providerUserInfo):[],a=lj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function aj(t){const e=Et(t);await gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ab(t){return t.map(e=>{var{providerId:n}=e,r=Kg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e){const n=await Ib(t,{},async()=>{const r=Xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Cb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Yo(t.emulatorConfig.host)&&(l.credentials="include"),kb.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cj(t,e){return Zr(t,"POST","/v2/accounts:revokeToken",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=S_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await uj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bo;return r&&(xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(xe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Kg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ij(this,e)}reload(){return aj(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await Pl(this,rj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:N,isAnonymous:O,providerData:V,stsTokenManager:S}=n;xe(x&&S,e,"internal-error");const b=bo.fromJSON(this.name,S);xe(typeof x=="string",e,"internal-error"),li(f,e.name),li(p,e.name),xe(typeof N=="boolean",e,"internal-error"),xe(typeof O=="boolean",e,"internal-error"),li(m,e.name),li(v,e.name),li(g,e.name),li(E,e.name),li(y,e.name),li(_,e.name);const k=new Kn({uid:x,auth:e,email:p,emailVerified:N,displayName:f,isAnonymous:O,photoURL:v,phoneNumber:m,tenantId:g,stsTokenManager:b,createdAt:y,lastLoginAt:_});return V&&Array.isArray(V)&&(k.providerData=V.map(P=>Object.assign({},P))),E&&(k._redirectEventId=E),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new bo;i.updateFromServerResponse(n);const s=new Kn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];xe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ab(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new bo;a.updateFromIdToken(r);const l=new Kn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function Or(t){qr(t instanceof Function,"Expected a class definition");let e=k_.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Rb.type="NONE";const I_=Rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e,n){return`firebase:${t}:${e}:${n}`}class To{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ic(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ic("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await md(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new To(Or(I_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Or(I_);const o=Ic(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const p=await md(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Kn._fromGetAccountInfoResponse(e,p,h)}else f=Kn._fromJSON(e,h);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new To(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new To(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lb(e))return"Blackberry";if(Mb(e))return"Webos";if(Nb(e))return"Safari";if((e.includes("chrome/")||jb(e))&&!e.includes("edge/"))return"Chrome";if(Db(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Pb(t=Kt()){return/firefox\//i.test(t)}function Nb(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jb(t=Kt()){return/crios\//i.test(t)}function Ob(t=Kt()){return/iemobile/i.test(t)}function Db(t=Kt()){return/android/i.test(t)}function Lb(t=Kt()){return/blackberry/i.test(t)}function Mb(t=Kt()){return/webos/i.test(t)}function Jg(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dj(t=Kt()){var e;return Jg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hj(){return kP()&&document.documentMode===10}function Vb(t=Kt()){return Jg(t)||Db(t)||Mb(t)||Lb(t)||/windows phone/i.test(t)||Ob(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e=[]){let n;switch(t){case"Browser":n=C_(Kt());break;case"Worker":n=`${C_(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e={}){return Zr(t,"GET","/v2/passwordPolicy",Jr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=6;class gj{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A_(this),this.idTokenSubscription=new A_(this),this.beforeStateQueue=new fj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await md(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Vr(this));const n=e?Et(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pj(this),n=new gj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vs(t){return Et(t)}class A_{constructor(e){this.auth=e,this.observer=null,this.addObserver=OP(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vj(t){sh=t}function $b(t){return sh.loadJS(t)}function _j(){return sh.recaptchaEnterpriseScript}function wj(){return sh.gapiScript}function xj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Ej{constructor(){this.enterprise=new bj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Tj="recaptcha-enterprise",Ub="NO_RECAPTCHA";class Sj{constructor(e){this.type=Tj,this.auth=Vs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{nj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new tj(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;T_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Ub)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ej().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&T_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_j();l.length!==0&&(l+=a),$b(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function ja(t,e,n,r=!1,i=!1){const s=new Sj(t);let o;if(i)o=Ub;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function im(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ja(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ja(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await ja(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await ja(t,e,n,!1,!0);return r(t,h)}return Promise.reject(l)})}else{const a=await ja(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t,e){const n=Gg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Is(s,e??{}))return i;er(i,"already-initialized")}return n.initialize({options:e})}function Ij(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Cj(t,e,n){const r=Vs(t);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=zb(e),{host:o,port:a}=Aj(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Is(u,r.config.emulator)&&Is(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Yo(o)?(mb(`${s}//${o}${l}`),gb("Auth",!0)):i||Rj()}function zb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Aj(t){const e=zb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:R_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:R_(o)}}}function R_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Rj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function Pj(t,e){return Zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e){return Zl(t,"POST","/v1/accounts:signInWithPassword",Jr(t,e))}async function jj(t,e){return Zr(t,"POST","/v1/accounts:sendOobCode",Jr(t,e))}async function Oj(t,e){return jj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e){return Zl(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}async function Lj(t,e){return Zl(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Zg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,n,"signInWithPassword",Nj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Dj(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,r,"signUpPassword",Pj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Lj(e,{idToken:n,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e){return Zl(t,"POST","/v1/accounts:signInWithIdp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="http://localhost";class As extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Kg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new As(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:Mj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fj(t){const e=Fa($a(t)).link,n=e?Fa($a(e)).deep_link_id:null,r=Fa($a(t)).deep_link_id;return(r?Fa($a(r)).link:null)||r||n||e||t}class ey{constructor(e){var n,r,i,s,o,a;const l=Fa($a(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Vj((i=l.mode)!==null&&i!==void 0?i:null);xe(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Fj(e);try{return new ey(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return Nl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ey.parseLink(n);return xe(r,"argument-error"),Nl._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Bb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends eu{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends eu{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends eu{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vi.credential(n,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(t,e){return Zl(t,"POST","/v1/accounts:signUp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Kn._fromIdTokenResponse(e,r,i),o=P_(r);return new Rs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=P_(r);return new Rs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function P_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends Xr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yd(e,n,r,i)}}function Hb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yd._fromErrorAndOperation(t,s,e,r):s})}async function Uj(t,e,n=!1){const r=await Pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e,n=!1){const{auth:r}=t;if(Cn(r.app))return Promise.reject(Vr(r));const i="reauthenticate";try{const s=await Pl(t,Hb(r,i,e,t),n);xe(s.idToken,r,"internal-error");const o=Xg(s.idToken);xe(o,r,"internal-error");const{sub:a}=o;return xe(t.uid===a,r,"user-mismatch"),Rs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&er(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e,n=!1){if(Cn(t.app))return Promise.reject(Vr(t));const r="signIn",i=await Hb(t,r,e),s=await Rs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Bj(t,e){return Wb(Vs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t,e,n){var r;xe(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),xe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),xe(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(xe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(xe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(t){const e=Vs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Wj(t,e,n){if(Cn(t.app))return Promise.reject(Vr(t));const r=Vs(t),o=await im(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$j,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&qb(t),l}),a=await Rs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function qj(t,e,n){return Cn(t.app)?Promise.reject(Vr(t)):Bj(Et(t),Jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qb(t),r})}async function Gj(t,e){const n=Et(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Hj(n.auth,i,e);const{email:s}=await Oj(n.auth,i);s!==t.email&&await t.reload()}function Kj(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function Qj(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function Zo(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function Yj(t){return Et(t).signOut()}const vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vd,"1"),this.storage.removeItem(vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=1e3,Jj=10;class Kb extends Gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);hj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Jj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kb.type="LOCAL";const Zj=Kb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb extends Gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qb.type="SESSION";const Yb=Qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await eO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=ty("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function nO(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function rO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sO(){return Xb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="firebaseLocalStorageDb",oO=1,_d="firebaseLocalStorage",Zb="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(t,e){return t.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function aO(){const t=indexedDB.deleteDatabase(Jb);return new tu(t).toPromise()}function sm(){const t=indexedDB.open(Jb,oO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_d,{keyPath:Zb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_d)?e(r):(r.close(),await aO(),e(await sm()))})})}async function N_(t,e,n){const r=ah(t,!0).put({[Zb]:e,value:n});return new tu(r).toPromise()}async function lO(t,e){const n=ah(t,!1).get(e),r=await new tu(n).toPromise();return r===void 0?null:r.value}function j_(t,e){const n=ah(t,!0).delete(e);return new tu(n).toPromise()}const uO=800,cO=3;class eT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(sO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rO(),!this.activeServiceWorker)return;this.sender=new tO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sm();return await N_(e,vd,"1"),await j_(e,vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>N_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ah(i,!1).getAll();return new tu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eT.type="LOCAL";const dO=eT;new Jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t,e){return e?Or(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends Zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fO(t){return Wb(t.auth,new ny(t),t.bypassAuthState)}function pO(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),zj(n,new ny(t),t.bypassAuthState)}async function mO(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),Uj(n,new ny(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fO;case"linkViaPopup":case"linkViaRedirect":return mO;case"reauthViaPopup":case"reauthViaRedirect":return pO;default:er(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Jl(2e3,1e4);class po extends tT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gO.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="pendingRedirect",Cc=new Map;class vO extends tT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const r=await _O(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _O(t,e){const n=EO(e),r=xO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wO(t,e){Cc.set(t._key(),e)}function xO(t){return Or(t._redirectPersistence)}function EO(t){return Ic(yO,t.config.apiKey,t.name)}async function bO(t,e,n=!1){if(Cn(t.app))return Promise.reject(Vr(t));const r=Vs(t),i=hO(r,e),o=await new vO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=10*60*1e3;class SO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TO&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(t,e={}){return Zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AO=/^https?/;async function RO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IO(t);for(const n of e)try{if(PO(n))return}catch{}er(t,"unauthorized-domain")}function PO(t){const e=nm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!AO.test(n))return!1;if(CO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new Jl(3e4,6e4);function D_(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jO(t){return new Promise((e,n)=>{var r,i,s;function o(){D_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D_(),n(pr(t,"network-request-failed"))},timeout:NO.get()})}if(!((i=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mr().gapi)===null||s===void 0)&&s.load)o();else{const a=xj("iframefcb");return mr()[a]=()=>{gapi.load?o():n(pr(t,"network-request-failed"))},$b(`${wj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function OO(t){return Ac=Ac||jO(t),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new Jl(5e3,15e3),LO="__/auth/iframe",MO="emulator/auth/iframe",VO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $O(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yg(e,MO):`https://${t.config.authDomain}/${LO}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},i=FO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xl(r).slice(1)}`}async function UO(t){const e=await OO(t),n=mr().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:$O(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=pr(t,"network-request-failed"),a=mr().setTimeout(()=>{s(o)},DO.get());function l(){mr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BO=500,HO=600,WO="_blank",qO="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GO(t,e,n,r=BO,i=HO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zO),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Kt().toLowerCase();n&&(a=jb(u)?WO:n),Pb(u)&&(e=e||qO,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(dj(u)&&a!=="_self")return KO(e||"",a),new L_(null);const f=window.open(e||"",a,h);xe(f,t,"popup-blocked");try{f.focus()}catch{}return new L_(f)}function KO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="__/auth/handler",YO="emulator/auth/handler",XO=encodeURIComponent("fac");async function M_(t,e,n,r,i,s){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:i};if(e instanceof Bb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(s||{}))o[h]=f}if(e instanceof eu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${XO}=${encodeURIComponent(l)}`:"";return`${JO(t)}?${Xl(a).slice(1)}${u}`}function JO({config:t}){return t.emulator?Yg(t,YO):`https://${t.authDomain}/${QO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="webStorageSupport";class ZO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yb,this._completeRedirectFn=bO,this._overrideRedirectResult=wO}async _openPopup(e,n,r,i){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await M_(e,n,r,nm(),i);return GO(e,o,ty())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await M_(e,n,r,nm(),i);return nO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UO(e),r=new SO(e);return n.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Of,{type:Of},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Of];o!==void 0&&n(!!o),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vb()||Nb()||Jg()}}const eD=ZO;var V_="@firebase/auth",F_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rD(t){Mo(new Cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fb(t)},u=new yj(r,i,s,l);return Ij(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mo(new Cs("auth-internal",e=>{const n=Vs(e.getProvider("auth").getImmediate());return(r=>new tD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(V_,F_,nD(t)),ji(V_,F_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=5*60,sD=pb("authIdTokenMaxAge")||iD;let $_=null;const oD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sD)return;const i=n==null?void 0:n.token;$_!==i&&($_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function aD(t=wb()){const e=Gg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kj(t,{popupRedirectResolver:eD,persistence:[dO,Zj,Yb]}),r=pb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=oD(s.toString());Qj(n,o,()=>o(n.currentUser)),Kj(n,a=>o(a))}}const i=hb("auth");return i&&Cj(n,`http://${i}`),n}function lD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",lD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rD("Browser");var uD="firebase",cD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(uD,cD,"app");var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oi,rT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,b){function k(){}k.prototype=b.prototype,S.D=b.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(P,L,A){for(var j=Array(arguments.length-2),R=2;R<arguments.length;R++)j[R-2]=arguments[R];return b.prototype[L].apply(P,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,b,k){k||(k=0);var P=Array(16);if(typeof b=="string")for(var L=0;16>L;++L)P[L]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;else for(L=0;16>L;++L)P[L]=b[k++]|b[k++]<<8|b[k++]<<16|b[k++]<<24;b=S.g[0],k=S.g[1],L=S.g[2];var A=S.g[3],j=b+(A^k&(L^A))+P[0]+3614090360&4294967295;b=k+(j<<7&4294967295|j>>>25),j=A+(L^b&(k^L))+P[1]+3905402710&4294967295,A=b+(j<<12&4294967295|j>>>20),j=L+(k^A&(b^k))+P[2]+606105819&4294967295,L=A+(j<<17&4294967295|j>>>15),j=k+(b^L&(A^b))+P[3]+3250441966&4294967295,k=L+(j<<22&4294967295|j>>>10),j=b+(A^k&(L^A))+P[4]+4118548399&4294967295,b=k+(j<<7&4294967295|j>>>25),j=A+(L^b&(k^L))+P[5]+1200080426&4294967295,A=b+(j<<12&4294967295|j>>>20),j=L+(k^A&(b^k))+P[6]+2821735955&4294967295,L=A+(j<<17&4294967295|j>>>15),j=k+(b^L&(A^b))+P[7]+4249261313&4294967295,k=L+(j<<22&4294967295|j>>>10),j=b+(A^k&(L^A))+P[8]+1770035416&4294967295,b=k+(j<<7&4294967295|j>>>25),j=A+(L^b&(k^L))+P[9]+2336552879&4294967295,A=b+(j<<12&4294967295|j>>>20),j=L+(k^A&(b^k))+P[10]+4294925233&4294967295,L=A+(j<<17&4294967295|j>>>15),j=k+(b^L&(A^b))+P[11]+2304563134&4294967295,k=L+(j<<22&4294967295|j>>>10),j=b+(A^k&(L^A))+P[12]+1804603682&4294967295,b=k+(j<<7&4294967295|j>>>25),j=A+(L^b&(k^L))+P[13]+4254626195&4294967295,A=b+(j<<12&4294967295|j>>>20),j=L+(k^A&(b^k))+P[14]+2792965006&4294967295,L=A+(j<<17&4294967295|j>>>15),j=k+(b^L&(A^b))+P[15]+1236535329&4294967295,k=L+(j<<22&4294967295|j>>>10),j=b+(L^A&(k^L))+P[1]+4129170786&4294967295,b=k+(j<<5&4294967295|j>>>27),j=A+(k^L&(b^k))+P[6]+3225465664&4294967295,A=b+(j<<9&4294967295|j>>>23),j=L+(b^k&(A^b))+P[11]+643717713&4294967295,L=A+(j<<14&4294967295|j>>>18),j=k+(A^b&(L^A))+P[0]+3921069994&4294967295,k=L+(j<<20&4294967295|j>>>12),j=b+(L^A&(k^L))+P[5]+3593408605&4294967295,b=k+(j<<5&4294967295|j>>>27),j=A+(k^L&(b^k))+P[10]+38016083&4294967295,A=b+(j<<9&4294967295|j>>>23),j=L+(b^k&(A^b))+P[15]+3634488961&4294967295,L=A+(j<<14&4294967295|j>>>18),j=k+(A^b&(L^A))+P[4]+3889429448&4294967295,k=L+(j<<20&4294967295|j>>>12),j=b+(L^A&(k^L))+P[9]+568446438&4294967295,b=k+(j<<5&4294967295|j>>>27),j=A+(k^L&(b^k))+P[14]+3275163606&4294967295,A=b+(j<<9&4294967295|j>>>23),j=L+(b^k&(A^b))+P[3]+4107603335&4294967295,L=A+(j<<14&4294967295|j>>>18),j=k+(A^b&(L^A))+P[8]+1163531501&4294967295,k=L+(j<<20&4294967295|j>>>12),j=b+(L^A&(k^L))+P[13]+2850285829&4294967295,b=k+(j<<5&4294967295|j>>>27),j=A+(k^L&(b^k))+P[2]+4243563512&4294967295,A=b+(j<<9&4294967295|j>>>23),j=L+(b^k&(A^b))+P[7]+1735328473&4294967295,L=A+(j<<14&4294967295|j>>>18),j=k+(A^b&(L^A))+P[12]+2368359562&4294967295,k=L+(j<<20&4294967295|j>>>12),j=b+(k^L^A)+P[5]+4294588738&4294967295,b=k+(j<<4&4294967295|j>>>28),j=A+(b^k^L)+P[8]+2272392833&4294967295,A=b+(j<<11&4294967295|j>>>21),j=L+(A^b^k)+P[11]+1839030562&4294967295,L=A+(j<<16&4294967295|j>>>16),j=k+(L^A^b)+P[14]+4259657740&4294967295,k=L+(j<<23&4294967295|j>>>9),j=b+(k^L^A)+P[1]+2763975236&4294967295,b=k+(j<<4&4294967295|j>>>28),j=A+(b^k^L)+P[4]+1272893353&4294967295,A=b+(j<<11&4294967295|j>>>21),j=L+(A^b^k)+P[7]+4139469664&4294967295,L=A+(j<<16&4294967295|j>>>16),j=k+(L^A^b)+P[10]+3200236656&4294967295,k=L+(j<<23&4294967295|j>>>9),j=b+(k^L^A)+P[13]+681279174&4294967295,b=k+(j<<4&4294967295|j>>>28),j=A+(b^k^L)+P[0]+3936430074&4294967295,A=b+(j<<11&4294967295|j>>>21),j=L+(A^b^k)+P[3]+3572445317&4294967295,L=A+(j<<16&4294967295|j>>>16),j=k+(L^A^b)+P[6]+76029189&4294967295,k=L+(j<<23&4294967295|j>>>9),j=b+(k^L^A)+P[9]+3654602809&4294967295,b=k+(j<<4&4294967295|j>>>28),j=A+(b^k^L)+P[12]+3873151461&4294967295,A=b+(j<<11&4294967295|j>>>21),j=L+(A^b^k)+P[15]+530742520&4294967295,L=A+(j<<16&4294967295|j>>>16),j=k+(L^A^b)+P[2]+3299628645&4294967295,k=L+(j<<23&4294967295|j>>>9),j=b+(L^(k|~A))+P[0]+4096336452&4294967295,b=k+(j<<6&4294967295|j>>>26),j=A+(k^(b|~L))+P[7]+1126891415&4294967295,A=b+(j<<10&4294967295|j>>>22),j=L+(b^(A|~k))+P[14]+2878612391&4294967295,L=A+(j<<15&4294967295|j>>>17),j=k+(A^(L|~b))+P[5]+4237533241&4294967295,k=L+(j<<21&4294967295|j>>>11),j=b+(L^(k|~A))+P[12]+1700485571&4294967295,b=k+(j<<6&4294967295|j>>>26),j=A+(k^(b|~L))+P[3]+2399980690&4294967295,A=b+(j<<10&4294967295|j>>>22),j=L+(b^(A|~k))+P[10]+4293915773&4294967295,L=A+(j<<15&4294967295|j>>>17),j=k+(A^(L|~b))+P[1]+2240044497&4294967295,k=L+(j<<21&4294967295|j>>>11),j=b+(L^(k|~A))+P[8]+1873313359&4294967295,b=k+(j<<6&4294967295|j>>>26),j=A+(k^(b|~L))+P[15]+4264355552&4294967295,A=b+(j<<10&4294967295|j>>>22),j=L+(b^(A|~k))+P[6]+2734768916&4294967295,L=A+(j<<15&4294967295|j>>>17),j=k+(A^(L|~b))+P[13]+1309151649&4294967295,k=L+(j<<21&4294967295|j>>>11),j=b+(L^(k|~A))+P[4]+4149444226&4294967295,b=k+(j<<6&4294967295|j>>>26),j=A+(k^(b|~L))+P[11]+3174756917&4294967295,A=b+(j<<10&4294967295|j>>>22),j=L+(b^(A|~k))+P[2]+718787259&4294967295,L=A+(j<<15&4294967295|j>>>17),j=k+(A^(L|~b))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(L+(j<<21&4294967295|j>>>11))&4294967295,S.g[2]=S.g[2]+L&4294967295,S.g[3]=S.g[3]+A&4294967295}r.prototype.u=function(S,b){b===void 0&&(b=S.length);for(var k=b-this.blockSize,P=this.B,L=this.h,A=0;A<b;){if(L==0)for(;A<=k;)i(this,S,A),A+=this.blockSize;if(typeof S=="string"){for(;A<b;)if(P[L++]=S.charCodeAt(A++),L==this.blockSize){i(this,P),L=0;break}}else for(;A<b;)if(P[L++]=S[A++],L==this.blockSize){i(this,P),L=0;break}}this.h=L,this.o+=b},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;var k=8*this.o;for(b=S.length-8;b<S.length;++b)S[b]=k&255,k/=256;for(this.u(S),S=Array(16),b=k=0;4>b;++b)for(var P=0;32>P;P+=8)S[k++]=this.g[b]>>>P&255;return S};function s(S,b){var k=a;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=b(S)}function o(S,b){this.h=b;for(var k=[],P=!0,L=S.length-1;0<=L;L--){var A=S[L]|0;P&&A==b||(k[L]=A,P=!1)}this.g=k}var a={};function l(S){return-128<=S&&128>S?s(S,function(b){return new o([b|0],0>b?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return E(u(-S));for(var b=[],k=1,P=0;S>=k;P++)b[P]=S/k|0,k*=4294967296;return new o(b,0)}function h(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return E(h(S.substring(1),b));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(b,8)),P=f,L=0;L<S.length;L+=8){var A=Math.min(8,S.length-L),j=parseInt(S.substring(L,L+A),b);8>A?(A=u(Math.pow(b,A)),P=P.j(A).add(u(j))):(P=P.j(k),P=P.add(u(j)))}return P}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-E(this).m();for(var S=0,b=1,k=0;k<this.g.length;k++){var P=this.i(k);S+=(0<=P?P:4294967296+P)*b,b*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(g(this))return"-"+E(this).toString(S);for(var b=u(Math.pow(S,6)),k=this,P="";;){var L=N(k,b).g;k=y(k,L.j(b));var A=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=L,v(k))return A+P;for(;6>A.length;)A="0"+A;P=A+P}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=y(this,S),g(S)?-1:v(S)?0:1};function E(S){for(var b=S.g.length,k=[],P=0;P<b;P++)k[P]=~S.g[P];return new o(k,~S.h).add(p)}t.abs=function(){return g(this)?E(this):this},t.add=function(S){for(var b=Math.max(this.g.length,S.g.length),k=[],P=0,L=0;L<=b;L++){var A=P+(this.i(L)&65535)+(S.i(L)&65535),j=(A>>>16)+(this.i(L)>>>16)+(S.i(L)>>>16);P=j>>>16,A&=65535,j&=65535,k[L]=j<<16|A}return new o(k,k[k.length-1]&-2147483648?-1:0)};function y(S,b){return S.add(E(b))}t.j=function(S){if(v(this)||v(S))return f;if(g(this))return g(S)?E(this).j(E(S)):E(E(this).j(S));if(g(S))return E(this.j(E(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var b=this.g.length+S.g.length,k=[],P=0;P<2*b;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<S.g.length;L++){var A=this.i(P)>>>16,j=this.i(P)&65535,R=S.i(L)>>>16,G=S.i(L)&65535;k[2*P+2*L]+=j*G,_(k,2*P+2*L),k[2*P+2*L+1]+=A*G,_(k,2*P+2*L+1),k[2*P+2*L+1]+=j*R,_(k,2*P+2*L+1),k[2*P+2*L+2]+=A*R,_(k,2*P+2*L+2)}for(P=0;P<b;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=b;P<2*b;P++)k[P]=0;return new o(k,0)};function _(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function x(S,b){this.g=S,this.h=b}function N(S,b){if(v(b))throw Error("division by zero");if(v(S))return new x(f,f);if(g(S))return b=N(E(S),b),new x(E(b.g),E(b.h));if(g(b))return b=N(S,E(b)),new x(E(b.g),b.h);if(30<S.g.length){if(g(S)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var k=p,P=b;0>=P.l(S);)k=O(k),P=O(P);var L=V(k,1),A=V(P,1);for(P=V(P,2),k=V(k,2);!v(P);){var j=A.add(P);0>=j.l(S)&&(L=L.add(k),A=j),P=V(P,1),k=V(k,1)}return b=y(S,L.j(b)),new x(L,b)}for(L=f;0<=S.l(b);){for(k=Math.max(1,Math.floor(S.m()/b.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),A=u(k),j=A.j(b);g(j)||0<j.l(S);)k-=P,A=u(k),j=A.j(b);v(A)&&(A=p),L=L.add(A),S=y(S,j)}return new x(L,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var b=Math.max(this.g.length,S.g.length),k=[],P=0;P<b;P++)k[P]=this.i(P)&S.i(P);return new o(k,this.h&S.h)},t.or=function(S){for(var b=Math.max(this.g.length,S.g.length),k=[],P=0;P<b;P++)k[P]=this.i(P)|S.i(P);return new o(k,this.h|S.h)},t.xor=function(S){for(var b=Math.max(this.g.length,S.g.length),k=[],P=0;P<b;P++)k[P]=this.i(P)^S.i(P);return new o(k,this.h^S.h)};function O(S){for(var b=S.g.length+1,k=[],P=0;P<b;P++)k[P]=S.i(P)<<1|S.i(P-1)>>>31;return new o(k,S.h)}function V(S,b){var k=b>>5;b%=32;for(var P=S.g.length-k,L=[],A=0;A<P;A++)L[A]=0<b?S.i(A+k)>>>b|S.i(A+k+1)<<32-b:S.i(A+k);return new o(L,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Oi=o}).apply(typeof U_<"u"?U_:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iT,Ua,sT,Rc,om,oT,aT,lT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,w,I){return c==Array.prototype||c==Object.prototype||(c[w]=I.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var w=0;w<c.length;++w){var I=c[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(c,w){if(w)e:{var I=r;c=c.split(".");for(var D=0;D<c.length-1;D++){var W=c[D];if(!(W in I))break e;I=I[W]}c=c[c.length-1],D=I[c],w=w(D),w!=D&&w!=null&&e(I,c,{configurable:!0,writable:!0,value:w})}}function s(c,w){c instanceof String&&(c+="");var I=0,D=!1,W={next:function(){if(!D&&I<c.length){var Q=I++;return{value:w(Q,c[Q]),done:!1}}return D=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(c){return c||function(){return s(this,function(w,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var w=typeof c;return w=w!="object"?w:c?Array.isArray(c)?"array":w:"null",w=="array"||w=="object"&&typeof c.length=="number"}function u(c){var w=typeof c;return w=="object"&&c!=null||w=="function"}function h(c,w,I){return c.call.apply(c.bind,arguments)}function f(c,w,I){if(!c)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,D),c.apply(w,W)}}return function(){return c.apply(w,arguments)}}function p(c,w,I){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function m(c,w){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),c.apply(this,D)}}function v(c,w){function I(){}I.prototype=w.prototype,c.aa=w.prototype,c.prototype=new I,c.prototype.constructor=c,c.Qb=function(D,W,Q){for(var de=Array(arguments.length-2),He=2;He<arguments.length;He++)de[He-2]=arguments[He];return w.prototype[W].apply(D,de)}}function g(c){const w=c.length;if(0<w){const I=Array(w);for(let D=0;D<w;D++)I[D]=c[D];return I}return[]}function E(c,w){for(let I=1;I<arguments.length;I++){const D=arguments[I];if(l(D)){const W=c.length||0,Q=D.length||0;c.length=W+Q;for(let de=0;de<Q;de++)c[W+de]=D[de]}else c.push(D)}}class y{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var O=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function V(c,w,I){for(const D in c)w.call(I,c[D],D,c)}function S(c,w){for(const I in c)w.call(void 0,c[I],I,c)}function b(c){const w={};for(const I in c)w[I]=c[I];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,w){let I,D;for(let W=1;W<arguments.length;W++){D=arguments[W];for(I in D)c[I]=D[I];for(let Q=0;Q<k.length;Q++)I=k[Q],Object.prototype.hasOwnProperty.call(D,I)&&(c[I]=D[I])}}function L(c){var w=1;c=c.split(":");const I=[];for(;0<w&&c.length;)I.push(c.shift()),w--;return c.length&&I.push(c.join(":")),I}function A(c){a.setTimeout(()=>{throw c},0)}function j(){var c=B;let w=null;return c.g&&(w=c.g,c.g=c.g.next,c.g||(c.h=null),w.next=null),w}class R{constructor(){this.h=this.g=null}add(w,I){const D=G.get();D.set(w,I),this.h?this.h.next=D:this.g=D,this.h=D}}var G=new y(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,$=!1,B=new R,K=()=>{const c=a.Promise.resolve(void 0);Y=()=>{c.then(z)}};var z=()=>{for(var c;c=j();){try{c.h.call(c.g)}catch(I){A(I)}var w=G;w.j(c),100>w.h&&(w.h++,c.next=w.g,w.g=c)}$=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,w){this.type=c,this.g=this.target=w,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,w=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const I=()=>{};a.addEventListener("test",I,w),a.removeEventListener("test",I,w)}catch{}return c}();function ne(c,w){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var I=this.type=c.type,D=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=w,w=c.relatedTarget){if(O){e:{try{N(w.nodeName);var W=!0;break e}catch{}W=!1}W||(w=null)}}else I=="mouseover"?w=c.fromElement:I=="mouseout"&&(w=c.toElement);this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ne.aa.h.call(this)}}v(ne,J);var Ie={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),me=0;function Ee(c,w,I,D,W){this.listener=c,this.proxy=null,this.src=w,this.type=I,this.capture=!!D,this.ha=W,this.key=++me,this.da=this.fa=!1}function Ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $e(c){this.src=c,this.g={},this.h=0}$e.prototype.add=function(c,w,I,D,W){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var de=Qt(c,w,D,W);return-1<de?(w=c[de],I||(w.fa=!1)):(w=new Ee(w,this.src,Q,!!D,W),w.fa=I,c.push(w)),w};function yt(c,w){var I=w.type;if(I in c.g){var D=c.g[I],W=Array.prototype.indexOf.call(D,w,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(D,W,1),Q&&(Ve(w),c.g[I].length==0&&(delete c.g[I],c.h--))}}function Qt(c,w,I,D){for(var W=0;W<c.length;++W){var Q=c[W];if(!Q.da&&Q.listener==w&&Q.capture==!!I&&Q.ha==D)return W}return-1}var C="closure_lm_"+(1e6*Math.random()|0),Z={};function X(c,w,I,D,W){if(D&&D.once)return H(c,w,I,D,W);if(Array.isArray(w)){for(var Q=0;Q<w.length;Q++)X(c,w[Q],I,D,W);return null}return I=_e(I),c&&c[ie]?c.K(w,I,u(D)?!!D.capture:!!D,W):F(c,w,I,!1,D,W)}function F(c,w,I,D,W,Q){if(!w)throw Error("Invalid event type");var de=u(W)?!!W.capture:!!W,He=fe(c);if(He||(c[C]=He=new $e(c)),I=He.add(w,I,D,de,Q),I.proxy)return I;if(D=M(),I.proxy=D,D.src=c,D.listener=I,c.addEventListener)oe||(W=de),W===void 0&&(W=!1),c.addEventListener(w.toString(),D,W);else if(c.attachEvent)c.attachEvent(q(w.toString()),D);else if(c.addListener&&c.removeListener)c.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function M(){function c(I){return w.call(c.src,c.listener,I)}const w=ue;return c}function H(c,w,I,D,W){if(Array.isArray(w)){for(var Q=0;Q<w.length;Q++)H(c,w[Q],I,D,W);return null}return I=_e(I),c&&c[ie]?c.L(w,I,u(D)?!!D.capture:!!D,W):F(c,w,I,!0,D,W)}function re(c,w,I,D,W){if(Array.isArray(w))for(var Q=0;Q<w.length;Q++)re(c,w[Q],I,D,W);else D=u(D)?!!D.capture:!!D,I=_e(I),c&&c[ie]?(c=c.i,w=String(w).toString(),w in c.g&&(Q=c.g[w],I=Qt(Q,I,D,W),-1<I&&(Ve(Q[I]),Array.prototype.splice.call(Q,I,1),Q.length==0&&(delete c.g[w],c.h--)))):c&&(c=fe(c))&&(w=c.g[w.toString()],c=-1,w&&(c=Qt(w,I,D,W)),(I=-1<c?w[c]:null)&&se(I))}function se(c){if(typeof c!="number"&&c&&!c.da){var w=c.src;if(w&&w[ie])yt(w.i,c);else{var I=c.type,D=c.proxy;w.removeEventListener?w.removeEventListener(I,D,c.capture):w.detachEvent?w.detachEvent(q(I),D):w.addListener&&w.removeListener&&w.removeListener(D),(I=fe(w))?(yt(I,c),I.h==0&&(I.src=null,w[C]=null)):Ve(c)}}}function q(c){return c in Z?Z[c]:Z[c]="on"+c}function ue(c,w){if(c.da)c=!0;else{w=new ne(w,this);var I=c.listener,D=c.ha||c.src;c.fa&&se(c),c=I.call(D,w)}return c}function fe(c){return c=c[C],c instanceof $e?c:null}var ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(c){return typeof c=="function"?c:(c[ce]||(c[ce]=function(w){return c.handleEvent(w)}),c[ce])}function Ce(){U.call(this),this.i=new $e(this),this.M=this,this.F=null}v(Ce,U),Ce.prototype[ie]=!0,Ce.prototype.removeEventListener=function(c,w,I,D){re(this,c,w,I,D)};function be(c,w){var I,D=c.F;if(D)for(I=[];D;D=D.F)I.push(D);if(c=c.M,D=w.type||w,typeof w=="string")w=new J(w,c);else if(w instanceof J)w.target=w.target||c;else{var W=w;w=new J(D,c),P(w,W)}if(W=!0,I)for(var Q=I.length-1;0<=Q;Q--){var de=w.g=I[Q];W=At(de,D,!0,w)&&W}if(de=w.g=c,W=At(de,D,!0,w)&&W,W=At(de,D,!1,w)&&W,I)for(Q=0;Q<I.length;Q++)de=w.g=I[Q],W=At(de,D,!1,w)&&W}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var c=this.i,w;for(w in c.g){for(var I=c.g[w],D=0;D<I.length;D++)Ve(I[D]);delete c.g[w],c.h--}}this.F=null},Ce.prototype.K=function(c,w,I,D){return this.i.add(String(c),w,!1,I,D)},Ce.prototype.L=function(c,w,I,D){return this.i.add(String(c),w,!0,I,D)};function At(c,w,I,D){if(w=c.i.g[String(w)],!w)return!0;w=w.concat();for(var W=!0,Q=0;Q<w.length;++Q){var de=w[Q];if(de&&!de.da&&de.capture==I){var He=de.listener,Rt=de.ha||de.src;de.fa&&yt(c.i,de),W=He.call(Rt,D)!==!1&&W}}return W&&!D.defaultPrevented}function ni(c,w,I){if(typeof c=="function")I&&(c=p(c,I));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(c,w||0)}function hn(c){c.g=ni(()=>{c.g=null,c.i&&(c.i=!1,hn(c))},c.l);const w=c.h;c.h=null,c.m.apply(null,w)}class Zi extends U{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:hn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(c){U.call(this),this.h=c,this.g={}}v(Be,U);var es=[];function Bs(c){V(c.g,function(w,I){this.g.hasOwnProperty(I)&&se(w)},c),c.g={}}Be.prototype.N=function(){Be.aa.N.call(this),Bs(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=a.JSON.stringify,mu=a.JSON.parse,Fh=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function da(){}da.prototype.h=null;function gu(c){return c.h||(c.h=c.i())}function ha(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){J.call(this,"d")}v(ri,J);function $h(){J.call(this,"c")}v($h,J);var ts={},av=null;function yu(){return av=av||new Ce}ts.La="serverreachability";function lv(c){J.call(this,ts.La,c)}v(lv,J);function fa(c){const w=yu();be(w,new lv(w))}ts.STAT_EVENT="statevent";function uv(c,w){J.call(this,ts.STAT_EVENT,c),this.stat=w}v(uv,J);function Yt(c){const w=yu();be(w,new uv(w,c))}ts.Ma="timingevent";function cv(c,w){J.call(this,ts.Ma,c),this.size=w}v(cv,J);function pa(c,w){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},w)}function ma(){this.g=!0}ma.prototype.xa=function(){this.g=!1};function CI(c,w,I,D,W,Q){c.info(function(){if(c.g)if(Q)for(var de="",He=Q.split("&"),Rt=0;Rt<He.length;Rt++){var Fe=He[Rt].split("=");if(1<Fe.length){var Mt=Fe[0];Fe=Fe[1];var Vt=Mt.split("_");de=2<=Vt.length&&Vt[1]=="type"?de+(Mt+"="+Fe+"&"):de+(Mt+"=redacted&")}}else de=null;else de=Q;return"XMLHTTP REQ ("+D+") [attempt "+W+"]: "+w+`
`+I+`
`+de})}function AI(c,w,I,D,W,Q,de){c.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+W+"]: "+w+`
`+I+`
`+Q+" "+de})}function Hs(c,w,I,D){c.info(function(){return"XMLHTTP TEXT ("+w+"): "+PI(c,I)+(D?" "+D:"")})}function RI(c,w){c.info(function(){return"TIMEOUT: "+w})}ma.prototype.info=function(){};function PI(c,w){if(!c.g)return w;if(!w)return null;try{var I=JSON.parse(w);if(I){for(c=0;c<I.length;c++)if(Array.isArray(I[c])){var D=I[c];if(!(2>D.length)){var W=D[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var de=1;de<W.length;de++)W[de]=""}}}}return fn(I)}catch{return w}}var vu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uh;function _u(){}v(_u,da),_u.prototype.g=function(){return new XMLHttpRequest},_u.prototype.i=function(){return{}},Uh=new _u;function ii(c,w,I,D){this.j=c,this.i=w,this.l=I,this.R=D||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hv}function hv(){this.i=null,this.g="",this.h=!1}var fv={},zh={};function Bh(c,w,I){c.L=1,c.v=bu(Sr(w)),c.m=I,c.P=!0,pv(c,null)}function pv(c,w){c.F=Date.now(),wu(c),c.A=Sr(c.v);var I=c.A,D=c.R;Array.isArray(D)||(D=[String(D)]),Cv(I.i,"t",D),c.C=0,I=c.j.J,c.h=new hv,c.g=qv(c.j,I?w:null,!c.m),0<c.O&&(c.M=new Zi(p(c.Y,c,c.g),c.O)),w=c.U,I=c.g,D=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(es[0]=W.toString()),W=es);for(var Q=0;Q<W.length;Q++){var de=X(I,W[Q],D||w.handleEvent,!1,w.h||w);if(!de)break;w.g[de.key]=de}w=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,w)):(c.u="GET",c.g.ea(c.A,c.u,null,w)),fa(),CI(c.i,c.u,c.A,c.l,c.R,c.m)}ii.prototype.ca=function(c){c=c.target;const w=this.M;w&&kr(c)==3?w.j():this.Y(c)},ii.prototype.Y=function(c){try{if(c==this.g)e:{const Vt=kr(this.g);var w=this.g.Ba();const Gs=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Dv(this.g)))){this.J||Vt!=4||w==7||(w==8||0>=Gs?fa(3):fa(2)),Hh(this);var I=this.g.Z();this.X=I;t:if(mv(this)){var D=Dv(this.g);c="";var W=D.length,Q=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),ga(this);var de="";break t}this.h.i=new a.TextDecoder}for(w=0;w<W;w++)this.h.h=!0,c+=this.h.i.decode(D[w],{stream:!(Q&&w==W-1)});D.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=I==200,AI(this.i,this.u,this.A,this.l,this.R,Vt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Rt=this.g;if((He=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(He)){var Fe=He;break t}}Fe=null}if(I=Fe)Hs(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wh(this,I);else{this.o=!1,this.s=3,Yt(12),ns(this),ga(this);break e}}if(this.P){I=!0;let Bn;for(;!this.J&&this.C<de.length;)if(Bn=NI(this,de),Bn==zh){Vt==4&&(this.s=4,Yt(14),I=!1),Hs(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==fv){this.s=4,Yt(15),Hs(this.i,this.l,de,"[Invalid Chunk]"),I=!1;break}else Hs(this.i,this.l,Bn,null),Wh(this,Bn);if(mv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||de.length!=0||this.h.h||(this.s=1,Yt(16),I=!1),this.o=this.o&&I,!I)Hs(this.i,this.l,de,"[Invalid Chunked Response]"),ns(this),ga(this);else if(0<de.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Xh(Mt),Mt.M=!0,Yt(11))}}else Hs(this.i,this.l,de,null),Wh(this,de);Vt==4&&ns(this),this.o&&!this.J&&(Vt==4?zv(this.j,this):(this.o=!1,wu(this)))}else QI(this.g),I==400&&0<de.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),ns(this),ga(this)}}}catch{}finally{}};function mv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function NI(c,w){var I=c.C,D=w.indexOf(`
`,I);return D==-1?zh:(I=Number(w.substring(I,D)),isNaN(I)?fv:(D+=1,D+I>w.length?zh:(w=w.slice(D,D+I),c.C=D+I,w)))}ii.prototype.cancel=function(){this.J=!0,ns(this)};function wu(c){c.S=Date.now()+c.I,gv(c,c.I)}function gv(c,w){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pa(p(c.ba,c),w)}function Hh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ii.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(RI(this.i,this.A),this.L!=2&&(fa(),Yt(17)),ns(this),this.s=2,ga(this)):gv(this,this.S-c)};function ga(c){c.j.G==0||c.J||zv(c.j,c)}function ns(c){Hh(c);var w=c.M;w&&typeof w.ma=="function"&&w.ma(),c.M=null,Bs(c.U),c.g&&(w=c.g,c.g=null,w.abort(),w.ma())}function Wh(c,w){try{var I=c.j;if(I.G!=0&&(I.g==c||qh(I.h,c))){if(!c.K&&qh(I.h,c)&&I.G==3){try{var D=I.Da.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var W=D;if(W[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<c.F)Au(I),Iu(I);else break e;Yh(I),Yt(18)}}else I.za=W[1],0<I.za-I.T&&37500>W[2]&&I.F&&I.v==0&&!I.C&&(I.C=pa(p(I.Za,I),6e3));if(1>=_v(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else is(I,11)}else if((c.K||I.g==c)&&Au(I),!_(w))for(W=I.Da.g.parse(w),w=0;w<W.length;w++){let Fe=W[w];if(I.T=Fe[0],Fe=Fe[1],I.G==2)if(Fe[0]=="c"){I.K=Fe[1],I.ia=Fe[2];const Mt=Fe[3];Mt!=null&&(I.la=Mt,I.j.info("VER="+I.la));const Vt=Fe[4];Vt!=null&&(I.Aa=Vt,I.j.info("SVER="+I.Aa));const Gs=Fe[5];Gs!=null&&typeof Gs=="number"&&0<Gs&&(D=1.5*Gs,I.L=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const Bn=c.g;if(Bn){const Pu=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pu){var Q=D.h;Q.g||Pu.indexOf("spdy")==-1&&Pu.indexOf("quic")==-1&&Pu.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Gh(Q,Q.h),Q.h=null))}if(D.D){const Jh=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jh&&(D.ya=Jh,Ge(D.I,D.D,Jh))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-c.F,I.j.info("Handshake RTT: "+I.R+"ms")),D=I;var de=c;if(D.qa=Wv(D,D.J?D.ia:null,D.W),de.K){wv(D.h,de);var He=de,Rt=D.L;Rt&&(He.I=Rt),He.B&&(Hh(He),wu(He)),D.g=de}else $v(D);0<I.i.length&&Cu(I)}else Fe[0]!="stop"&&Fe[0]!="close"||is(I,7);else I.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?is(I,7):Qh(I):Fe[0]!="noop"&&I.l&&I.l.ta(Fe),I.v=0)}}fa(4)}catch{}}var jI=class{constructor(c,w){this.g=c,this.map=w}};function yv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _v(c){return c.h?1:c.g?c.g.size:0}function qh(c,w){return c.h?c.h==w:c.g?c.g.has(w):!1}function Gh(c,w){c.g?c.g.add(w):c.h=w}function wv(c,w){c.h&&c.h==w?c.h=null:c.g&&c.g.has(w)&&c.g.delete(w)}yv.prototype.cancel=function(){if(this.i=xv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let w=c.i;for(const I of c.g.values())w=w.concat(I.D);return w}return g(c.i)}function OI(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var w=[],I=c.length,D=0;D<I;D++)w.push(c[D]);return w}w=[],I=0;for(D in c)w[I++]=c[D];return w}function DI(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var w=[];c=c.length;for(var I=0;I<c;I++)w.push(I);return w}w=[],I=0;for(const D in c)w[I++]=D;return w}}}function Ev(c,w){if(c.forEach&&typeof c.forEach=="function")c.forEach(w,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,w,void 0);else for(var I=DI(c),D=OI(c),W=D.length,Q=0;Q<W;Q++)w.call(void 0,D[Q],I&&I[Q],c)}var bv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LI(c,w){if(c){c=c.split("&");for(var I=0;I<c.length;I++){var D=c[I].indexOf("="),W=null;if(0<=D){var Q=c[I].substring(0,D);W=c[I].substring(D+1)}else Q=c[I];w(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function rs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof rs){this.h=c.h,xu(this,c.j),this.o=c.o,this.g=c.g,Eu(this,c.s),this.l=c.l;var w=c.i,I=new _a;I.i=w.i,w.g&&(I.g=new Map(w.g),I.h=w.h),Tv(this,I),this.m=c.m}else c&&(w=String(c).match(bv))?(this.h=!1,xu(this,w[1]||"",!0),this.o=ya(w[2]||""),this.g=ya(w[3]||"",!0),Eu(this,w[4]),this.l=ya(w[5]||"",!0),Tv(this,w[6]||"",!0),this.m=ya(w[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}rs.prototype.toString=function(){var c=[],w=this.j;w&&c.push(va(w,Sv,!0),":");var I=this.g;return(I||w=="file")&&(c.push("//"),(w=this.o)&&c.push(va(w,Sv,!0),"@"),c.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&c.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&c.push("/"),c.push(va(I,I.charAt(0)=="/"?FI:VI,!0))),(I=this.i.toString())&&c.push("?",I),(I=this.m)&&c.push("#",va(I,UI)),c.join("")};function Sr(c){return new rs(c)}function xu(c,w,I){c.j=I?ya(w,!0):w,c.j&&(c.j=c.j.replace(/:$/,""))}function Eu(c,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);c.s=w}else c.s=null}function Tv(c,w,I){w instanceof _a?(c.i=w,zI(c.i,c.h)):(I||(w=va(w,$I)),c.i=new _a(w,c.h))}function Ge(c,w,I){c.i.set(w,I)}function bu(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ya(c,w){return c?w?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function va(c,w,I){return typeof c=="string"?(c=encodeURI(c).replace(w,MI),I&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function MI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sv=/[#\/\?@]/g,VI=/[#\?:]/g,FI=/[#\?]/g,$I=/[#\?@]/g,UI=/#/g;function _a(c,w){this.h=this.g=null,this.i=c||null,this.j=!!w}function si(c){c.g||(c.g=new Map,c.h=0,c.i&&LI(c.i,function(w,I){c.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}t=_a.prototype,t.add=function(c,w){si(this),this.i=null,c=Ws(this,c);var I=this.g.get(c);return I||this.g.set(c,I=[]),I.push(w),this.h+=1,this};function kv(c,w){si(c),w=Ws(c,w),c.g.has(w)&&(c.i=null,c.h-=c.g.get(w).length,c.g.delete(w))}function Iv(c,w){return si(c),w=Ws(c,w),c.g.has(w)}t.forEach=function(c,w){si(this),this.g.forEach(function(I,D){I.forEach(function(W){c.call(w,W,D,this)},this)},this)},t.na=function(){si(this);const c=Array.from(this.g.values()),w=Array.from(this.g.keys()),I=[];for(let D=0;D<w.length;D++){const W=c[D];for(let Q=0;Q<W.length;Q++)I.push(w[D])}return I},t.V=function(c){si(this);let w=[];if(typeof c=="string")Iv(this,c)&&(w=w.concat(this.g.get(Ws(this,c))));else{c=Array.from(this.g.values());for(let I=0;I<c.length;I++)w=w.concat(c[I])}return w},t.set=function(c,w){return si(this),this.i=null,c=Ws(this,c),Iv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[w]),this.h+=1,this},t.get=function(c,w){return c?(c=this.V(c),0<c.length?String(c[0]):w):w};function Cv(c,w,I){kv(c,w),0<I.length&&(c.i=null,c.g.set(Ws(c,w),g(I)),c.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],w=Array.from(this.g.keys());for(var I=0;I<w.length;I++){var D=w[I];const Q=encodeURIComponent(String(D)),de=this.V(D);for(D=0;D<de.length;D++){var W=Q;de[D]!==""&&(W+="="+encodeURIComponent(String(de[D]))),c.push(W)}}return this.i=c.join("&")};function Ws(c,w){return w=String(w),c.j&&(w=w.toLowerCase()),w}function zI(c,w){w&&!c.j&&(si(c),c.i=null,c.g.forEach(function(I,D){var W=D.toLowerCase();D!=W&&(kv(this,D),Cv(this,W,I))},c)),c.j=w}function BI(c,w){const I=new ma;if(a.Image){const D=new Image;D.onload=m(oi,I,"TestLoadImage: loaded",!0,w,D),D.onerror=m(oi,I,"TestLoadImage: error",!1,w,D),D.onabort=m(oi,I,"TestLoadImage: abort",!1,w,D),D.ontimeout=m(oi,I,"TestLoadImage: timeout",!1,w,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=c}else w(!1)}function HI(c,w){const I=new ma,D=new AbortController,W=setTimeout(()=>{D.abort(),oi(I,"TestPingServer: timeout",!1,w)},1e4);fetch(c,{signal:D.signal}).then(Q=>{clearTimeout(W),Q.ok?oi(I,"TestPingServer: ok",!0,w):oi(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),oi(I,"TestPingServer: error",!1,w)})}function oi(c,w,I,D,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),D(I)}catch{}}function WI(){this.g=new Fh}function qI(c,w,I){const D=I||"";try{Ev(c,function(W,Q){let de=W;u(W)&&(de=fn(W)),w.push(D+Q+"="+encodeURIComponent(de))})}catch(W){throw w.push(D+"type="+encodeURIComponent("_badmap")),W}}function Tu(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Tu,da),Tu.prototype.g=function(){return new Su(this.l,this.j)},Tu.prototype.i=function(c){return function(){return c}}({});function Su(c,w){Ce.call(this),this.D=c,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Su,Ce),t=Su.prototype,t.open=function(c,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=w,this.readyState=1,xa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(w.body=c),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Av(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Av(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var w=c.value?c.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!c.done}))&&(this.response=this.responseText+=w)}c.done?wa(this):xa(this),this.readyState==3&&Av(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,wa(this))},t.Qa=function(c){this.g&&(this.response=c,wa(this))},t.ga=function(){this.g&&wa(this)};function wa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,xa(c)}t.setRequestHeader=function(c,w){this.u.append(c,w)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,c.push(I[0]+": "+I[1]),I=w.next();return c.join(`\r
`)};function xa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rv(c){let w="";return V(c,function(I,D){w+=D,w+=":",w+=I,w+=`\r
`}),w}function Kh(c,w,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=Rv(I),typeof c=="string"?I!=null&&encodeURIComponent(String(I)):Ge(c,w,I))}function at(c){Ce.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(at,Ce);var GI=/^https?$/i,KI=["POST","PUT"];t=at.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,w,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);w=w?w.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uh.g(),this.v=this.o?gu(this.o):gu(Uh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(w,String(c),!0),this.B=!1}catch(Q){Pv(this,Q);return}if(c=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var W in D)I.set(W,D[W]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Q of D.keys())I.set(Q,D.get(Q));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(KI,w,void 0))||D||W||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,de]of I)this.g.setRequestHeader(Q,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ov(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Pv(this,Q)}};function Pv(c,w){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=w,c.m=5,Nv(c),ku(c)}function Nv(c){c.A||(c.A=!0,be(c,"complete"),be(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,be(this,"complete"),be(this,"abort"),ku(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ku(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jv(this):this.bb())},t.bb=function(){jv(this)};function jv(c){if(c.h&&typeof o<"u"&&(!c.v[1]||kr(c)!=4||c.Z()!=2)){if(c.u&&kr(c)==4)ni(c.Ea,0,c);else if(be(c,"readystatechange"),kr(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var I;if(!(I=w)){var D;if(D=de===0){var W=String(c.D).match(bv)[1]||null;!W&&a.self&&a.self.location&&(W=a.self.location.protocol.slice(0,-1)),D=!GI.test(W?W.toLowerCase():"")}I=D}if(I)be(c,"complete"),be(c,"success");else{c.m=6;try{var Q=2<kr(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Nv(c)}}finally{ku(c)}}}}function ku(c,w){if(c.g){Ov(c);const I=c.g,D=c.v[0]?()=>{}:null;c.g=null,c.v=null,w||be(c,"ready");try{I.onreadystatechange=D}catch{}}}function Ov(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function kr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var w=this.g.responseText;return c&&w.indexOf(c)==0&&(w=w.substring(c.length)),mu(w)}};function Dv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function QI(c){const w={};c=(c.g&&2<=kr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<c.length;D++){if(_(c[D]))continue;var I=L(c[D]);const W=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Q=w[W]||[];w[W]=Q,Q.push(I)}S(w,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(c,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[c]||w}function Lv(c){this.Aa=0,this.i=[],this.j=new ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,c),this.cb=Ea("retryDelaySeedMs",1e4,c),this.Wa=Ea("forwardChannelMaxRetries",2,c),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yv(c&&c.concurrentRequestLimit),this.Da=new WI,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lv.prototype,t.la=8,t.G=1,t.connect=function(c,w,I,D){Yt(0),this.W=c,this.H=w||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.I=Wv(this,null,this.W),Cu(this)};function Qh(c){if(Mv(c),c.G==3){var w=c.U++,I=Sr(c.I);if(Ge(I,"SID",c.K),Ge(I,"RID",w),Ge(I,"TYPE","terminate"),ba(c,I),w=new ii(c,c.j,w),w.L=2,w.v=bu(Sr(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!I&&a.Image&&(new Image().src=w.v,I=!0),I||(w.g=qv(w.j,null),w.g.ea(w.v)),w.F=Date.now(),wu(w)}Hv(c)}function Iu(c){c.g&&(Xh(c),c.g.cancel(),c.g=null)}function Mv(c){Iu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Au(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Cu(c){if(!vv(c.h)&&!c.s){c.s=!0;var w=c.Ga;Y||K(),$||(Y(),$=!0),B.add(w,c),c.B=0}}function YI(c,w){return _v(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=w.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pa(p(c.Ga,c,w),Bv(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new ii(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=b(Q),P(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var w=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,4096<w){w=I;break e}if(w===4096||I===this.i.length-1){w=I+1;break e}}w=1e3}else w=1e3;w=Fv(this,W,w),I=Sr(this.I),Ge(I,"RID",c),Ge(I,"CVER",22),this.D&&Ge(I,"X-HTTP-Session-Id",this.D),ba(this,I),Q&&(this.O?w="headers="+encodeURIComponent(String(Rv(Q)))+"&"+w:this.m&&Kh(I,this.m,Q)),Gh(this.h,W),this.Ua&&Ge(I,"TYPE","init"),this.P?(Ge(I,"$req",w),Ge(I,"SID","null"),W.T=!0,Bh(W,I,null)):Bh(W,I,w),this.G=2}}else this.G==3&&(c?Vv(this,c):this.i.length==0||vv(this.h)||Vv(this))};function Vv(c,w){var I;w?I=w.l:I=c.U++;const D=Sr(c.I);Ge(D,"SID",c.K),Ge(D,"RID",I),Ge(D,"AID",c.T),ba(c,D),c.m&&c.o&&Kh(D,c.m,c.o),I=new ii(c,c.j,I,c.B+1),c.m===null&&(I.H=c.o),w&&(c.i=w.D.concat(c.i)),w=Fv(c,I,1e3),I.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Gh(c.h,I),Bh(I,D,w)}function ba(c,w){c.H&&V(c.H,function(I,D){Ge(w,D,I)}),c.l&&Ev({},function(I,D){Ge(w,D,I)})}function Fv(c,w,I){I=Math.min(c.i.length,I);var D=c.l?p(c.l.Na,c.l,c):null;e:{var W=c.i;let Q=-1;for(;;){const de=["count="+I];Q==-1?0<I?(Q=W[0].g,de.push("ofs="+Q)):Q=0:de.push("ofs="+Q);let He=!0;for(let Rt=0;Rt<I;Rt++){let Fe=W[Rt].g;const Mt=W[Rt].map;if(Fe-=Q,0>Fe)Q=Math.max(0,W[Rt].g-100),He=!1;else try{qI(Mt,de,"req"+Fe+"_")}catch{D&&D(Mt)}}if(He){D=de.join("&");break e}}}return c=c.i.splice(0,I),w.D=c,D}function $v(c){if(!c.g&&!c.u){c.Y=1;var w=c.Fa;Y||K(),$||(Y(),$=!0),B.add(w,c),c.v=0}}function Yh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pa(p(c.Fa,c),Bv(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Uv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pa(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Iu(this),Uv(this))};function Xh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Uv(c){c.g=new ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var w=Sr(c.qa);Ge(w,"RID","rpc"),Ge(w,"SID",c.K),Ge(w,"AID",c.T),Ge(w,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(w,"TO",c.ja),Ge(w,"TYPE","xmlhttp"),ba(c,w),c.m&&c.o&&Kh(w,c.m,c.o),c.L&&(c.g.I=c.L);var I=c.g;c=c.ia,I.L=1,I.v=bu(Sr(w)),I.m=null,I.P=!0,pv(I,c)}t.Za=function(){this.C!=null&&(this.C=null,Iu(this),Yh(this),Yt(19))};function Au(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function zv(c,w){var I=null;if(c.g==w){Au(c),Xh(c),c.g=null;var D=2}else if(qh(c.h,w))I=w.D,wv(c.h,w),D=1;else return;if(c.G!=0){if(w.o)if(D==1){I=w.m?w.m.length:0,w=Date.now()-w.F;var W=c.B;D=yu(),be(D,new cv(D,I)),Cu(c)}else $v(c);else if(W=w.s,W==3||W==0&&0<w.X||!(D==1&&YI(c,w)||D==2&&Yh(c)))switch(I&&0<I.length&&(w=c.h,w.i=w.i.concat(I)),W){case 1:is(c,5);break;case 4:is(c,10);break;case 3:is(c,6);break;default:is(c,2)}}}function Bv(c,w){let I=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(I*=2),I*w}function is(c,w){if(c.j.info("Error code "+w),w==2){var I=p(c.fb,c),D=c.Xa;const W=!D;D=new rs(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xu(D,"https"),bu(D),W?BI(D.toString(),I):HI(D.toString(),I)}else Yt(2);c.G=0,c.l&&c.l.sa(w),Hv(c),Mv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function Hv(c){if(c.G=0,c.ka=[],c.l){const w=xv(c.h);(w.length!=0||c.i.length!=0)&&(E(c.ka,w),E(c.ka,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.ra()}}function Wv(c,w,I){var D=I instanceof rs?Sr(I):new rs(I);if(D.g!="")w&&(D.g=w+"."+D.g),Eu(D,D.s);else{var W=a.location;D=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;var Q=new rs(null);D&&xu(Q,D),w&&(Q.g=w),W&&Eu(Q,W),I&&(Q.l=I),D=Q}return I=c.D,w=c.ya,I&&w&&Ge(D,I,w),Ge(D,"VER",c.la),ba(c,D),D}function qv(c,w,I){if(w&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=c.Ca&&!c.pa?new at(new Tu({eb:I})):new at(c.pa),w.Ha(c.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gv(){}t=Gv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ru(){}Ru.prototype.g=function(c,w){return new pn(c,w)};function pn(c,w){Ce.call(this),this.g=new Lv(w),this.l=c,this.h=w&&w.messageUrlParams||null,c=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(c?c["X-WebChannel-Content-Type"]=w.messageContentType:c={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(c?c["X-WebChannel-Client-Profile"]=w.va:c={"X-WebChannel-Client-Profile":w.va}),this.g.S=c,(c=w&&w.Sb)&&!_(c)&&(this.g.m=c),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!_(w)&&(this.g.D=w,c=this.h,c!==null&&w in c&&(c=this.h,w in c&&delete c[w])),this.j=new qs(this)}v(pn,Ce),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Qh(this.g)},pn.prototype.o=function(c){var w=this.g;if(typeof c=="string"){var I={};I.__data__=c,c=I}else this.u&&(I={},I.__data__=fn(c),c=I);w.i.push(new jI(w.Ya++,c)),w.G==3&&Cu(w)},pn.prototype.N=function(){this.g.l=null,delete this.j,Qh(this.g),delete this.g,pn.aa.N.call(this)};function Kv(c){ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var w=c.__sm__;if(w){e:{for(const I in w){c=I;break e}c=void 0}(this.i=c)&&(c=this.i,w=w!==null&&c in w?w[c]:void 0),this.data=w}else this.data=c}v(Kv,ri);function Qv(){$h.call(this),this.status=1}v(Qv,$h);function qs(c){this.g=c}v(qs,Gv),qs.prototype.ua=function(){be(this.g,"a")},qs.prototype.ta=function(c){be(this.g,new Kv(c))},qs.prototype.sa=function(c){be(this.g,new Qv)},qs.prototype.ra=function(){be(this.g,"b")},Ru.prototype.createWebChannel=Ru.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,lT=function(){return new Ru},aT=function(){return yu()},oT=ts,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vu.NO_ERROR=0,vu.TIMEOUT=8,vu.HTTP_ERROR=6,Rc=vu,dv.COMPLETE="complete",sT=dv,ha.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,Ua=ha,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,iT=at}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",B_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Wg("@firebase/firestore");function Xs(){return Ps.logLevel}function pe(t,...e){if(Ps.logLevel<=je.DEBUG){const n=e.map(ry);Ps.debug(`Firestore (${ea}): ${t}`,...n)}}function Gr(t,...e){if(Ps.logLevel<=je.ERROR){const n=e.map(ry);Ps.error(`Firestore (${ea}): ${t}`,...n)}}function Vi(t,...e){if(Ps.logLevel<=je.WARN){const n=e.map(ry);Ps.warn(`Firestore (${ea}): ${t}`,...n)}}function ry(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uT(t,r,n)}function uT(t,e,n){let r=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Gr(r),new Error(r)}function Ue(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||uT(e,i,r)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class hD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fD{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string",31837,{l:r}),new cT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class pD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0,3512);const r=s=>{s.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new H_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function am(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Re(r,i);{const s=dT(),o=vD(s.encode(W_(t,n)),s.encode(W_(e,n)));return o!==0?o:Re(r,i)}}n+=r>65535?2:1}return Re(t.length,e.length)}function W_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function vD(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Re(t[n],e[n]);return Re(t.length,e.length)}function Vo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="__name__";class ur{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ur.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Re(e.length,n.length)}static compareSegments(e,n){const r=ur.isNumericId(e),i=ur.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ur.extractNumericId(e).compare(ur.extractNumericId(n)):am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oi.fromString(e.substring(4,e.length-2))}}class We extends ur{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new We(n)}static emptyPath(){return new We([])}}const _D=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ur{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return _D.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q_}static keyField(){return new jt([q_])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(We.fromString(e))}static fromName(e){return new we(We.fromString(e).popFirst(5))}static empty(){return new we(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wD(t,e,n,r){if(e===!0&&r===!0)throw new he(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G_(t){if(!we.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function K_(t){if(we.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lh(t);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function nu(t,e){if(!fT(t))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,Y_=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Y_);return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q_)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:gt("string",Qe._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Qe(0,0))}static max(){return new Se(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function xD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Fi(i,we.empty(),e)}function ED(t){return new Fi(t.readTime,t.key,jl)}class Fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fi(Se.min(),we.empty(),jl)}static max(){return new Fi(Se.max(),we.empty(),jl)}}function bD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==TD)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function kD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function na(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}uh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=-1;function ch(t){return t==null}function wd(t){return t===0&&1/t==-1/0}function ID(t){return typeof t=="number"&&Number.isInteger(t)&&!wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="";function CD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=X_(e)),e=AD(t.get(n),e);return X_(e)}function AD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case pT:n+="";break;default:n+=s}}return n}function X_(t){return t+pT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(e){return new Z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class Z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new yn([])}unionWith(e){let n=new xt(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gT("Invalid base64 string: "+s):s}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const RD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(t){if(Ue(!!t,39018),typeof t=="string"){let e=0;const n=RD.exec(t);if(Ue(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ui(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="server_timestamp",vT="__type__",_T="__previous_value__",wT="__local_write_time__";function oy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vT])===null||n===void 0?void 0:n.stringValue)===yT}function dh(t){const e=t.mapValue.fields[_T];return oy(e)?dh(e):e}function Ol(t){const e=$i(t.mapValue.fields[wT].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,i,s,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const xd="(default)";class Dl{constructor(e,n){this.projectId=e,this.database=n||xd}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===xd}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="__type__",ET="__max__",Zu={mapValue:{fields:{__type__:{stringValue:ET}}}},bT="__vector__",Ed="value";function zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oy(t)?4:jD(t)?9007199254740991:ND(t)?10:11:Te(28295,{value:t})}function Er(t,e){if(t===e)return!0;const n=zi(t);if(n!==zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ol(t).isEqual(Ol(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$i(i.timestampValue),a=$i(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ui(i.bytesValue).isEqual(Ui(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ct(i.geoPointValue.latitude)===ct(s.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ct(i.integerValue)===ct(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ct(i.doubleValue),a=ct(s.doubleValue);return o===a?wd(o)===wd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(J_(o)!==J_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Er(o[l],a[l])))return!1;return!0}(t,e);default:return Te(52216,{left:t})}}function Ll(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=zi(t),r=zi(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ct(s.integerValue||s.doubleValue),l=ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ew(t.timestampValue,e.timestampValue);case 4:return ew(Ol(t),Ol(e));case 5:return am(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ui(s),l=Ui(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Re(a[u],l[u]);if(h!==0)return h}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Re(ct(s.latitude),ct(o.latitude));return a!==0?a:Re(ct(s.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return tw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,h;const f=s.fields||{},p=o.fields||{},m=(a=f[Ed])===null||a===void 0?void 0:a.arrayValue,v=(l=p[Ed])===null||l===void 0?void 0:l.arrayValue,g=Re(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return g!==0?g:tw(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Zu.mapValue&&o===Zu.mapValue)return 0;if(s===Zu.mapValue)return 1;if(o===Zu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=am(l[f],h[f]);if(p!==0)return p;const m=Fo(a[l[f]],u[h[f]]);if(m!==0)return m}return Re(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Te(23264,{le:n})}}function ew(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=$i(t),r=$i(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function tw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Fo(n[i],r[i]);if(s)return s}return Re(n.length,r.length)}function $o(t){return lm(t)}function lm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$i(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ui(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=lm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${lm(n.fields[o])}`;return i+"}"}(t.mapValue):Te(61005,{value:t})}function Pc(t){switch(zi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dh(t);return e?16+Pc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ui(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Pc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Yi(r.fields,(s,o)=>{i+=s.length+Pc(o)}),i}(t.mapValue);default:throw Te(13486,{value:t})}}function nw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function um(t){return!!t&&"integerValue"in t}function ay(t){return!!t&&"arrayValue"in t}function rw(t){return!!t&&"nullValue"in t}function iw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nc(t){return!!t&&"mapValue"in t}function ND(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xT])===null||n===void 0?void 0:n.stringValue)===bT}function sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ET}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=sl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new on(sl(this.value))}}function TT(t){const e=[];return Yi(t.fields,(n,r)=>{const i=new jt([n]);if(Nc(r)){const s=TT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,Se.min(),Se.min(),Se.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new Ht(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Ht(e,2,n,Se.min(),Se.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,Se.min(),Se.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.position=e,this.inclusive=n}}function sw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=we.comparator(we.fromName(o.referenceValue),n.key):r=Fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ow(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n="asc"){this.field=e,this.dir=n}}function OD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{}class mt extends ST{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LD(e,n,r):n==="array-contains"?new FD(e,r):n==="in"?new $D(e,r):n==="not-in"?new UD(e,r):n==="array-contains-any"?new zD(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MD(e,r):new VD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends ST{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new nr(e,n)}matches(e){return kT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function kT(t){return t.op==="and"}function IT(t){return DD(t)&&kT(t)}function DD(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function cm(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(IT(t))return t.filters.map(e=>cm(e)).join(",");{const e=t.filters.map(n=>cm(n)).join(",");return`${t.op}(${e})`}}function CT(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)}(t,e):t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&CT(o,i.filters[a]),!0):!1}(t,e):void Te(19439)}function AT(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(AT).join(" ,")+"}"}(t):"Filter"}class LD extends mt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class MD extends mt{constructor(e,n){super(e,"in",n),this.keys=RT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VD extends mt{constructor(e,n){super(e,"not-in",n),this.keys=RT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class FD extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ay(n)&&Ll(n.arrayValue,this.value)}}class $D extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class UD extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ll(this.value.arrayValue,n)}}class zD extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function aw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new BD(t,e,n,r,i,s,o)}function ly(t){const e=ke(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$o(r)).join(",")),e.Pe=n}return e.Pe}function uy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ow(t.startAt,e.startAt)&&ow(t.endAt,e.endAt)}function dm(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function HD(t,e,n,r,i,s,o,a){return new ru(t,e,n,r,i,s,o,a)}function cy(t){return new ru(t)}function lw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PT(t){return t.collectionGroup!==null}function ol(t){const e=ke(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Td(s,r))}),n.has(jt.keyField().canonicalString())||e.Te.push(new Td(jt.keyField(),r))}return e.Te}function gr(t){const e=ke(t);return e.Ie||(e.Ie=WD(e,ol(t))),e.Ie}function WD(t,e){if(t.limitType==="F")return aw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Td(i.field,s)});const n=t.endAt?new bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bd(t.startAt.position,t.startAt.inclusive):null;return aw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hm(t,e){const n=t.filters.concat([e]);return new ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fm(t,e,n){return new ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return uy(gr(t),gr(e))&&t.limitType===e.limitType}function NT(t){return`${ly(gr(t))}|lt:${t.limitType}`}function Js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AT(i)).join(", ")}]`),ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$o(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$o(i)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function fh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):we.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ol(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=sw(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ol(r),i)||r.endAt&&!function(o,a,l){const u=sw(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ol(r),i))}(t,e)}function qD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jT(t){return(e,n)=>{let r=!1;for(const i of ol(t)){const s=GD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GD(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Fo(l,u):Te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new st(we.comparator);function Kr(){return KD}const OT=new st(we.comparator);function za(...t){let e=OT;for(const n of t)e=e.insert(n.key,n);return e}function DT(t){let e=OT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ps(){return al()}function LT(){return al()}function al(){return new Fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const QD=new st(we.comparator),YD=new xt(we.comparator);function Oe(...t){let e=YD;for(const n of t)e=e.add(n);return e}const XD=new xt(Re);function JD(){return XD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(e)?"-0":e}}function MT(t){return{integerValue:""+t}}function ZD(t,e){return ID(e)?MT(e):dy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function e4(t,e,n){return t instanceof Ml?function(i,s){const o={fields:{[vT]:{stringValue:yT},[wT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&oy(s)&&(s=dh(s)),s&&(o.fields[_T]=s),{mapValue:o}}(n,e):t instanceof Vl?FT(t,e):t instanceof Fl?$T(t,e):function(i,s){const o=VT(i,s),a=uw(o)+uw(i.Ee);return um(o)&&um(i.Ee)?MT(a):dy(i.serializer,a)}(t,e)}function t4(t,e,n){return t instanceof Vl?FT(t,e):t instanceof Fl?$T(t,e):n}function VT(t,e){return t instanceof Sd?function(r){return um(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ml extends ph{}class Vl extends ph{constructor(e){super(),this.elements=e}}function FT(t,e){const n=UT(e);for(const r of t.elements)n.some(i=>Er(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fl extends ph{constructor(e){super(),this.elements=e}}function $T(t,e){let n=UT(e);for(const r of t.elements)n=n.filter(i=>!Er(i,r));return{arrayValue:{values:n}}}class Sd extends ph{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function uw(t){return ct(t.integerValue||t.doubleValue)}function UT(t){return ay(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.field=e,this.transform=n}}function r4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vl&&i instanceof Vl||r instanceof Fl&&i instanceof Fl?Vo(r.elements,i.elements,Er):r instanceof Sd&&i instanceof Sd?Er(r.Ee,i.Ee):r instanceof Ml&&i instanceof Ml}(t.transform,e.transform)}class i4{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mh{}function zT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hy(t.key,On.none()):new iu(t.key,t.data,On.none());{const n=t.data,r=on.empty();let i=new xt(jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xi(t.key,r,new yn(i.toArray()),On.none())}}function s4(t,e,n){t instanceof iu?function(i,s,o){const a=i.value.clone(),l=dw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xi?function(i,s,o){if(!jc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=dw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(BT(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ll(t,e,n,r){return t instanceof iu?function(s,o,a,l){if(!jc(s.precondition,o))return a;const u=s.value.clone(),h=hw(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xi?function(s,o,a,l){if(!jc(s.precondition,o))return a;const u=hw(s.fieldTransforms,l,o),h=o.data;return h.setAll(BT(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return jc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function o4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=VT(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vo(r,i,(s,o)=>r4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class iu extends mh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xi extends mh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dw(t,e,n){const r=new Map;Ue(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,t4(o,a,n[i]))}return r}function hw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,e4(s,o,e))}return r}class hy extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a4 extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&s4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=zT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,r)=>cw(n,r))&&Vo(this.baseMutations,e.baseMutations,(n,r)=>cw(n,r))}}class fy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return QD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Le;function d4(t){switch(t){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function HT(t){if(t===void 0)return Gr("GRPC error has no .code"),ee.UNKNOWN;switch(t){case ft.OK:return ee.OK;case ft.CANCELLED:return ee.CANCELLED;case ft.UNKNOWN:return ee.UNKNOWN;case ft.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case ft.INTERNAL:return ee.INTERNAL;case ft.UNAVAILABLE:return ee.UNAVAILABLE;case ft.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case ft.NOT_FOUND:return ee.NOT_FOUND;case ft.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case ft.ABORTED:return ee.ABORTED;case ft.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case ft.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:t})}}(Le=ft||(ft={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new Oi([4294967295,4294967295],0);function fw(t){const e=dT().encode(t),n=new rT;return n.update(e),new Uint8Array(n.digest())}function pw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Oi([n,r],0),new Oi([i,s],0)]}class py{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ba(`Invalid padding: ${n}`);if(r<0)throw new Ba(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ba(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ba(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Oi.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Oi.fromNumber(r)));return i.compare(h4)===1&&(i=new Oi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=fw(e),[r,i]=pw(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new py(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=fw(e),[r,i]=pw(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gh(Se.min(),i,new st(Re),Kr(),Oe())}}class su{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new su(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class WT{constructor(e,n){this.targetId=e,this.De=n}}class qT{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mw{constructor(){this.ve=0,this.Ce=gw(),this.Fe=Lt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Oe(),n=Oe(),r=Oe();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te(38017,{changeType:s})}}),new su(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=gw()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class f4{constructor(e){this.We=e,this.Ge=new Map,this.ze=Kr(),this.je=ec(),this.Je=ec(),this.He=new st(Re)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(dm(s))if(r===0){const o=new we(s.path);this.Xe(n,o,Ht.newNoDocument(o,Se.min()))}else Ue(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ui(r).toUint8Array()}catch(l){if(l instanceof gT)return Vi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new py(o,i,s)}catch(l){return Vi(l instanceof Ba?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&dm(a.target)){const l=new we(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Ht.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=Oe();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new gh(e,n,this.He,this.ze,r);return this.ze=Kr(),this.je=ec(),this.Je=ec(),this.He=new st(Re),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new mw,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new xt(Re),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new xt(Re),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new mw),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function ec(){return new st(we.comparator)}function gw(){return new st(we.comparator)}const p4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),m4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),g4=(()=>({and:"AND",or:"OR"}))();class y4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pm(t,e){return t.useProto3Json||ch(e)?e:{value:e}}function kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function v4(t,e){return kd(t,e.toTimestamp())}function yr(t){return Ue(!!t,49232),Se.fromTimestamp(function(n){const r=$i(n);return new Qe(r.seconds,r.nanos)}(t))}function my(t,e){return mm(t,e).canonicalString()}function mm(t,e){const n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KT(t){const e=We.fromString(t);return Ue(ZT(e),10190,{key:e.toString()}),e}function gm(t,e){return my(t.databaseId,e.path)}function Df(t,e){const n=KT(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(YT(n))}function QT(t,e){return my(t.databaseId,e)}function _4(t){const e=KT(t);return e.length===4?We.emptyPath():YT(e)}function ym(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YT(t){return Ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function yw(t,e,n){return{name:gm(t,e),fields:n.value.mapValue.fields}}function w4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Ue(h===void 0||typeof h=="string",58123),Lt.fromBase64String(h||"")):(Ue(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?ee.UNKNOWN:HT(u.code);return new he(h,u.message||"")}(o);n=new qT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Df(t,r.document.name),s=yr(r.document.updateTime),o=r.document.createTime?yr(r.document.createTime):Se.min(),a=new on({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Oc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Df(t,r.document),s=r.readTime?yr(r.readTime):Se.min(),o=Ht.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Oc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Df(t,r.document),s=r.removedTargetIds||[];n=new Oc([],s,i,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new c4(i,s),a=r.targetId;n=new WT(a,o)}}return n}function x4(t,e){let n;if(e instanceof iu)n={update:yw(t,e.key,e.value)};else if(e instanceof hy)n={delete:gm(t,e.key)};else if(e instanceof Xi)n={update:yw(t,e.key,e.data),updateMask:R4(e.fieldMask)};else{if(!(e instanceof a4))return Te(16599,{Rt:e.type});n={verify:gm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sd)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Te(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:v4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Te(27497)}(t,e.precondition)),n}function E4(t,e){return t&&t.length>0?(Ue(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?yr(i.updateTime):yr(s);return o.isEqual(Se.min())&&(o=yr(s)),new i4(o,i.transformResults||[])}(n,e))):[]}function b4(t,e){return{documents:[QT(t,e.path)]}}function T4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QT(t,i);const s=function(u){if(u.length!==0)return JT(nr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:Zs(p.field),direction:I4(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function S4(t){let e=_4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=XT(f);return p instanceof nr&&IT(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new Td(eo(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ch(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new bd(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new bd(m,p)}(n.endAt)),HD(e,i,o,s,a,"F",l,u)}function k4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=eo(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=eo(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=eo(n.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=eo(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(eo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>XT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(t):Te(30097,{filter:t})}function I4(t){return p4[t]}function C4(t){return m4[t]}function A4(t){return g4[t]}function Zs(t){return{fieldPath:t.canonicalString()}}function eo(t){return jt.fromServerFormat(t.fieldPath)}function JT(t){return t instanceof mt?function(n){if(n.op==="=="){if(iw(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NAN"}};if(rw(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iw(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NAN"}};if(rw(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(n.field),op:C4(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(i=>JT(i));return r.length===1?r[0]:{compositeFilter:{op:A4(n.op),filters:r}}}(t):Te(54877,{filter:t})}function R4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r,i,s=Se.min(),o=Se.min(),a=Lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.gt=e}}function N4(t){const e=S4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.Dn=new O4}addToCollectionParentIndex(e,n){return this.Dn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Fi.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class O4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(We.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eS=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(eS,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Uo(0)}static ur(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="LruGarbageCollector",D4=1048576;function ww([t,e],[n,r]){const i=Re(t,n);return i===0?Re(e,r):i}class L4{constructor(e){this.Tr=e,this.buffer=new xt(ww),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ww(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){pe(_w,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){na(n)?pe(_w,"Ignoring IndexedDB error during garbage collection: ",n):await ta(n)}await this.Rr(3e5)})}}class V4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(uh.ue);const r=new L4(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(vw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vw):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Xs()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function F4(t,e){return new V4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.changes=new Fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ll(r.mutation,i,yn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=za();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Kr();const o=al(),a=function(){return al()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Xi)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),ll(h.mutation,u,h.mutation.getFieldMask(),Qe.now())):o.set(u.key,yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new U4(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=al();let i=new st((o,a)=>o-a),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||yn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=LT();h.forEach(p=>{if(!s.has(p)){const m=zT(n.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return te.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(ps());let a=jl,l=s;return o.next(u=>te.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?te.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Oe())).next(h=>({batchId:a,changes:DT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=za();return this.indexManager.getCollectionParents(e,s).next(a=>te.forEach(a,l=>{const u=function(f,p){return new ru(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Ht.newInvalidDocument(h)))});let a=za();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&ll(h.mutation,u,yn.empty(),Qe.now()),fh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return te.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:N4(i.bundledQuery),readTime:yr(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.overlays=new st(we.comparator),this.kr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ps();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=ps(),s=n.length+1,o=new we(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new st((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=ps(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ps(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return te.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new u4(n,r));let s=this.kr.get(n);s===void 0&&(s=Oe(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.qr=new xt(Tt.Qr),this.$r=new xt(Tt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Tt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new we(new We([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new we(new We([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=Oe();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return we.comparator(e.key,n.key)||Re(e.Hr,n.Hr)}static Ur(e,n){return Re(e.Hr,n.Hr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new xt(Tt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new l4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?sy:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Re);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),te.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;we.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new we(s),0);let a=new xt(Re);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},o),te.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return te.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Tt(n,0),i=this.Yr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.ni=e,this.docs=function(){return new st(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=Kr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Kr();const o=n.path,a=new we(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||bD(ED(h),r)<=0||(i.has(h.key)||fh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te(9500)}ri(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new K4(this)}getSize(e){return te.resolve(this.size)}}class K4 extends $4{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.persistence=e,this.ii=new Fs(n=>ly(n),uy),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new gy,this.targetCount=0,this._i=Uo.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),te.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.hr(n),te.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.ai={},this.overlays={},this.ui=new uh(0),this.ci=!1,this.ci=!0,this.li=new W4,this.referenceDelegate=e(this),this.hi=new Q4(this),this.indexManager=new j4,this.remoteDocumentCache=function(i){return new G4(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new P4(n),this.Ti=new B4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new q4(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new Y4(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return te.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class Y4 extends SD{constructor(e){super(),this.currentSequenceNumber=e}}class yy{constructor(e){this.persistence=e,this.Ai=new gy,this.Ri=null}static Vi(e){return new yy(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,r=>{const i=we.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return te.or([()=>te.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Id{constructor(e,n){this.persistence=e,this.gi=new Fs(r=>CD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=F4(this,n)}static Vi(e,n){return new Id(e,n)}Ii(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return te.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pc(e.data.value)),n}Sr(e,n,r){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Oe(),i=Oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return IP()?8:kD(Kt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new X4;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Xs()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(Xs()<=je.DEBUG&&pe("QueryEngine","Query:",Js(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Xs()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):te.resolve())}ps(e,n){if(lw(n))return te.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fm(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Oe(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ds(n,u,o,l.readTime)?this.ps(e,fm(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,r,i){return lw(n)||i.isEqual(Se.min())?te.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?te.resolve(null):(Xs()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Js(n)),this.vs(e,o,n,xD(i,jl)).next(a=>a))})}bs(e,n){let r=new xt(jT(e));return n.forEach((i,s)=>{fh(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return Xs()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Js(n)),this.gs.getDocumentsMatchingQuery(e,n,Fi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="LocalStore",Z4=3e8;class e3{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new st(Re),this.Ms=new Fs(s=>ly(s),uy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function t3(t,e,n,r){return new e3(t,e,n,r)}async function nS(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Oe();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function n3(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,p=f.keys();let m=te.resolve();return p.forEach(v=>{m=m.next(()=>h.getEntry(l,v)).next(g=>{const E=u.docVersions.get(v);Ue(E!==null,48541),g.version.compareTo(E)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),h.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rS(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function r3(t,e){const n=ke(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.hi.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(s,h.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Lt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(f,m),function(g,E,y){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Z4?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,m,h)&&a.push(n.hi.updateTargetData(s,m))});let l=Kr(),u=Oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(i3(s,o,e.documentUpdates).next(h=>{l=h.Ls,u=h.ks})),!r.isEqual(Se.min())){const h=n.hi.getLastRemoteSnapshotVersion(s).next(f=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return te.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Fs=i,s))}function i3(t,e,n){let r=Oe(),i=Oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Kr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):pe(_y,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function s3(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function o3(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new xi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function vm(t,e,n){const r=ke(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!na(o))throw o;pe(_y,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function xw(t,e,n){const r=ke(t);let i=Se.min(),s=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=ke(l),p=f.Ms.get(h);return p!==void 0?te.resolve(f.Fs.get(p)):f.hi.getTargetData(u,h)}(r,o,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?s:Oe())).next(a=>(a3(r,qD(e),a),{documents:a,qs:s})))}function a3(t,e,n){let r=t.xs.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class Ew{constructor(){this.activeTargetIds=JD()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l3{constructor(){this.Fo=new Ew,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Ew,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="ConnectivityMonitor";class Tw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){pe(bw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){pe(bw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=null;function _m(){return tc===null?tc=function(){return 268435456+Math.round(2147483648*Math.random())}():tc++,"0x"+tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="RestConnection",c3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class d3{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===xd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=_m(),a=this.Go(e,n.toUriEncodedString());pe(Lf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:u}=new URL(a),h=Yo(u);return this.jo(e,a,l,r,h).then(f=>(pe(Lf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Vi(Lf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=c3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class f3 extends d3{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=_m();return new Promise((a,l)=>{const u=new iT;u.setWithCredentials(!0),u.listenOnce(sT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Rc.NO_ERROR:const f=u.getResponseJson();pe(Ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Rc.TIMEOUT:pe(Ut,`RPC '${e}' ${o} timed out`),l(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const p=u.getStatus();if(pe(Ut,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const g=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(_)>=0?_:ee.UNKNOWN}(v.status);l(new he(g,v.message))}else l(new he(ee.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{pe(Ut,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);pe(Ut,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}P_(e,n,r){const i=_m(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lT(),a=aT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");pe(Ut,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=o.createWebChannel(h,l);this.T_(f);let p=!1,m=!1;const v=new h3({Ho:E=>{m?pe(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(pe(Ut,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),pe(Ut,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},Yo:()=>f.close()}),g=(E,y,_)=>{E.listen(y,x=>{try{_(x)}catch(N){setTimeout(()=>{throw N},0)}})};return g(f,Ua.EventType.OPEN,()=>{m||(pe(Ut,`RPC '${e}' stream ${i} transport opened.`),v.s_())}),g(f,Ua.EventType.CLOSE,()=>{m||(m=!0,pe(Ut,`RPC '${e}' stream ${i} transport closed`),v.__(),this.I_(f))}),g(f,Ua.EventType.ERROR,E=>{m||(m=!0,Vi(Ut,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),v.__(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),g(f,Ua.EventType.MESSAGE,E=>{var y;if(!m){const _=E.data[0];Ue(!!_,16349);const x=_,N=(x==null?void 0:x.error)||((y=x[0])===null||y===void 0?void 0:y.error);if(N){pe(Ut,`RPC '${e}' stream ${i} received error:`,N);const O=N.status;let V=function(k){const P=ft[k];if(P!==void 0)return HT(P)}(O),S=N.message;V===void 0&&(V=ee.INTERNAL,S="Unknown error status: "+O+" with message "+N.message),m=!0,v.__(new he(V,S)),f.close()}else pe(Ut,`RPC '${e}' stream ${i} received:`,_),v.a_(_)}}),g(a,oT.STAT_EVENT,E=>{E.stat===om.PROXY?pe(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===om.NOPROXY&&pe(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.o_()},0),v}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){return new y4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="PersistentStream";class sS{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new iS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Gr(n.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new he(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return pe(Sw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(pe(Sw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p3 extends sS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=w4(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?yr(o.readTime):Se.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=ym(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=dm(l)?{documents:b4(s,l)}:{query:T4(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GT(s,o.resumeToken);const u=pm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=kd(s,o.snapshotVersion.toTimestamp());const u=pm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=k4(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=ym(this.serializer),n.removeTarget=e,this.k_(n)}}class m3 extends sS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=E4(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=ym(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>x4(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{}class y3 extends g3{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,mm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(ee.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,mm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(ee.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class v3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Gr(n),this._a=!1):pe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class _3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{$s(this)&&(pe(Ns,"Restarting streams for network reachability change."),await async function(l){const u=ke(l);u.Ia.add(4),await ou(u),u.Aa.set("Unknown"),u.Ia.delete(4),await vh(u)}(this))})}),this.Aa=new v3(r,i)}}async function vh(t){if($s(t))for(const e of t.da)await e(!0)}async function ou(t){for(const e of t.da)await e(!1)}function oS(t,e){const n=ke(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),by(n)?Ey(n):ra(n).x_()&&xy(n,e))}function wy(t,e){const n=ke(t),r=ra(n);n.Ta.delete(e),r.x_()&&aS(n,e),n.Ta.size===0&&(r.x_()?r.B_():$s(n)&&n.Aa.set("Unknown"))}function xy(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ra(t).H_(e)}function aS(t,e){t.Ra.$e(e),ra(t).Y_(e)}function Ey(t){t.Ra=new f4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ra(t).start(),t.Aa.aa()}function by(t){return $s(t)&&!ra(t).M_()&&t.Ta.size>0}function $s(t){return ke(t).Ia.size===0}function lS(t){t.Ra=void 0}async function w3(t){t.Aa.set("Online")}async function x3(t){t.Ta.forEach((e,n)=>{xy(t,e)})}async function E3(t,e){lS(t),by(t)?(t.Aa.la(e),Ey(t)):t.Aa.set("Unknown")}async function b3(t,e,n){if(t.Aa.set("Online"),e instanceof qT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){pe(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cd(t,r)}else if(e instanceof Oc?t.Ra.Ye(e):e instanceof WT?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Se.min()))try{const r=await rS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ta.get(u);h&&s.Ta.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.Ta.get(l);if(!h)return;s.Ta.set(l,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),aS(s,l);const f=new xi(h.target,l,u,h.sequenceNumber);xy(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){pe(Ns,"Failed to raise snapshot:",r),await Cd(t,r)}}async function Cd(t,e,n){if(!na(e))throw e;t.Ia.add(1),await ou(t),t.Aa.set("Offline"),n||(n=()=>rS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe(Ns,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await vh(t)})}function uS(t,e){return e().catch(n=>Cd(t,n,e))}async function _h(t){const e=ke(t),n=Bi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:sy;for(;T3(e);)try{const i=await s3(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,S3(e,i)}catch(i){await Cd(e,i)}cS(e)&&dS(e)}function T3(t){return $s(t)&&t.Pa.length<10}function S3(t,e){t.Pa.push(e);const n=Bi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function cS(t){return $s(t)&&!Bi(t).M_()&&t.Pa.length>0}function dS(t){Bi(t).start()}async function k3(t){Bi(t).na()}async function I3(t){const e=Bi(t);for(const n of t.Pa)e.X_(n.mutations)}async function C3(t,e,n){const r=t.Pa.shift(),i=fy.from(r,e,n);await uS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _h(t)}async function A3(t,e){e&&Bi(t).Z_&&await async function(r,i){if(function(o){return d4(o)&&o!==ee.ABORTED}(i.code)){const s=r.Pa.shift();Bi(r).N_(),await uS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await _h(r)}}(t,e),cS(t)&&dS(t)}async function kw(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),pe(Ns,"RemoteStore received new credentials");const r=$s(n);n.Ia.add(3),await ou(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await vh(n)}async function R3(t,e){const n=ke(t);e?(n.Ia.delete(2),await vh(n)):e||(n.Ia.add(2),await ou(n),n.Aa.set("Unknown"))}function ra(t){return t.Va||(t.Va=function(n,r,i){const s=ke(n);return s.ia(),new p3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:w3.bind(null,t),e_:x3.bind(null,t),n_:E3.bind(null,t),J_:b3.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),by(t)?Ey(t):t.Aa.set("Unknown")):(await t.Va.stop(),lS(t))})),t.Va}function Bi(t){return t.ma||(t.ma=function(n,r,i){const s=ke(n);return s.ia(),new m3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:k3.bind(null,t),n_:A3.bind(null,t),ea:I3.bind(null,t),ta:C3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await _h(t)):(await t.ma.stop(),t.Pa.length>0&&(pe(Ns,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ty(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sy(t,e){if(Gr("AsyncQueue",`${e}: ${t}`),na(t))return new he(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=za(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.fa=new st(we.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Te(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class zo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zo(e,n,ko.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class N3{constructor(){this.queries=Cw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=ke(n),s=i.queries;i.queries=Cw(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function Cw(){return new Fs(t=>NT(t),hh)}async function hS(t,e){const n=ke(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new P3,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Sy(o,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&ky(n)}async function fS(t,e){const n=ke(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function j3(t,e){const n=ke(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&ky(n)}function O3(t,e,n){const r=ke(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function ky(t){t.Da.forEach(e=>{e.next()})}var wm,Aw;(Aw=wm||(wm={})).Fa="default",Aw.Cache="cache";class pS{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.key=e}}class gS{constructor(e){this.key=e}}class D3{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Oe(),this.mutatedKeys=Oe(),this.Xa=jT(e),this.eu=new ko(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new Iw,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const p=i.get(h),m=fh(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?v!==g&&(r.track({type:3,doc:m}),E=!0):this.iu(p,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Xa(m,l)>0||u&&this.Xa(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),s=g?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(m,v){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:E})}};return g(m)-g(v)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,o.length!==0||u?{snapshot:new zo(this.query,e.eu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Iw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Oe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new gS(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new mS(r))}),n}uu(e){this.Ha=e.qs,this.Za=Oe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return zo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Iy="SyncEngine";class L3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class M3{constructor(e){this.key=e,this.lu=!1}}class V3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Fs(a=>NT(a),hh),this.Tu=new Map,this.Iu=new Set,this.du=new st(we.comparator),this.Eu=new Map,this.Au=new gy,this.Ru={},this.Vu=new Map,this.mu=Uo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function F3(t,e,n=!0){const r=ES(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await yS(r,e,n,!0),i}async function $3(t,e){const n=ES(t);await yS(n,e,!0,!1)}async function yS(t,e,n,r){const i=await o3(t.localStore,gr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await U3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&oS(t.remoteStore,i),a}async function U3(t,e,n,r,i){t.gu=(f,p,m)=>async function(g,E,y,_){let x=E.view.nu(y);x.Ds&&(x=await xw(g.localStore,E.query,!1).then(({documents:S})=>E.view.nu(S,x)));const N=_&&_.targetChanges.get(E.targetId),O=_&&_.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(x,g.isPrimaryClient,N,O);return Pw(g,E.targetId,V._u),V.snapshot}(t,f,p,m);const s=await xw(t.localStore,e,!0),o=new D3(e,s.qs),a=o.nu(s.documents),l=su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Pw(t,n,u._u);const h=new L3(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function z3(t,e,n){const r=ke(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!hh(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wy(r.remoteStore,i.targetId),xm(r,i.targetId)}).catch(ta)):(xm(r,i.targetId),await vm(r.localStore,i.targetId,!0))}async function B3(t,e){const n=ke(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wy(n.remoteStore,r.targetId))}async function H3(t,e,n){const r=X3(t);try{const i=await function(o,a){const l=ke(o),u=Qe.now(),h=a.reduce((m,v)=>m.add(v.key),Oe());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Kr(),g=Oe();return l.Os.getEntries(m,h).next(E=>{v=E,v.forEach((y,_)=>{_.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(E=>{f=E;const y=[];for(const _ of a){const x=o4(_,f.get(_.key).overlayedDocument);x!=null&&y.push(new Xi(_.key,x,TT(x.value.mapValue),On.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,y,a)}).next(E=>{p=E;const y=E.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,E.batchId,y)})}).then(()=>({batchId:p.batchId,changes:DT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ru[o.currentUser.toKey()];u||(u=new st(Re)),u=u.insert(a,l),o.Ru[o.currentUser.toKey()]=u}(r,i.batchId,n),await au(r,i.changes),await _h(r.remoteStore)}catch(i){const s=Sy(i,"Failed to persist write");n.reject(s)}}async function vS(t,e){const n=ke(t);try{const r=await r3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Ue(o.lu,14607):i.removedDocuments.size>0&&(Ue(o.lu,42227),o.lu=!1))}),await au(n,r,e)}catch(r){await ta(r)}}function Rw(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ke(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const p of f.wa)p.va(a)&&(u=!0)}),u&&ky(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W3(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new st(we.comparator);o=o.insert(s,Ht.newNoDocument(s,Se.min()));const a=Oe().add(s),l=new gh(Se.min(),new Map,new st(Re),o,a);await vS(r,l),r.du=r.du.remove(s),r.Eu.delete(e),Cy(r)}else await vm(r.localStore,e,!1).then(()=>xm(r,e,n)).catch(ta)}async function q3(t,e){const n=ke(t),r=e.batch.batchId;try{const i=await n3(n.localStore,e);wS(n,r,null),_S(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await au(n,i)}catch(i){await ta(i)}}async function G3(t,e,n){const r=ke(t);try{const i=await function(o,a){const l=ke(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ue(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);wS(r,e,n),_S(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await au(r,i)}catch(i){await ta(i)}}function _S(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function wS(t,e,n){const r=ke(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function xm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||xS(t,r)})}function xS(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wy(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Cy(t))}function Pw(t,e,n){for(const r of n)r instanceof mS?(t.Au.addReference(r.key,e),K3(t,r)):r instanceof gS?(pe(Iy,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||xS(t,r.key)):Te(19791,{yu:r})}function K3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(pe(Iy,"New document in limbo: "+n),t.Iu.add(r),Cy(t))}function Cy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new we(We.fromString(e)),r=t.mu.next();t.Eu.set(r,new M3(n)),t.du=t.du.insert(n,r),oS(t.remoteStore,new xi(gr(cy(n.path)),r,"TargetPurposeLimboResolution",uh.ue))}}async function au(t,e,n){const r=ke(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=vy.Es(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,u){const h=ke(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>te.forEach(u,p=>te.forEach(p.Is,m=>h.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>te.forEach(p.ds,m=>h.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!na(f))throw f;pe(_y,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=h.Fs.get(p),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);h.Fs=h.Fs.insert(p,g)}}}(r.localStore,s))}async function Q3(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){pe(Iy,"User change. New user:",e.toKey());const r=await nS(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new he(ee.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await au(n,r.Bs)}}function Y3(t,e){const n=ke(t),r=n.Eu.get(e);if(r&&r.lu)return Oe().add(r.key);{let i=Oe();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function ES(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W3.bind(null,e),e.hu.J_=j3.bind(null,e.eventManager),e.hu.pu=O3.bind(null,e.eventManager),e}function X3(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G3.bind(null,e),e}class Ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return t3(this.persistence,new J4,e.initialUser,this.serializer)}Du(e){return new tS(yy.Vi,this.serializer)}bu(e){return new l3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ad.provider={build:()=>new Ad};class J3 extends Ad{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ue(this.persistence.referenceDelegate instanceof Id,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new M4(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new tS(r=>Id.Vi(r,n),this.serializer)}}class Em{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q3.bind(null,this.syncEngine),await R3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N3}()}createDatastore(e){const n=yh(e.databaseInfo.databaseId),r=function(s){return new f3(s)}(e.databaseInfo);return function(s,o,a,l){return new y3(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new _3(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Rw(this.syncEngine,n,0),function(){return Tw.C()?new Tw:new u3}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const f=new V3(i,s,o,a,l,u);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ke(i);pe(Ns,"RemoteStore shutting down."),s.Ia.add(5),await ou(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Em.provider={build:()=>new Em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="FirestoreClient";class Z3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=iy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{pe(Hi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(pe(Hi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vf(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Hi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Vi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{pe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Vi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function Nw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eL(t);pe(Hi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kw(e.remoteStore,i)),t._onlineComponents=e}async function eL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Hi,"Using user provided OfflineComponentProvider");try{await Vf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Vi("Error using user provided cache. Falling back to memory cache: "+n),await Vf(t,new Ad)}}else pe(Hi,"Using default OfflineComponentProvider"),await Vf(t,new J3(void 0));return t._offlineComponents}async function TS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Hi,"Using user provided OnlineComponentProvider"),await Nw(t,t._uninitializedComponentsProvider._online)):(pe(Hi,"Using default OnlineComponentProvider"),await Nw(t,new Em))),t._onlineComponents}function tL(t){return TS(t).then(e=>e.syncEngine)}async function SS(t){const e=await TS(t),n=e.eventManager;return n.onListen=F3.bind(null,e.syncEngine),n.onUnlisten=z3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=B3.bind(null,e.syncEngine),n}function nL(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new bS({next:p=>{h.Ou(),o.enqueueAndForget(()=>fS(s,f));const m=p.docs.has(a);!m&&p.fromCache?u.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new pS(cy(a.path),h,{includeMetadataChanges:!0,ka:!0});return hS(s,f)}(await SS(t),t.asyncQueue,e,n,r)),r.promise}function rL(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new bS({next:p=>{h.Ou(),o.enqueueAndForget(()=>fS(s,f)),p.fromCache&&l.source==="server"?u.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new pS(a,h,{includeMetadataChanges:!0,ka:!0});return hS(s,f)}(await SS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firestore.googleapis.com",Ow=!0;class Dw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IS,this.ssl=Ow}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ow;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<D4)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dD;switch(r.type){case"firstParty":return new mD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jw.get(n);r&&(pe("ComponentProvider","Removing Datastore"),jw.delete(n),r.terminate())}(this),Promise.resolve()}}function iL(t,e,n,r={}){var i;t=tr(t,wh);const s=Yo(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(mb(`https://${l}`),gb("Firestore",!0)),o.host!==IS&&o.host!==l&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Is(u,a)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=zt.MOCK_USER;else{h=vP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zt(p)}t._authCredentials=new hD(new cT(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ia(this.firestore,e,this._query)}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(nu(n,ht._jsonSchema))return new ht(e,r||null,new we(We.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:gt("string",ht._jsonSchemaVersion),referencePath:gt("string")};class Di extends ia{constructor(e,n,r){super(e,n,cy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new we(e))}withConverter(e){return new Di(this.firestore,e,this._path)}}function $l(t,e,...n){if(t=Et(t),hT("collection","path",e),t instanceof wh){const r=We.fromString(e,...n);return K_(r),new Di(t,null,r)}{if(!(t instanceof ht||t instanceof Di))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return K_(r),new Di(t.firestore,null,r)}}function Qr(t,e,...n){if(t=Et(t),arguments.length===1&&(e=iy.newId()),hT("doc","path",e),t instanceof wh){const r=We.fromString(e,...n);return G_(r),new ht(t,null,new we(r))}{if(!(t instanceof ht||t instanceof Di))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return G_(r),new ht(t.firestore,t instanceof Di?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="AsyncQueue";class Mw{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new iS(this,"async_queue_retry"),this.oc=()=>{const r=Mf();r&&pe(Lw,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Mf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Fr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!na(e))throw e;pe(Lw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Gr("INTERNAL UNHANDLED ERROR: ",Vw(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Ty.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Te(47125,{hc:Vw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Vw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Us extends wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Mw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mw(e),this._firestoreClient=void 0,await e}}}function sL(t,e){const n=typeof t=="object"?t:wb(),r=typeof t=="string"?t:e||xd,i=Gg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gP("firestore");s&&iL(i,...s)}return i}function Ay(t){if(t._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oL(t),t._firestoreClient}function oL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,h){return new PD(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Z3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this._byteString=e}static fromBase64String(e){try{return new An(Lt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new An(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:An._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,An._jsonSchema))return An.fromBase64String(e.bytes)}}An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:gt("string",An._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(e){if(nu(e,vr._jsonSchema))return new vr(e.latitude,e.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:gt("string",vr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,_r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _r(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:gt("string",_r._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=/^__.*__$/;class lL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}class CS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:t})}}class Ry{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(AS(this.Ec)&&aL.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class uL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yh(e)}Dc(e,n,r,i=!1){return new Ry({Ec:e,methodName:n,bc:r,path:jt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bh(t){const e=t._freezeSettings(),n=yh(t._databaseId);return new uL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RS(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);Ny("Data must be an object, but it was:",o,r);const a=PS(r,o);let l,u;if(s.merge)l=new yn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const p=bm(e,f,n);if(!o.contains(p))throw new he(ee.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);jS(h,p)||h.push(p)}l=new yn(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new lL(new on(a),l,u)}class Th extends Eh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}class Py extends Eh{_toFieldTransform(e){return new n4(e.path,new Ml)}isEqual(e){return e instanceof Py}}function cL(t,e,n,r){const i=t.Dc(1,e,n);Ny("Data must be an object, but it was:",i,r);const s=[],o=on.empty();Yi(r,(l,u)=>{const h=jy(e,l,n);u=Et(u);const f=i.gc(h);if(u instanceof Th)s.push(h);else{const p=lu(u,f);p!=null&&(s.push(h),o.set(h,p))}});const a=new yn(s);return new CS(o,a,i.fieldTransforms)}function dL(t,e,n,r,i,s){const o=t.Dc(1,e,n),a=[bm(e,r,n)],l=[i];if(s.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(bm(e,s[p])),l.push(s[p+1]);const u=[],h=on.empty();for(let p=a.length-1;p>=0;--p)if(!jS(u,a[p])){const m=a[p];let v=l[p];v=Et(v);const g=o.gc(m);if(v instanceof Th)u.push(m);else{const E=lu(v,g);E!=null&&(u.push(m),h.set(m,E))}}const f=new yn(u);return new CS(h,f,o.fieldTransforms)}function hL(t,e,n,r=!1){return lu(n,t.Dc(r?4:3,e))}function lu(t,e){if(NS(t=Et(t)))return Ny("Unsupported field value:",e,t),PS(t,e);if(t instanceof Eh)return function(r,i){if(!AS(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=lu(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qe.fromDate(r);return{timestampValue:kd(i.serializer,s)}}if(r instanceof Qe){const s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kd(i.serializer,s)}}if(r instanceof vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof An)return{bytesValue:GT(i.serializer,r._byteString)};if(r instanceof ht){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:my(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _r)return function(o,a){return{mapValue:{fields:{[xT]:{stringValue:bT},[Ed]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return dy(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${lh(r)}`)}(t,e)}function PS(t,e){const n={};return mT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(t,(r,i)=>{const s=lu(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof vr||t instanceof An||t instanceof ht||t instanceof Eh||t instanceof _r)}function Ny(t,e,n){if(!NS(n)||!fT(n)){const r=lh(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function bm(t,e,n){if((e=Et(e))instanceof xh)return e._internalPath;if(typeof e=="string")return jy(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const fL=new RegExp("[~\\*/\\[\\]]");function jy(t,e,n){if(e.search(fL)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xh(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new he(ee.INVALID_ARGUMENT,a+t+l)}function jS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pL extends OS{data(){return super.data()}}function Oy(t,e){return typeof e=="string"?jy(t,e):e instanceof xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dy{}class gL extends Dy{}function yL(t,e,...n){let r=[];e instanceof Dy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Ly).length,a=s.filter(l=>l instanceof Sh).length;if(o>1||o>0&&a>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Sh extends gL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sh(e,n,r)}_apply(e){const n=this._parse(e);return DS(e._query,n),new ia(e.firestore,e.converter,hm(e._query,n))}_parse(e){const n=bh(e.firestore);return function(s,o,a,l,u,h,f){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){$w(f,h);const v=[];for(const g of f)v.push(Fw(l,s,g));p={arrayValue:{values:v}}}else p=Fw(l,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||$w(f,h),p=hL(a,o,f,h==="in"||h==="not-in");return mt.create(u,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vL(t,e,n){const r=e,i=Oy("where",t);return Sh._create(i,r,n)}class Ly extends Dy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ly(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)DS(o,l),o=hm(o,l)}(e._query,n),new ia(e.firestore,e.converter,hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fw(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PT(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!we.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nw(t,new we(r))}if(n instanceof ht)return nw(t,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(n)}.`)}function $w(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _L{convertValue(e,n="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ed].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ct(o.doubleValue));return new _r(s)}convertGeoPoint(e){return new vr(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const n=$i(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ue(ZT(r),9688,{name:e});const i=new Dl(r.get(1),r.get(3)),s=new we(r.popFirst(5));return i.isEqual(n)||Gr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _s extends OS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Oy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_s._jsonSchemaVersion="firestore/documentSnapshot/1.0",_s._jsonSchema={type:gt("string",_s._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Dc extends _s{data(e={}){return super.data(e)}}class Io{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dc(this._firestore,this._userDataWriter,r.key,r,new Ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Dc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Dc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:wL(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){t=tr(t,ht);const e=tr(t.firestore,Us);return nL(Ay(e),t._key).then(n=>TL(e,t,n))}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:gt("string",Io._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class MS extends _L{constructor(e){super(),this.firestore=e}convertBytes(e){return new An(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function kh(t){t=tr(t,ia);const e=tr(t.firestore,Us),n=Ay(e),r=new MS(e);return mL(t._query),rL(n,t._query).then(i=>new Io(e,r,t,i))}function xL(t,e,n){t=tr(t,ht);const r=tr(t.firestore,Us),i=LS(t.converter,e,n);return Ih(r,[RS(bh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,On.none())])}function Vy(t,e,n,...r){t=tr(t,ht);const i=tr(t.firestore,Us),s=bh(i);let o;return o=typeof(e=Et(e))=="string"||e instanceof xh?dL(s,"updateDoc",t._key,e,n,r):cL(s,"updateDoc",t._key,e),Ih(i,[o.toMutation(t._key,On.exists(!0))])}function EL(t){return Ih(tr(t.firestore,Us),[new hy(t._key,On.none())])}function bL(t,e){const n=tr(t.firestore,Us),r=Qr(t),i=LS(t.converter,e);return Ih(n,[RS(bh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,On.exists(!1))]).then(()=>r)}function Ih(t,e){return function(r,i){const s=new Fr;return r.asyncQueue.enqueueAndForget(async()=>H3(await tL(r),i,s)),s.promise}(Ay(t),e)}function TL(t,e,n){const r=n.docs.get(e._key),i=new MS(t);return new _s(t,i,e._key,r,new Ha(n.hasPendingWrites,n.fromCache),e.converter)}function SL(){return new Py("serverTimestamp")}(function(e,n=!0){(function(i){ea=i})(Xo),Mo(new Cs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Us(new fD(r.getProvider("auth-internal")),new gD(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ji(z_,B_,e),ji(z_,B_,"esm2017")})();const kL={apiKey:"AIzaSyBmpwf7GfAVKKxWKICvEEJMskw2L_45b5w",authDomain:"interview-prep-b2dd4.firebaseapp.com",projectId:"interview-prep-b2dd4",storageBucket:"interview-prep-b2dd4.firebasestorage.app",messagingSenderId:"870054159246",appId:"1:870054159246:web:5ac028055e9680b260fadf"},VS=_b(kL),Dn=aD(VS),vn=sL(VS),FS=typeof document<"u"?Pe.useLayoutEffect:()=>{};var Ff;const IL=(Ff=Pe.useInsertionEffect)!==null&&Ff!==void 0?Ff:FS;function CL(t){const e=T.useRef(null);return IL(()=>{e.current=t},[t]),T.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const Ji=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},ms=t=>t&&"window"in t&&t.window===t?t:Ji(t).defaultView||window;function AL(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function RL(t){return AL(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let PL=!1;function Fy(){return PL}function $S(t,e){if(!Fy())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:RL(n)?n=n.host:n=n.parentNode}return!1}const Tm=(t=document)=>{var e;if(!Fy())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function US(t){return Fy()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function zS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function BS(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zS(t))&&(r&&(r+=" "),r+=e);return r}function NL(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function jL(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function HS(t){let e=null;return()=>(e==null&&(e=t()),e)}const OL=HS(function(){return jL(/^Mac/i)}),DL=HS(function(){return NL(/Android/i)});function WS(){let t=T.useRef(new Map),e=T.useCallback((i,s,o,a)=>{let l=a!=null&&a.once?(...u)=>{t.current.delete(o),o(...u)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),n=T.useCallback((i,s,o,a)=>{var l;let u=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,u,a),t.current.delete(o)},[]),r=T.useCallback(()=>{t.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return T.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function LL(t){return t.pointerType===""&&t.isTrusted?!0:DL()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function qS(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function ML(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function GS(t){let e=T.useRef({isFocused:!1,observer:null});FS(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=CL(r=>{t==null||t(r)});return T.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{if(e.current.isFocused=!1,i.disabled){let a=qS(o);n(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let VL=!1,uu=null,Sm=new Set,ul=new Map,js=!1,km=!1;const FL={Tab:!0,Escape:!0};function $y(t,e){for(let n of Sm)n(t,e)}function $L(t){return!(t.metaKey||!OL()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Pd(t){js=!0,$L(t)&&(uu="keyboard",$y("keyboard",t))}function Co(t){uu="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(js=!0,$y("pointer",t))}function KS(t){LL(t)&&(js=!0,uu="virtual")}function QS(t){t.target===window||t.target===document||VL||!t.isTrusted||(!js&&!km&&(uu="virtual",$y("virtual",t)),js=!1,km=!1)}function YS(){js=!1,km=!0}function Im(t){if(typeof window>"u"||typeof document>"u"||ul.get(ms(t)))return;const e=ms(t),n=Ji(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){js=!0,r.apply(this,arguments)},n.addEventListener("keydown",Pd,!0),n.addEventListener("keyup",Pd,!0),n.addEventListener("click",KS,!0),e.addEventListener("focus",QS,!0),e.addEventListener("blur",YS,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Co,!0),n.addEventListener("pointermove",Co,!0),n.addEventListener("pointerup",Co,!0)),e.addEventListener("beforeunload",()=>{XS(t)},{once:!0}),ul.set(e,{focus:r})}const XS=(t,e)=>{const n=ms(t),r=Ji(t);e&&r.removeEventListener("DOMContentLoaded",e),ul.has(n)&&(n.HTMLElement.prototype.focus=ul.get(n).focus,r.removeEventListener("keydown",Pd,!0),r.removeEventListener("keyup",Pd,!0),r.removeEventListener("click",KS,!0),n.removeEventListener("focus",QS,!0),n.removeEventListener("blur",YS,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Co,!0),r.removeEventListener("pointermove",Co,!0),r.removeEventListener("pointerup",Co,!0)),ul.delete(n))};function UL(t){const e=Ji(t);let n;return e.readyState!=="loading"?Im(t):(n=()=>{Im(t)},e.addEventListener("DOMContentLoaded",n)),()=>XS(t,n)}typeof document<"u"&&UL();function JS(){return uu!=="pointer"}const zL=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function BL(t,e,n){let r=Ji(n==null?void 0:n.target);const i=typeof window<"u"?ms(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?ms(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?ms(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?ms(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!zL.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof a&&!FL[n.key])}function HL(t,e,n){Im(),T.useEffect(()=>{let r=(i,s)=>{BL(!!(n!=null&&n.isTextInput),i,s)&&t(JS())};return Sm.add(r),()=>{Sm.delete(r)}},e)}function WL(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=T.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=GS(s),a=T.useCallback(l=>{const u=Ji(l.target),h=u?Tm(u):Tm();l.target===l.currentTarget&&h===US(l.nativeEvent)&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}function qL(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=T.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=WS(),l=T.useCallback(f=>{f.currentTarget.contains(f.target)&&s.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(f),i&&i(!1))},[n,i,s,a]),u=GS(l),h=T.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const p=Ji(f.target),m=Tm(p);if(!s.current.isFocusWithin&&m===US(f.nativeEvent)){r&&r(f),i&&i(!0),s.current.isFocusWithin=!0,u(f);let v=f.currentTarget;o(p,"focus",g=>{if(s.current.isFocusWithin&&!$S(v,g.target)){let E=new p.defaultView.FocusEvent("blur",{relatedTarget:g.target});ML(E,v);let y=qS(E);l(y)}},{capture:!0})}},[r,i,u,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:l}}}let Cm=!1,nc=0;function GL(){Cm=!0,setTimeout(()=>{Cm=!1},50)}function Uw(t){t.pointerType==="touch"&&GL()}function KL(){if(!(typeof document>"u"))return nc===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Uw),nc++,()=>{nc--,!(nc>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Uw)}}function QL(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=T.useState(!1),a=T.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;T.useEffect(KL,[]);let{addGlobalListener:l,removeAllGlobalListeners:u}=WS(),{hoverProps:h,triggerHoverEnd:f}=T.useMemo(()=>{let p=(g,E)=>{if(a.pointerType=E,i||E==="touch"||a.isHovered||!g.currentTarget.contains(g.target))return;a.isHovered=!0;let y=g.currentTarget;a.target=y,l(Ji(g.target),"pointerover",_=>{a.isHovered&&a.target&&!$S(a.target,_.target)&&m(_,_.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:y,pointerType:E}),n&&n(!0),o(!0)},m=(g,E)=>{let y=a.target;a.pointerType="",a.target=null,!(E==="touch"||!a.isHovered||!y)&&(a.isHovered=!1,u(),r&&r({type:"hoverend",target:y,pointerType:E}),n&&n(!1),o(!1))},v={};return typeof PointerEvent<"u"&&(v.onPointerEnter=g=>{Cm&&g.pointerType==="mouse"||p(g,g.pointerType)},v.onPointerLeave=g=>{!i&&g.currentTarget.contains(g.target)&&m(g,g.pointerType)}),{hoverProps:v,triggerHoverEnd:m}},[e,n,r,i,a,l,u]);return T.useEffect(()=>{i&&f({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:h,isHovered:s}}function YL(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=T.useRef({isFocused:!1,isFocusVisible:e||JS()}),[s,o]=T.useState(!1),[a,l]=T.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=T.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),h=T.useCallback(m=>{i.current.isFocused=m,o(m),u()},[u]);HL(m=>{i.current.isFocusVisible=m,u()},[],{isTextInput:n});let{focusProps:f}=WL({isDisabled:r,onFocusChange:h}),{focusWithinProps:p}=qL({isDisabled:!r,onFocusWithinChange:h});return{isFocused:s,isFocusVisible:a,focusProps:r?p:f}}var XL=Object.defineProperty,JL=(t,e,n)=>e in t?XL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$f=(t,e,n)=>(JL(t,typeof e!="symbol"?e+"":e,n),n);let ZL=class{constructor(){$f(this,"current",this.detect()),$f(this,"handoffState","pending"),$f(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},wr=new ZL;function cu(t){var e,n;return wr.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function ZS(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function sr(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return ZS(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=sr();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function sa(){let[t]=T.useState(sr);return T.useEffect(()=>()=>t.dispose(),[t]),t}let Ze=(t,e)=>{wr.isServer?T.useEffect(t,e):T.useLayoutEffect(t,e)};function zs(t){let e=T.useRef(t);return Ze(()=>{e.current=t},[t]),e}let De=function(t){let e=zs(t);return Pe.useCallback((...n)=>e.current(...n),[e])};function e6(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function t6(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function n6({disabled:t=!1}={}){let e=T.useRef(null),[n,r]=T.useState(!1),i=sa(),s=De(()=>{e.current=null,r(!1),i.dispose()}),o=De(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=cu(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",u=>{if(e.current){let h=e6(u);r(t6(h,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let r6=T.createContext(void 0);function Uy(){return T.useContext(r6)}function Am(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Vn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Vn),r}var Nd=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Nd||{}),Ei=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ei||{});function Tn(){let t=s6();return T.useCallback(e=>i6({mergeRefs:t,...e}),[t])}function i6({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??o6;let l=ek(e,t);if(s)return rc(l,n,r,o,a);let u=i??0;if(u&2){let{static:h=!1,...f}=l;if(h)return rc(f,n,r,o,a)}if(u&1){let{unmount:h=!0,...f}=l;return Vn(h?0:1,{0(){return null},1(){return rc({...f,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return rc(l,n,r,o,a)}function rc(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Uf(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},h=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(e){let p=!1,m=[];for(let[v,g]of Object.entries(e))typeof g=="boolean"&&(p=!0),g===!0&&m.push(v.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(p){f["data-headlessui-state"]=m.join(" ");for(let v of m)f[`data-${v}`]=""}}if(s===T.Fragment&&(Object.keys(hi(l)).length>0||Object.keys(hi(f)).length>0))if(!T.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(hi(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(hi(l)).concat(Object.keys(hi(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=h.props,m=p==null?void 0:p.className,v=typeof m=="function"?(...y)=>Am(m(...y),l.className):Am(m,l.className),g=v?{className:v}:{},E=ek(h.props,hi(Uf(l,["ref"])));for(let y in f)y in E&&delete f[y];return T.cloneElement(h,Object.assign({},E,f,u,{ref:i(a6(h),u.ref)},g))}return T.createElement(s,Object.assign({},Uf(l,["ref"]),s!==T.Fragment&&u,s!==T.Fragment&&f),h)}function s6(){let t=T.useRef([]),e=T.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function o6(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function ek(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function tk(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function dn(t){var e;return Object.assign(T.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function hi(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Uf(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function a6(t){return Pe.version.split(".")[0]>="19"?t.props.ref:t.ref}function l6(t,e,n){let[r,i]=T.useState(n),s=t!==void 0,o=T.useRef(s),a=T.useRef(!1),l=T.useRef(!1);return s&&!o.current&&!a.current?(a.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&o.current&&!l.current&&(l.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:r,De(u=>(s||i(u),e==null?void 0:e(u)))]}function u6(t){let[e]=T.useState(t);return e}function nk(t={},e=null,n=[]){for(let[r,i]of Object.entries(t))ik(n,rk(e,r),i);return n}function rk(t,e){return t?t+"["+e+"]":e}function ik(t,e,n){if(Array.isArray(n))for(let[r,i]of n.entries())ik(t,rk(e,r.toString()),i);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):nk(n,e,t)}function c6(t){var e,n;let r=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(r){for(let i of r.elements)if(i!==t&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}let d6="span";var zy=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(zy||{});function h6(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Tn()({ourProps:s,theirProps:i,slot:{},defaultTag:d6,name:"Hidden"})}let sk=dn(h6),f6=T.createContext(null);function p6({children:t}){let e=T.useContext(f6);if(!e)return Pe.createElement(Pe.Fragment,null,t);let{target:n}=e;return n?jn.createPortal(Pe.createElement(Pe.Fragment,null,t),n):null}function m6({data:t,form:e,disabled:n,onReset:r,overrides:i}){let[s,o]=T.useState(null),a=sa();return T.useEffect(()=>{if(r&&s)return a.addEventListener(s,"reset",r)},[s,e,r]),Pe.createElement(p6,null,Pe.createElement(g6,{setForm:o,formId:e}),nk(t).map(([l,u])=>Pe.createElement(sk,{features:zy.Hidden,...hi({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:l,value:u,...i})})))}function g6({setForm:t,formId:e}){return T.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:Pe.createElement(sk,{features:zy.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&t(r)}})}let y6=T.createContext(void 0);function ok(){return T.useContext(y6)}function By(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Ch(t){return By(t)&&"tagName"in t}function ei(t){return Ch(t)&&"accessKey"in t}function mo(t){return Ch(t)&&"tabIndex"in t}function v6(t){return Ch(t)&&"style"in t}function _6(t){return ei(t)&&t.nodeName==="IFRAME"}function ak(t){return ei(t)&&t.nodeName==="INPUT"}function zw(t){return ei(t)&&t.nodeName==="LABEL"}function w6(t){return ei(t)&&t.nodeName==="FIELDSET"}function lk(t){return ei(t)&&t.nodeName==="LEGEND"}function x6(t){return Ch(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function E6(t){let e=t.parentElement,n=null;for(;e&&!w6(e);)lk(e)&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&b6(n)?!1:r}function b6(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(lk(e))return!1;e=e.previousElementSibling}return!0}let uk=Symbol();function T6(t,e=!0){return Object.assign(t,{[uk]:e})}function Un(...t){let e=T.useRef(t);T.useEffect(()=>{e.current=t},[t]);let n=De(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[uk]))?void 0:n}let Hy=T.createContext(null);Hy.displayName="DescriptionContext";function ck(){let t=T.useContext(Hy);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ck),e}return t}function S6(){var t,e;return(e=(t=T.useContext(Hy))==null?void 0:t.value)!=null?e:void 0}let k6="p";function I6(t,e){let n=T.useId(),r=Uy(),{id:i=`headlessui-description-${n}`,...s}=t,o=ck(),a=Un(e);Ze(()=>o.register(i),[i,o.register]);let l=r||!1,u=T.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),h={ref:a,...o.props,id:i};return Tn()({ourProps:h,theirProps:s,slot:u,defaultTag:k6,name:o.name||"Description"})}let C6=dn(I6);Object.assign(C6,{});var bt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(bt||{});let Ah=T.createContext(null);Ah.displayName="LabelContext";function dk(){let t=T.useContext(Ah);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,dk),e}return t}function hk(t){var e,n,r;let i=(n=(e=T.useContext(Ah))==null?void 0:e.value)!=null?n:void 0;return((r=t==null?void 0:t.length)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function A6({inherit:t=!1}={}){let e=hk(),[n,r]=T.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,T.useMemo(()=>function(s){let o=De(l=>(r(u=>[...u,l]),()=>r(u=>{let h=u.slice(),f=h.indexOf(l);return f!==-1&&h.splice(f,1),h}))),a=T.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Pe.createElement(Ah.Provider,{value:a},s.children)},[r])]}let R6="label";function P6(t,e){var n;let r=T.useId(),i=dk(),s=ok(),o=Uy(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((n=i.props)==null?void 0:n.htmlFor),passive:u=!1,...h}=t,f=Un(e);Ze(()=>i.register(a),[a,i.register]);let p=De(E=>{let y=E.currentTarget;if(!(E.target!==E.currentTarget&&x6(E.target))&&(zw(y)&&E.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(E),zw(y))){let _=document.getElementById(y.htmlFor);if(_){let x=_.getAttribute("disabled");if(x==="true"||x==="")return;let N=_.getAttribute("aria-disabled");if(N==="true"||N==="")return;(ak(_)&&(_.type==="file"||_.type==="radio"||_.type==="checkbox")||_.role==="radio"||_.role==="checkbox"||_.role==="switch")&&_.click(),_.focus({preventScroll:!0})}}}),m=o||!1,v=T.useMemo(()=>({...i.slot,disabled:m}),[i.slot,m]),g={ref:f,...i.props,id:a,htmlFor:l,onClick:p};return u&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in h&&delete h.onClick),Tn()({ourProps:g,theirProps:h,slot:v,defaultTag:l?R6:"div",name:i.name||"Label"})}let N6=dn(P6),j6=Object.assign(N6,{});function O6(t,e){return t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"&&"id"in t&&"id"in e?t.id===e.id:t===e}function D6(t=O6){return T.useCallback((e,n)=>{if(typeof t=="string"){let r=t;return(e==null?void 0:e[r])===(n==null?void 0:n[r])}return t(e,n)},[t])}function L6(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function M6(t,e=!1){let[n,r]=T.useReducer(()=>({}),{}),i=T.useMemo(()=>L6(t),[t,n]);return Ze(()=>{if(!t)return;let s=new ResizeObserver(r);return s.observe(t),()=>{s.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let fk=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var V6=Object.defineProperty,F6=(t,e,n)=>e in t?V6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$6=(t,e,n)=>(F6(t,typeof e!="symbol"?e+"":e,n),n),pk=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Sn=(t,e,n)=>(pk(t,e,"read from private field"),n?n.call(t):e.get(t)),zf=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Bw=(t,e,n,r)=>(pk(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ar,Wa,qa;let mk=class{constructor(e){zf(this,ar,{}),zf(this,Wa,new fk(()=>new Set)),zf(this,qa,new Set),$6(this,"disposables",sr()),Bw(this,ar,e),wr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Sn(this,ar)}subscribe(e,n){if(wr.isServer)return()=>{};let r={selector:e,callback:n,current:e(Sn(this,ar))};return Sn(this,qa).add(r),this.disposables.add(()=>{Sn(this,qa).delete(r)})}on(e,n){return wr.isServer?()=>{}:(Sn(this,Wa).get(e).add(n),this.disposables.add(()=>{Sn(this,Wa).get(e).delete(n)}))}send(e){let n=this.reduce(Sn(this,ar),e);if(n!==Sn(this,ar)){Bw(this,ar,n);for(let r of Sn(this,qa)){let i=r.selector(Sn(this,ar));gk(r.current,i)||(r.current=i,r.callback(i))}for(let r of Sn(this,Wa).get(e.type))r(Sn(this,ar),e)}}};ar=new WeakMap,Wa=new WeakMap,qa=new WeakMap;function gk(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:Bf(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:Bf(t.entries(),e.entries()):Hw(t)&&Hw(e)?Bf(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Bf(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Hw(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function Hf(t){let[e,n]=t(),r=sr();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var U6=Object.defineProperty,z6=(t,e,n)=>e in t?U6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ww=(t,e,n)=>(z6(t,typeof e!="symbol"?e+"":e,n),n),yk=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(yk||{});let B6={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},H6=class vk extends mk{constructor(){super(...arguments),Ww(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),Ww(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new vk({stack:[]})}reduce(e,n){return Vn(n.type,B6,e,n)}};const Wy=new fk(()=>H6.new());var _k={exports:{}},wk={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=T;function W6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var q6=typeof Object.is=="function"?Object.is:W6,G6=du.useSyncExternalStore,K6=du.useRef,Q6=du.useEffect,Y6=du.useMemo,X6=du.useDebugValue;wk.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=K6(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Y6(function(){function l(m){if(!u){if(u=!0,h=m,m=r(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return f=v}return f=m}if(v=f,q6(h,m))return v;var g=r(m);return i!==void 0&&i(v,g)?(h=m,v):(h=m,f=g)}var u=!1,h,f,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var a=G6(t,s[0],s[1]);return Q6(function(){o.hasValue=!0,o.value=a},[a]),X6(a),a};_k.exports=wk;var J6=_k.exports;function Pn(t,e,n=gk){return J6.useSyncExternalStoreWithSelector(De(r=>t.subscribe(Z6,r)),De(()=>t.state),De(()=>t.state),De(e),n)}function Z6(t){return t}function xk(t,e){let n=T.useId(),r=Wy.get(e),[i,s]=Pn(r,T.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Ze(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let Rm=new Map,cl=new Map;function qw(t){var e;let n=(e=cl.get(t))!=null?e:0;return cl.set(t,n+1),n!==0?()=>Gw(t):(Rm.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Gw(t))}function Gw(t){var e;let n=(e=cl.get(t))!=null?e:1;if(n===1?cl.delete(t):cl.set(t,n-1),n!==1)return;let r=Rm.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Rm.delete(t))}function e5(t,{allowed:e,disallowed:n}={}){let r=xk(t,"inert-others");Ze(()=>{var i,s;if(!r)return;let o=sr();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(qw(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=cu(l);if(!u)continue;let h=l.parentElement;for(;h&&h!==u.body;){for(let f of h.children)a.some(p=>f.contains(p))||o.add(qw(f));h=h.parentElement}}return o.dispose},[r,e,n])}function t5(t,e,n){let r=zs(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});T.useEffect(()=>{if(!t)return;let i=e===null?null:ei(e)?e:e.current;if(!i)return;let s=sr();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let Pm=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),n5=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Nm=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Nm||{}),r5=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(r5||{}),i5=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(i5||{});function Ek(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Pm)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function s5(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(n5)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var qy=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(qy||{});function bk(t,e=0){var n;return t===((n=cu(t))==null?void 0:n.body)?!1:Vn(e,{0(){return t.matches(Pm)},1(){let r=t;for(;r!==null;){if(r.matches(Pm))return!0;r=r.parentElement}return!1}})}var o5=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(o5||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let a5=["textarea","input"].join(",");function l5(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,a5))!=null?n:!1}function Tk(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function u5(t,e){return c5(Ek(),e,{relativeTo:t})}function c5(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?Tk(t):t:e&64?s5(t):Ek(t);i.length>0&&o.length>1&&(o=o.filter(m=>!i.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===m:v===m))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},h=0,f=o.length,p;do{if(h>=f||h+f<=0)return 0;let m=l+h;if(e&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}p=o[m],p==null||p.focus(u),h+=a}while(p!==s.activeElement);return e&6&&l5(p)&&p.select(),2}function Sk(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function d5(){return/Android/gi.test(window.navigator.userAgent)}function Kw(){return Sk()||d5()}function go(t,e,n,r){let i=zs(n);T.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function h5(t,e,n,r){let i=zs(n);T.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const Qw=30;function f5(t,e,n){let r=zs(n),i=T.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let h=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let f of h)if(f!==null&&(f.contains(u)||a.composed&&a.composedPath().includes(f)))return;return!bk(u,qy.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,e]),s=T.useRef(null);go(t,"pointerdown",a=>{var l,u;Kw()||(s.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),go(t,"pointerup",a=>{if(Kw()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=T.useRef({x:0,y:0});go(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),go(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=Qw||Math.abs(l.y-o.current.y)>=Qw))return i(a,()=>mo(a.target)?a.target:null)},!0),h5(t,"blur",a=>i(a,()=>_6(window.document.activeElement)?window.document.activeElement:null),!0)}function jm(...t){return T.useMemo(()=>cu(...t),[...t])}var p5=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(p5||{});const ic={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},m5=200,Yw=5;function g5(t,{trigger:e,action:n,close:r,select:i}){let s=T.useRef(null),o=T.useRef(null),a=T.useRef(null);go(t&&e!==null,"pointerdown",l=>{By(l==null?void 0:l.target)&&e!=null&&e.contains(l.target)&&(o.current=l.x,a.current=l.y,s.current=l.timeStamp)}),go(t&&e!==null,"pointerup",l=>{var u,h;let f=s.current;if(f===null||(s.current=null,!mo(l.target))||Math.abs(l.x-((u=o.current)!=null?u:l.x))<Yw&&Math.abs(l.y-((h=a.current)!=null?h:l.y))<Yw)return;let p=n(l);switch(p.kind){case 0:return;case 1:{l.timeStamp-f>m5&&(i(p.target),r());break}case 2:{r();break}}},{capture:!0})}function y5(t,e){return T.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function v5(t){return T.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function _5(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function w5(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function x5(){return Sk()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=sr();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(mo(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),h=t.querySelector(u);mo(h)&&!r(h)&&(o=h)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(mo(a.target)&&v6(a.target))if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(mo(a.target)){if(ak(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function E5(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function b5(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let gs=_5(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:sr(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:b5(n)},i=[x5(),w5(),E5()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});gs.subscribe(()=>{let t=gs.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&gs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&gs.dispatch("TEARDOWN",n)}});function T5(t,e,n=()=>({containers:[]})){let r=v5(gs),i=e?r.get(e):void 0,s=i?i.count>0:!1;return Ze(()=>{if(!(!e||!t))return gs.dispatch("PUSH",e,n),()=>gs.dispatch("POP",e,n)},[t,e]),s}function S5(t,e,n=()=>[document.body]){let r=xk(t,"scroll-lock");T5(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function Xw(t){return[t.screenX,t.screenY]}function k5(){let t=T.useRef([-1,-1]);return{wasMoved(e){let n=Xw(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=Xw(e)}}}function I5(t=0){let[e,n]=T.useState(t),r=T.useCallback(l=>n(l),[e]),i=T.useCallback(l=>n(u=>u|l),[e]),s=T.useCallback(l=>(e&l)===l,[e]),o=T.useCallback(l=>n(u=>u&~l),[n]),a=T.useCallback(l=>n(u=>u^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var Jw,Zw;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Jw=process==null?void 0:process.env)==null?void 0:Jw.NODE_ENV)==="test"&&typeof((Zw=Element==null?void 0:Element.prototype)==null?void 0:Zw.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var C5=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(C5||{});function kk(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Ik(t,e,n,r){let[i,s]=T.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=I5(t&&i?3:0),u=T.useRef(!1),h=T.useRef(!1),f=sa();return Ze(()=>{var p;if(t){if(n&&s(!0),!e){n&&a(3);return}return(p=r==null?void 0:r.start)==null||p.call(r,n),A5(e,{inFlight:u,prepare(){h.current?h.current=!1:h.current=u.current,u.current=!0,!h.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){h.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var m;h.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),n||s(!1),(m=r==null?void 0:r.end)==null||m.call(r,n))}})}},[t,n,e,f]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function A5(t,{prepare:e,run:n,done:r,inFlight:i}){let s=sr();return P5(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(R5(t,r))})}),s.dispose}function R5(t,e){var n,r;let i=sr();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function P5(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Rh(){return typeof window<"u"}function oa(t){return Ck(t)?(t.nodeName||"").toLowerCase():"#document"}function wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Tr(t){var e;return(e=(Ck(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ck(t){return Rh()?t instanceof Node||t instanceof wn(t).Node:!1}function Jt(t){return Rh()?t instanceof Element||t instanceof wn(t).Element:!1}function br(t){return Rh()?t instanceof HTMLElement||t instanceof wn(t).HTMLElement:!1}function e1(t){return!Rh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wn(t).ShadowRoot}const N5=new Set(["inline","contents"]);function hu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!N5.has(i)}const j5=new Set(["table","td","th"]);function O5(t){return j5.has(oa(t))}const D5=[":popover-open",":modal"];function Ph(t){return D5.some(e=>{try{return t.matches(e)}catch{return!1}})}const L5=["transform","translate","scale","rotate","perspective"],M5=["transform","translate","scale","rotate","perspective","filter"],V5=["paint","layout","strict","content"];function Gy(t){const e=Ky(),n=Jt(t)?rr(t):t;return L5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||M5.some(r=>(n.willChange||"").includes(r))||V5.some(r=>(n.contain||"").includes(r))}function F5(t){let e=Wi(t);for(;br(e)&&!Bo(e);){if(Gy(e))return e;if(Ph(e))return null;e=Wi(e)}return null}function Ky(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $5=new Set(["html","body","#document"]);function Bo(t){return $5.has(oa(t))}function rr(t){return wn(t).getComputedStyle(t)}function Nh(t){return Jt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wi(t){if(oa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||e1(t)&&t.host||Tr(t);return e1(e)?e.host:e}function Ak(t){const e=Wi(t);return Bo(e)?t.ownerDocument?t.ownerDocument.body:t.body:br(e)&&hu(e)?e:Ak(e)}function Ul(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ak(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=wn(i);if(s){const a=Om(o);return e.concat(o,o.visualViewport||[],hu(i)?i:[],a&&n?Ul(a):[])}return e.concat(i,Ul(i,[],n))}function Om(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function U5(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const Os=Math.min,Wt=Math.max,zl=Math.round,sc=Math.floor,xr=t=>({x:t,y:t}),z5={left:"right",right:"left",bottom:"top",top:"bottom"},B5={start:"end",end:"start"};function t1(t,e,n){return Wt(t,Os(e,n))}function aa(t,e){return typeof t=="function"?t(e):t}function qi(t){return t.split("-")[0]}function fu(t){return t.split("-")[1]}function Rk(t){return t==="x"?"y":"x"}function Pk(t){return t==="y"?"height":"width"}const H5=new Set(["top","bottom"]);function Dr(t){return H5.has(qi(t))?"y":"x"}function Nk(t){return Rk(Dr(t))}function W5(t,e,n){n===void 0&&(n=!1);const r=fu(t),i=Nk(t),s=Pk(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=jd(o)),[o,jd(o)]}function q5(t){const e=jd(t);return[Dm(t),e,Dm(e)]}function Dm(t){return t.replace(/start|end/g,e=>B5[e])}const n1=["left","right"],r1=["right","left"],G5=["top","bottom"],K5=["bottom","top"];function Q5(t,e,n){switch(t){case"top":case"bottom":return n?e?r1:n1:e?n1:r1;case"left":case"right":return e?G5:K5;default:return[]}}function Y5(t,e,n,r){const i=fu(t);let s=Q5(qi(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Dm)))),s}function jd(t){return t.replace(/left|right|bottom|top/g,e=>z5[e])}function X5(t){return{top:0,right:0,bottom:0,left:0,...t}}function J5(t){return typeof t!="number"?X5(t):{top:t,right:t,bottom:t,left:t}}function Od(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function i1(t,e,n){let{reference:r,floating:i}=t;const s=Dr(e),o=Nk(e),a=Pk(o),l=qi(e),u=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:h,y:r.y-i.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(fu(e)){case"start":m[o]-=p*(n&&u?-1:1);break;case"end":m[o]+=p*(n&&u?-1:1);break}return m}const Z5=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=i1(u,r,l),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:E,fn:y}=a[g],{x:_,y:x,data:N,reset:O}=await y({x:h,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});h=_??h,f=x??f,m={...m,[E]:{...m[E],...N}},O&&v<=50&&(v++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:h,y:f}=i1(u,p,l)),g=-1)}return{x:h,y:f,placement:p,strategy:i,middlewareData:m}};async function jh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=aa(e,t),v=J5(m),E=a[p?f==="floating"?"reference":"floating":f],y=Od(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),_=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},O=Od(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:x,strategy:l}):_);return{top:(y.top-O.top+v.top)/N.y,bottom:(O.bottom-y.bottom+v.bottom)/N.y,left:(y.left-O.left+v.left)/N.x,right:(O.right-y.right+v.right)/N.x}}const eM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...E}=aa(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=qi(i),_=Dr(a),x=qi(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=p||(x||!g?[jd(a)]:q5(a)),V=v!=="none";!p&&V&&O.push(...Y5(a,g,v,N));const S=[a,...O],b=await jh(e,E),k=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&k.push(b[y]),f){const R=W5(i,o,N);k.push(b[R[0]],b[R[1]])}if(P=[...P,{placement:i,overflows:k}],!k.every(R=>R<=0)){var L,A;const R=(((L=s.flip)==null?void 0:L.index)||0)+1,G=S[R];if(G&&(!(f==="alignment"?_!==Dr(G):!1)||P.every($=>Dr($.placement)===_?$.overflows[0]>0:!0)))return{data:{index:R,overflows:P},reset:{placement:G}};let le=(A=P.filter(Y=>Y.overflows[0]<=0).sort((Y,$)=>Y.overflows[1]-$.overflows[1])[0])==null?void 0:A.placement;if(!le)switch(m){case"bestFit":{var j;const Y=(j=P.filter($=>{if(V){const B=Dr($.placement);return B===_||B==="y"}return!0}).map($=>[$.placement,$.overflows.filter(B=>B>0).reduce((B,K)=>B+K,0)]).sort(($,B)=>$[1]-B[1])[0])==null?void 0:j[0];Y&&(le=Y);break}case"initialPlacement":le=a;break}if(i!==le)return{reset:{placement:le}}}return{}}}},tM=new Set(["left","top"]);async function nM(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=qi(n),a=fu(n),l=Dr(n)==="y",u=tM.has(o)?-1:1,h=s&&l?-1:1,f=aa(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*h,y:p*u}:{x:p*u,y:m*h}}const rM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await nM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},iM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:y,y:_}=E;return{x:y,y:_}}},...l}=aa(t,e),u={x:n,y:r},h=await jh(e,l),f=Dr(qi(i)),p=Rk(f);let m=u[p],v=u[f];if(s){const E=p==="y"?"top":"left",y=p==="y"?"bottom":"right",_=m+h[E],x=m-h[y];m=t1(_,m,x)}if(o){const E=f==="y"?"top":"left",y=f==="y"?"bottom":"right",_=v+h[E],x=v-h[y];v=t1(_,v,x)}const g=a.fn({...e,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:s,[f]:o}}}}}},sM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=aa(t,e),h=await jh(e,u),f=qi(i),p=fu(i),m=Dr(i)==="y",{width:v,height:g}=s.floating;let E,y;f==="top"||f==="bottom"?(E=f,y=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,E=p==="end"?"top":"bottom");const _=g-h.top-h.bottom,x=v-h.left-h.right,N=Os(g-h[E],_),O=Os(v-h[y],x),V=!e.middlewareData.shift;let S=N,b=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=_),V&&!p){const P=Wt(h.left,0),L=Wt(h.right,0),A=Wt(h.top,0),j=Wt(h.bottom,0);m?b=v-2*(P!==0||L!==0?P+L:Wt(h.left,h.right)):S=g-2*(A!==0||j!==0?A+j:Wt(h.top,h.bottom))}await l({...e,availableWidth:b,availableHeight:S});const k=await o.getDimensions(a.floating);return v!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function jk(t){const e=rr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=br(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=zl(n)!==s||zl(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Qy(t){return Jt(t)?t:t.contextElement}function Ao(t){const e=Qy(t);if(!br(e))return xr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=jk(e);let o=(s?zl(n.width):n.width)/r,a=(s?zl(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const oM=xr(0);function Ok(t){const e=wn(t);return!Ky()||!e.visualViewport?oM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wn(t)?!1:e}function Ds(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Qy(t);let o=xr(1);e&&(r?Jt(r)&&(o=Ao(r)):o=Ao(t));const a=aM(s,n,r)?Ok(s):xr(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const p=wn(s),m=r&&Jt(r)?wn(r):r;let v=p,g=Om(v);for(;g&&r&&m!==v;){const E=Ao(g),y=g.getBoundingClientRect(),_=rr(g),x=y.left+(g.clientLeft+parseFloat(_.paddingLeft))*E.x,N=y.top+(g.clientTop+parseFloat(_.paddingTop))*E.y;l*=E.x,u*=E.y,h*=E.x,f*=E.y,l+=x,u+=N,v=wn(g),g=Om(v)}}return Od({width:h,height:f,x:l,y:u})}function Oh(t,e){const n=Nh(t).scrollLeft;return e?e.left+n:Ds(Tr(t)).left+n}function Dk(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Oh(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function lM(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Tr(r),a=e?Ph(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=xr(1);const h=xr(0),f=br(r);if((f||!f&&!s)&&((oa(r)!=="body"||hu(o))&&(l=Nh(r)),br(r))){const m=Ds(r);u=Ao(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const p=o&&!f&&!s?Dk(o,l):xr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x+p.x,y:n.y*u.y-l.scrollTop*u.y+h.y+p.y}}function uM(t){return Array.from(t.getClientRects())}function cM(t){const e=Tr(t),n=Nh(t),r=t.ownerDocument.body,i=Wt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Wt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Oh(t);const a=-n.scrollTop;return rr(r).direction==="rtl"&&(o+=Wt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const s1=25;function dM(t,e){const n=wn(t),r=Tr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const h=Ky();(!h||h&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=Oh(r);if(u<=0){const h=r.ownerDocument,f=h.body,p=getComputedStyle(f),m=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-f.clientWidth-m);v<=s1&&(s-=v)}else u<=s1&&(s+=u);return{width:s,height:o,x:a,y:l}}const hM=new Set(["absolute","fixed"]);function fM(t,e){const n=Ds(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=br(t)?Ao(t):xr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function o1(t,e,n){let r;if(e==="viewport")r=dM(t,n);else if(e==="document")r=cM(Tr(t));else if(Jt(e))r=fM(e,n);else{const i=Ok(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Od(r)}function Lk(t,e){const n=Wi(t);return n===e||!Jt(n)||Bo(n)?!1:rr(n).position==="fixed"||Lk(n,e)}function pM(t,e){const n=e.get(t);if(n)return n;let r=Ul(t,[],!1).filter(a=>Jt(a)&&oa(a)!=="body"),i=null;const s=rr(t).position==="fixed";let o=s?Wi(t):t;for(;Jt(o)&&!Bo(o);){const a=rr(o),l=Gy(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&hM.has(i.position)||hu(o)&&!l&&Lk(t,o))?r=r.filter(h=>h!==o):i=a,o=Wi(o)}return e.set(t,r),r}function mM(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Ph(e)?[]:pM(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,h)=>{const f=o1(e,h,i);return u.top=Wt(f.top,u.top),u.right=Os(f.right,u.right),u.bottom=Os(f.bottom,u.bottom),u.left=Wt(f.left,u.left),u},o1(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gM(t){const{width:e,height:n}=jk(t);return{width:e,height:n}}function yM(t,e,n){const r=br(e),i=Tr(e),s=n==="fixed",o=Ds(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=xr(0);function u(){l.x=Oh(i)}if(r||!r&&!s)if((oa(e)!=="body"||hu(i))&&(a=Nh(e)),r){const m=Ds(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&u();s&&!r&&i&&u();const h=i&&!r&&!s?Dk(i,a):xr(0),f=o.left+a.scrollLeft-l.x-h.x,p=o.top+a.scrollTop-l.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function Wf(t){return rr(t).position==="static"}function a1(t,e){if(!br(t)||rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Tr(t)===n&&(n=n.ownerDocument.body),n}function Mk(t,e){const n=wn(t);if(Ph(t))return n;if(!br(t)){let i=Wi(t);for(;i&&!Bo(i);){if(Jt(i)&&!Wf(i))return i;i=Wi(i)}return n}let r=a1(t,e);for(;r&&O5(r)&&Wf(r);)r=a1(r,e);return r&&Bo(r)&&Wf(r)&&!Gy(r)?n:r||F5(t)||n}const vM=async function(t){const e=this.getOffsetParent||Mk,n=this.getDimensions,r=await n(t.floating);return{reference:yM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _M(t){return rr(t).direction==="rtl"}const wM={convertOffsetParentRelativeRectToViewportRelativeRect:lM,getDocumentElement:Tr,getClippingRect:mM,getOffsetParent:Mk,getElementRects:vM,getClientRects:uM,getDimensions:gM,getScale:Ao,isElement:Jt,isRTL:_M};function Vk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function xM(t,e){let n=null,r;const i=Tr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:h,top:f,width:p,height:m}=u;if(a||e(),!p||!m)return;const v=sc(f),g=sc(i.clientWidth-(h+p)),E=sc(i.clientHeight-(f+m)),y=sc(h),x={rootMargin:-v+"px "+-g+"px "+-E+"px "+-y+"px",threshold:Wt(0,Os(1,l))||1};let N=!0;function O(V){const S=V[0].intersectionRatio;if(S!==l){if(!N)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Vk(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(O,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(t)}return o(!0),s}function EM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Qy(t),h=i||s?[...u?Ul(u):[],...Ul(e)]:[];h.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=u&&a?xM(u,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(y=>{let[_]=y;_&&_.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let v,g=l?Ds(t):null;l&&E();function E(){const y=Ds(t);g&&!Vk(g,y)&&n(),g=y,v=requestAnimationFrame(E)}return n(),()=>{var y;h.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const qf=jh,bM=rM,TM=iM,SM=eM,kM=sM,IM=(t,e,n)=>{const r=new Map,i={platform:wM,...n},s={...i.platform,_c:r};return Z5(t,e,{...i,platform:s})};var CM=typeof document<"u",AM=function(){},Lc=CM?T.useLayoutEffect:AM;function Dd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Dd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Fk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function l1(t,e){const n=Fk(t);return Math.round(e*n)/n}function Gf(t){const e=T.useRef(t);return Lc(()=>{e.current=t}),e}function RM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,f]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=T.useState(r);Dd(p,r)||m(r);const[v,g]=T.useState(null),[E,y]=T.useState(null),_=T.useCallback($=>{$!==V.current&&(V.current=$,g($))},[]),x=T.useCallback($=>{$!==S.current&&(S.current=$,y($))},[]),N=s||v,O=o||E,V=T.useRef(null),S=T.useRef(null),b=T.useRef(h),k=l!=null,P=Gf(l),L=Gf(i),A=Gf(u),j=T.useCallback(()=>{if(!V.current||!S.current)return;const $={placement:e,strategy:n,middleware:p};L.current&&($.platform=L.current),IM(V.current,S.current,$).then(B=>{const K={...B,isPositioned:A.current!==!1};R.current&&!Dd(b.current,K)&&(b.current=K,jn.flushSync(()=>{f(K)}))})},[p,e,n,L,A]);Lc(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const R=T.useRef(!1);Lc(()=>(R.current=!0,()=>{R.current=!1}),[]),Lc(()=>{if(N&&(V.current=N),O&&(S.current=O),N&&O){if(P.current)return P.current(N,O,j);j()}},[N,O,j,P,k]);const G=T.useMemo(()=>({reference:V,floating:S,setReference:_,setFloating:x}),[_,x]),le=T.useMemo(()=>({reference:N,floating:O}),[N,O]),Y=T.useMemo(()=>{const $={position:n,left:0,top:0};if(!le.floating)return $;const B=l1(le.floating,h.x),K=l1(le.floating,h.y);return a?{...$,transform:"translate("+B+"px, "+K+"px)",...Fk(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:K}},[n,a,le.floating,h.x,h.y]);return T.useMemo(()=>({...h,update:j,refs:G,elements:le,floatingStyles:Y}),[h,j,G,le,Y])}const $k=(t,e)=>({...bM(t),options:[t,e]}),PM=(t,e)=>({...TM(t),options:[t,e]}),NM=(t,e)=>({...SM(t),options:[t,e]}),jM=(t,e)=>({...kM(t),options:[t,e]}),Uk={...tp},OM=Uk.useInsertionEffect,DM=OM||(t=>t());function zk(t){const e=T.useRef(()=>{});return DM(()=>{e.current=t}),T.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Lm=typeof document<"u"?T.useLayoutEffect:T.useEffect;let u1=!1,LM=0;const c1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+LM++;function MM(){const[t,e]=T.useState(()=>u1?c1():void 0);return Lm(()=>{t==null&&e(c1())},[]),T.useEffect(()=>{u1=!0},[]),t}const VM=Uk.useId,FM=VM||MM;function $M(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const UM=T.createContext(null),zM=T.createContext(null),BM=()=>{var t;return((t=T.useContext(UM))==null?void 0:t.id)||null},HM=()=>T.useContext(zM),WM="data-floating-ui-focusable";function qM(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=FM(),s=T.useRef({}),[o]=T.useState(()=>$M()),a=BM()!=null,[l,u]=T.useState(r.reference),h=zk((m,v,g)=>{s.current.openEvent=m?v:void 0,o.emit("openchange",{open:m,event:v,reason:g,nested:a}),n==null||n(m,v,g)}),f=T.useMemo(()=>({setPositionReference:u}),[]),p=T.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return T.useMemo(()=>({dataRef:s,open:e,onOpenChange:h,elements:p,events:o,floatingId:i,refs:f}),[e,h,p,o,i,f])}function GM(t){t===void 0&&(t={});const{nodeId:e}=t,n=qM({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=T.useState(null),[a,l]=T.useState(null),h=(i==null?void 0:i.domReference)||s,f=T.useRef(null),p=HM();Lm(()=>{h&&(f.current=h)},[h]);const m=RM({...t,elements:{...i,...a&&{reference:a}}}),v=T.useCallback(x=>{const N=Jt(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(N),m.refs.setReference(N)},[m.refs]),g=T.useCallback(x=>{(Jt(x)||x===null)&&(f.current=x,o(x)),(Jt(m.refs.reference.current)||m.refs.reference.current===null||x!==null&&!Jt(x))&&m.refs.setReference(x)},[m.refs]),E=T.useMemo(()=>({...m.refs,setReference:g,setPositionReference:v,domReference:f}),[m.refs,g,v]),y=T.useMemo(()=>({...m.elements,domReference:h}),[m.elements,h]),_=T.useMemo(()=>({...m,...r,refs:E,elements:y,nodeId:e}),[m,E,y,e,r]);return Lm(()=>{r.dataRef.current.floatingContext=_;const x=p==null?void 0:p.nodesRef.current.find(N=>N.id===e);x&&(x.context=_)}),T.useMemo(()=>({...m,context:_,refs:E,elements:y}),[m,E,y,_])}const d1="active",h1="selected";function Kf(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[d1]:o,[h1]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[WM]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,h]=l;if(!(i&&[d1,h1].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof h=="function"){var f;(f=r.get(u))==null||f.push(h),o[u]=function(){for(var p,m=arguments.length,v=new Array(m),g=0;g<m;g++)v[g]=arguments[g];return(p=r.get(u))==null?void 0:p.map(E=>E(...v)).find(E=>E!==void 0)}}}else o[u]=h}),o),{})}}function KM(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=T.useCallback(a=>Kf(a,t,"reference"),e),s=T.useCallback(a=>Kf(a,t,"floating"),n),o=T.useCallback(a=>Kf(a,t,"item"),r);return T.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function f1(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const QM=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...h}=aa(t,e),{rects:f,elements:{floating:p}}=e,m=n.current[o],v=(u==null?void 0:u.current)||p,g=p.clientTop||v.clientTop,E=p.clientTop!==0,y=v.clientTop!==0,_=p===v;if(!m)return{};const x={...e,...await $k(-m.offsetTop-p.clientTop-f.reference.height/2-m.offsetHeight/2-s).fn(e)},N=await qf(f1(x,v.scrollHeight+g+p.clientTop),h),O=await qf(x,{...h,elementContext:"reference"}),V=Wt(0,N.top),S=x.y+V,P=(v.scrollHeight>v.clientHeight?L=>L:zl)(Wt(0,v.scrollHeight+(E&&_||y?g*2:0)-V-Wt(0,N.bottom)));if(v.style.maxHeight=P+"px",v.scrollTop=V,i){const L=v.offsetHeight<m.offsetHeight*Os(a,n.current.length)-1||O.top>=-l||O.bottom>=-l;jn.flushSync(()=>i(L))}return r&&(r.current=await qf(f1({...x,y:S},v.offsetHeight+g+p.clientTop),h)),{y:S}}});function YM(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=zk(a),u=T.useRef(!1),h=T.useRef(null),f=T.useRef(null);T.useEffect(()=>{if(!i)return;function m(g){if(g.ctrlKey||!v||s.current==null)return;const E=g.deltaY,y=s.current.top>=-.5,_=s.current.bottom>=-.5,x=v.scrollHeight-v.clientHeight,N=E<0?-1:1,O=E<0?"max":"min";v.scrollHeight<=v.clientHeight||(!y&&E>0||!_&&E<0?(g.preventDefault(),jn.flushSync(()=>{l(V=>V+Math[O](E,x*N))})):/firefox/i.test(U5())&&(v.scrollTop+=E))}const v=(o==null?void 0:o.current)||r.floating;if(n&&v)return v.addEventListener("wheel",m),requestAnimationFrame(()=>{h.current=v.scrollTop,s.current!=null&&(f.current={...s.current})}),()=>{h.current=null,f.current=null,v.removeEventListener("wheel",m)}},[i,n,r.floating,s,o,l]);const p=T.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const m=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!m||!u.current)){if(h.current!==null){const v=m.scrollTop-h.current;(s.current.bottom<-.5&&v<-1||s.current.top<-.5&&v>1)&&jn.flushSync(()=>l(g=>g+v))}requestAnimationFrame(()=>{h.current=m.scrollTop})}}}),[r.floating,l,s,o]);return T.useMemo(()=>i?{floating:p}:{},[i,p])}let la=T.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});la.displayName="FloatingContext";let Yy=T.createContext(null);Yy.displayName="PlacementContext";function XM(t){return T.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function JM(){return T.useContext(la).setReference}function ZM(){return T.useContext(la).getReferenceProps}function eV(){let{getFloatingProps:t,slot:e}=T.useContext(la);return T.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function tV(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=T.useContext(Yy),n=T.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);Ze(()=>{e==null||e(n??null)},[e,n]);let r=T.useContext(la);return T.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let p1=4;function nV({children:t,enabled:e=!0}){let[n,r]=T.useState(null),[i,s]=T.useState(0),o=T.useRef(null),[a,l]=T.useState(null);rV(a);let u=e&&n!==null&&a!==null,{to:h="bottom",gap:f=0,offset:p=0,padding:m=0,inner:v}=iV(n,a),[g,E="center"]=h.split(" ");Ze(()=>{u&&s(0)},[u]);let{refs:y,floatingStyles:_,context:x}=GM({open:u,placement:g==="selection"?E==="center"?"bottom":`bottom-${E}`:E==="center"?`${g}`:`${g}-${E}`,strategy:"absolute",transform:!1,middleware:[$k({mainAxis:g==="selection"?0:f,crossAxis:p}),PM({padding:m}),g!=="selection"&&NM({padding:m}),g==="selection"&&v?QM({...v,padding:m,overflowRef:o,offset:i,minItemsVisible:p1,referenceOverflowThreshold:m,onFallbackChange(L){var A,j;if(!L)return;let R=x.elements.floating;if(!R)return;let G=parseFloat(getComputedStyle(R).scrollPaddingBottom)||0,le=Math.min(p1,R.childElementCount),Y=0,$=0;for(let B of(j=(A=x.elements.floating)==null?void 0:A.childNodes)!=null?j:[])if(ei(B)){let K=B.offsetTop,z=K+B.clientHeight+G,U=R.scrollTop,J=U+R.clientHeight;if(K>=U&&z<=J)le--;else{$=Math.max(0,Math.min(z,J)-Math.max(K,U)),Y=B.clientHeight;break}}le>=1&&s(B=>{let K=Y*le-$+G;return B>=K?B:K})}}):null,jM({padding:m,apply({availableWidth:L,availableHeight:A,elements:j}){Object.assign(j.floating.style,{overflow:"auto",maxWidth:`${L}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${A}px)`})}})].filter(Boolean),whileElementsMounted:EM}),[N=g,O=E]=x.placement.split("-");g==="selection"&&(N="selection");let V=T.useMemo(()=>({anchor:[N,O].filter(Boolean).join(" ")}),[N,O]),S=YM(x,{overflowRef:o,onChange:s}),{getReferenceProps:b,getFloatingProps:k}=KM([S]),P=De(L=>{l(L),y.setFloating(L)});return T.createElement(Yy.Provider,{value:r},T.createElement(la.Provider,{value:{setFloating:P,setReference:y.setReference,styles:_,getReferenceProps:b,getFloatingProps:k,slot:V}},t))}function rV(t){Ze(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function iV(t,e){var n,r,i;let s=Qf((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=Qf((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=Qf((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function Qf(t,e,n=void 0){let r=sa(),i=De((l,u)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[n,null];let h=m1(l,u);return[h,f=>{let p=Bk(l);{let m=p.map(v=>window.getComputedStyle(u).getPropertyValue(v));r.requestAnimationFrame(function v(){r.nextFrame(v);let g=!1;for(let[y,_]of p.entries()){let x=window.getComputedStyle(u).getPropertyValue(_);if(m[y]!==x){m[y]=x,g=!0;break}}if(!g)return;let E=m1(l,u);h!==E&&(f(E),h=E)})}return r.dispose}]}return[n,null]}),s=T.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=T.useState();return Ze(()=>{let[l,u]=i(t,e);if(a(l),!!u)return u(a)},[t,e]),o}function Bk(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...Bk(i)]:[r]}return[]}function m1(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}function sV(t,e){let[n,r]=T.useState(e);return!t&&n!==e&&r(e),t?n:e}let Xy=T.createContext(null);Xy.displayName="OpenClosedContext";var Qn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Qn||{});function Jy(){return T.useContext(Xy)}function Hk({value:t,children:e}){return Pe.createElement(Xy.Provider,{value:t},e)}function oV(t){throw new Error("Unexpected object: "+t)}var nt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(nt||{});function oc(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:oV(t)}}var Wk=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(Wk||{});function qk(t){let e=De(t),n=T.useRef(!1);T.useEffect(()=>(n.current=!1,()=>{n.current=!0,ZS(()=>{n.current&&e()})}),[e])}function aV(){let t=typeof document>"u";return"useSyncExternalStore"in tp?(e=>e.useSyncExternalStore)(tp)(()=>()=>{},()=>!1,()=>!t):!1}function Zy(){let t=aV(),[e,n]=T.useState(wr.isHandoffComplete);return e&&wr.isHandoffComplete===!1&&n(!1),T.useEffect(()=>{e!==!0&&n(!0)},[e]),T.useEffect(()=>wr.handoff(),[]),t?!1:e}let lV=T.createContext(!1);function uV(){return T.useContext(lV)}function cV(t){let e=uV(),n=T.useContext(Kk),[r,i]=T.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(wr.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return T.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),T.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let Gk=T.Fragment,dV=dn(function(t,e){let{ownerDocument:n=null,...r}=t,i=T.useRef(null),s=Un(T6(m=>{i.current=m}),e),o=jm(i),a=n??o,l=cV(a),[u]=T.useState(()=>{var m;return wr.isServer?null:(m=a==null?void 0:a.createElement("div"))!=null?m:null}),h=T.useContext(mV),f=Zy();Ze(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),Ze(()=>{if(u&&h)return h.register(u)},[h,u]),qk(()=>{var m;!l||!u||(By(u)&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((m=l.parentElement)==null||m.removeChild(l)))});let p=Tn();return f?!l||!u?null:jn.createPortal(p({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:Gk,name:"Portal"}),u):null});function hV(t,e){let n=Un(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=Tn();return r?Pe.createElement(dV,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:Gk,name:"Portal"})}let fV=T.Fragment,Kk=T.createContext(null);function pV(t,e){let{target:n,...r}=t,i={ref:Un(e)},s=Tn();return Pe.createElement(Kk.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:fV,name:"Popover.Group"}))}let mV=T.createContext(null),gV=dn(hV),yV=dn(pV),vV=Object.assign(gV,{Group:yV});function _V(){let t=T.useRef(!1);return Ze(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Qk(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:Xk)!==T.Fragment||Pe.Children.count(t.children)===1}let Dh=T.createContext(null);Dh.displayName="TransitionContext";var wV=(t=>(t.Visible="visible",t.Hidden="hidden",t))(wV||{});function xV(){let t=T.useContext(Dh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function EV(){let t=T.useContext(Lh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Lh=T.createContext(null);Lh.displayName="NestingContext";function Mh(t){return"children"in t?Mh(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Yk(t,e){let n=zs(t),r=T.useRef([]),i=_V(),s=sa(),o=De((m,v=Ei.Hidden)=>{let g=r.current.findIndex(({el:E})=>E===m);g!==-1&&(Vn(v,{[Ei.Unmount](){r.current.splice(g,1)},[Ei.Hidden](){r.current[g].state="hidden"}}),s.microTask(()=>{var E;!Mh(r)&&i.current&&((E=n.current)==null||E.call(n))}))}),a=De(m=>{let v=r.current.find(({el:g})=>g===m);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:m,state:"visible"}),()=>o(m,Ei.Unmount)}),l=T.useRef([]),u=T.useRef(Promise.resolve()),h=T.useRef({enter:[],leave:[]}),f=De((m,v,g)=>{l.current.splice(0),e&&(e.chains.current[v]=e.chains.current[v].filter(([E])=>E!==m)),e==null||e.chains.current[v].push([m,new Promise(E=>{l.current.push(E)})]),e==null||e.chains.current[v].push([m,new Promise(E=>{Promise.all(h.current[v].map(([y,_])=>_)).then(()=>E())})]),v==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>g(v)):g(v)}),p=De((m,v,g)=>{Promise.all(h.current[v].splice(0).map(([E,y])=>y)).then(()=>{var E;(E=l.current.shift())==null||E()}).then(()=>g(v))});return T.useMemo(()=>({children:r,register:a,unregister:o,onStart:f,onStop:p,wait:u,chains:h}),[a,o,r,f,p,h,u])}let Xk=T.Fragment,Jk=Nd.RenderStrategy;function bV(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:h,enterTo:f,entered:p,leave:m,leaveFrom:v,leaveTo:g,...E}=t,[y,_]=T.useState(null),x=T.useRef(null),N=Qk(t),O=Un(...N?[x,e,_]:e===null?[]:[e]),V=(n=E.unmount)==null||n?Ei.Unmount:Ei.Hidden,{show:S,appear:b,initial:k}=xV(),[P,L]=T.useState(S?"visible":"hidden"),A=EV(),{register:j,unregister:R}=A;Ze(()=>j(x),[j,x]),Ze(()=>{if(V===Ei.Hidden&&x.current){if(S&&P!=="visible"){L("visible");return}return Vn(P,{hidden:()=>R(x),visible:()=>j(x)})}},[P,x,j,R,S,V]);let G=Zy();Ze(()=>{if(N&&G&&P==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,P,G,N]);let le=k&&!b,Y=b&&S&&k,$=T.useRef(!1),B=Yk(()=>{$.current||(L("hidden"),R(x))},A),K=De(ie=>{$.current=!0;let me=ie?"enter":"leave";B.onStart(x,me,Ee=>{Ee==="enter"?s==null||s():Ee==="leave"&&(a==null||a())})}),z=De(ie=>{let me=ie?"enter":"leave";$.current=!1,B.onStop(x,me,Ee=>{Ee==="enter"?o==null||o():Ee==="leave"&&(l==null||l())}),me==="leave"&&!Mh(B)&&(L("hidden"),R(x))});T.useEffect(()=>{N&&i||(K(S),z(S))},[S,N,i]);let U=(()=>!(!i||!N||!G||le))(),[,J]=Ik(U,y,S,{start:K,end:z}),oe=hi({ref:O,className:((r=Am(E.className,Y&&u,Y&&h,J.enter&&u,J.enter&&J.closed&&h,J.enter&&!J.closed&&f,J.leave&&m,J.leave&&!J.closed&&v,J.leave&&J.closed&&g,!J.transition&&S&&p))==null?void 0:r.trim())||void 0,...kk(J)}),ne=0;P==="visible"&&(ne|=Qn.Open),P==="hidden"&&(ne|=Qn.Closed),S&&P==="hidden"&&(ne|=Qn.Opening),!S&&P==="visible"&&(ne|=Qn.Closing);let Ie=Tn();return Pe.createElement(Lh.Provider,{value:B},Pe.createElement(Hk,{value:ne},Ie({ourProps:oe,theirProps:E,defaultTag:Xk,features:Jk,visible:P==="visible",name:"Transition.Child"})))}function TV(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=T.useRef(null),a=Qk(t),l=Un(...a?[o,e]:e===null?[]:[e]);Zy();let u=Jy();if(n===void 0&&u!==null&&(n=(u&Qn.Open)===Qn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,f]=T.useState(n?"visible":"hidden"),p=Yk(()=>{n||f("hidden")}),[m,v]=T.useState(!0),g=T.useRef([n]);Ze(()=>{m!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),v(!1))},[g,n]);let E=T.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);Ze(()=>{n?f("visible"):!Mh(p)&&o.current!==null&&f("hidden")},[n,p]);let y={unmount:i},_=De(()=>{var O;m&&v(!1),(O=t.beforeEnter)==null||O.call(t)}),x=De(()=>{var O;m&&v(!1),(O=t.beforeLeave)==null||O.call(t)}),N=Tn();return Pe.createElement(Lh.Provider,{value:p},Pe.createElement(Dh.Provider,{value:E},N({ourProps:{...y,as:T.Fragment,children:Pe.createElement(Zk,{ref:l,...y,...s,beforeEnter:_,beforeLeave:x})},theirProps:{},defaultTag:T.Fragment,features:Jk,visible:h==="visible",name:"Transition"})))}function SV(t,e){let n=T.useContext(Dh)!==null,r=Jy()!==null;return Pe.createElement(Pe.Fragment,null,!n&&r?Pe.createElement(Mm,{ref:e,...t}):Pe.createElement(Zk,{ref:e,...t}))}let Mm=dn(TV),Zk=dn(bV),kV=dn(SV),IV=Object.assign(Mm,{Child:kV,Root:Mm});function CV(t,e){let n=T.useRef({left:0,top:0});if(Ze(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(n.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let g1=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function y1(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!ei(i))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return g1.test(o)&&(o=o.replace(g1,"")),o}function AV(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():y1(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return y1(t).trim()}function RV(t){let e=T.useRef(""),n=T.useRef("");return De(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=AV(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var PV=Object.defineProperty,NV=(t,e,n)=>e in t?PV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,v1=(t,e,n)=>(NV(t,typeof e!="symbol"?e+"":e,n),n),kt=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(kt||{}),dr=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(dr||{}),Mc=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Mc||{}),eI=(t=>(t[t.OpenListbox=0]="OpenListbox",t[t.CloseListbox=1]="CloseListbox",t[t.GoToOption=2]="GoToOption",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterOptions=5]="RegisterOptions",t[t.UnregisterOptions=6]="UnregisterOptions",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetOptionsElement=8]="SetOptionsElement",t[t.SortOptions=9]="SortOptions",t))(eI||{});function _1(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=Tk(e(t.options.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let jV={1(t){return t.dataRef.current.disabled||t.listboxState===1?t:{...t,activeOptionIndex:null,pendingFocus:{focus:nt.Nothing},listboxState:1,__demoMode:!1}},0(t,e){if(t.dataRef.current.disabled||t.listboxState===0)return t;let n=t.activeOptionIndex,{isSelected:r}=t.dataRef.current,i=t.options.findIndex(s=>r(s.dataRef.current.value));return i!==-1&&(n=i),{...t,pendingFocus:e.focus,listboxState:0,activeOptionIndex:n,__demoMode:!1}},2(t,e){var n,r,i,s,o;if(t.dataRef.current.disabled||t.listboxState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===nt.Nothing)return{...a,activeOptionIndex:null};if(e.focus===nt.Specific)return{...a,activeOptionIndex:t.options.findIndex(h=>h.id===e.id)};if(e.focus===nt.Previous){let h=t.activeOptionIndex;if(h!==null){let f=t.options[h].dataRef.current.domRef,p=oc(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(p!==null){let m=t.options[p].dataRef.current.domRef;if(((r=f.current)==null?void 0:r.previousElementSibling)===m.current||((i=m.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeOptionIndex:p}}}}else if(e.focus===nt.Next){let h=t.activeOptionIndex;if(h!==null){let f=t.options[h].dataRef.current.domRef,p=oc(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(p!==null){let m=t.options[p].dataRef.current.domRef;if(((s=f.current)==null?void 0:s.nextElementSibling)===m.current||((o=m.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeOptionIndex:p}}}}let l=_1(t),u=oc(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});return{...a,...l,activeOptionIndex:u}},3:(t,e)=>{if(t.dataRef.current.disabled||t.listboxState===1)return t;let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeOptionIndex!==null?t.options.slice(t.activeOptionIndex+n).concat(t.options.slice(0,t.activeOptionIndex+n)):t.options).find(o=>{var a;return!o.dataRef.current.disabled&&((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),s=i?t.options.indexOf(i):-1;return s===-1||s===t.activeOptionIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},4(t){return t.dataRef.current.disabled||t.listboxState===1||t.searchQuery===""?t:{...t,searchQuery:""}},5:(t,e)=>{let n=t.options.concat(e.options),r=t.activeOptionIndex;if(t.pendingFocus.focus!==nt.Nothing&&(r=oc(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),t.activeOptionIndex===null){let{isSelected:i}=t.dataRef.current;if(i){let s=n.findIndex(o=>i==null?void 0:i(o.dataRef.current.value));s!==-1&&(r=s)}}return{...t,options:n,activeOptionIndex:r,pendingFocus:{focus:nt.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.options,r=[],i=new Set(e.options);for(let[s,o]of n.entries())if(i.has(o.id)&&(r.push(s),i.delete(o.id),i.size===0))break;if(r.length>0){n=n.slice();for(let s of r.reverse())n.splice(s,1)}return{...t,options:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.optionsElement===e.element?t:{...t,optionsElement:e.element},9:t=>t.pendingShouldSort?{...t,..._1(t),pendingShouldSort:!1}:t};class ev extends mk{constructor(e){super(e),v1(this,"actions",{onChange:n=>{let{onChange:r,compare:i,mode:s,value:o}=this.state.dataRef.current;return Vn(s,{0:()=>r==null?void 0:r(n),1:()=>{let a=o.slice(),l=a.findIndex(u=>i(u,n));return l===-1?a.push(n):a.splice(l,1),r==null?void 0:r(a)}})},registerOption:Hf(()=>{let n=[],r=new Set;return[(i,s)=>{r.has(s)||(r.add(s),n.push({id:i,dataRef:s}))},()=>(r.clear(),this.send({type:5,options:n.splice(0)}))]}),unregisterOption:Hf(()=>{let n=[];return[r=>n.push(r),()=>{this.send({type:6,options:n.splice(0)})}]}),goToOption:Hf(()=>{let n=null;return[(r,i)=>{n={type:2,...r,trigger:i}},()=>n&&this.send(n)]}),closeListbox:()=>{this.send({type:1})},openListbox:n=>{this.send({type:0,focus:n})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:n,id:r}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(n.current.value),this.send({type:2,focus:nt.Specific,id:r})}},selectOption:n=>{let r=this.state.options.find(i=>i.id===n);r&&this.actions.onChange(r.dataRef.current.value)},search:n=>{this.send({type:3,value:n})},clearSearch:()=>{this.send({type:4})},setButtonElement:n=>{this.send({type:7,element:n})},setOptionsElement:n=>{this.send({type:8,element:n})}}),v1(this,"selectors",{activeDescendantId(n){var r;let i=n.activeOptionIndex,s=n.options;return i===null||(r=s[i])==null?void 0:r.id},isActive(n,r){var i;let s=n.activeOptionIndex,o=n.options;return s!==null?((i=o[s])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.listboxState!==0||n.activationTrigger===0?!1:this.isActive(n,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=Wy.get(null);this.disposables.add(r.on(yk.Push,i=>{!r.selectors.isTop(i,n)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:e,__demoMode:n=!1}){return new ev({id:e,dataRef:{current:{}},listboxState:n?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:nt.Nothing},__demoMode:n})}reduce(e,n){return Vn(n.type,jV,e,n)}}const tI=T.createContext(null);function tv(t){let e=T.useContext(tI);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nI),n}return e}function nI({id:t,__demoMode:e=!1}){let n=T.useMemo(()=>ev.new({id:t,__demoMode:e}),[]);return qk(()=>n.dispose()),n}let Vh=T.createContext(null);Vh.displayName="ListboxDataContext";function pu(t){let e=T.useContext(Vh);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,pu),n}return e}let OV=T.Fragment;function DV(t,e){let n=T.useId(),r=Uy(),{value:i,defaultValue:s,form:o,name:a,onChange:l,by:u,invalid:h=!1,disabled:f=r||!1,horizontal:p=!1,multiple:m=!1,__demoMode:v=!1,...g}=t;const E=p?"horizontal":"vertical";let y=Un(e),_=u6(s),[x=m?[]:void 0,N]=l6(i,l,_),O=nI({id:n,__demoMode:v}),V=T.useRef({static:!1,hold:!1}),S=T.useRef(new Map),b=D6(u),k=T.useCallback(U=>Vn(P.mode,{[dr.Multi]:()=>x.some(J=>b(J,U)),[dr.Single]:()=>b(x,U)}),[x]),P=T.useMemo(()=>({value:x,disabled:f,invalid:h,mode:m?dr.Multi:dr.Single,orientation:E,onChange:N,compare:b,isSelected:k,optionsPropsRef:V,listRef:S}),[x,f,h,m,E,N,b,k,V,S]);Ze(()=>{O.state.dataRef.current=P},[P]);let L=Pn(O,U=>U.listboxState),A=Wy.get(null),j=Pn(A,T.useCallback(U=>A.selectors.isTop(U,n),[A,n])),[R,G]=Pn(O,U=>[U.buttonElement,U.optionsElement]);f5(j,[R,G],(U,J)=>{O.send({type:eI.CloseListbox}),bk(J,qy.Loose)||(U.preventDefault(),R==null||R.focus())});let le=T.useMemo(()=>({open:L===kt.Open,disabled:f,invalid:h,value:x}),[L,f,h,x]),[Y,$]=A6({inherit:!0}),B={ref:y},K=T.useCallback(()=>{if(_!==void 0)return N==null?void 0:N(_)},[N,_]),z=Tn();return Pe.createElement($,{value:Y,props:{htmlFor:R==null?void 0:R.id},slot:{open:L===kt.Open,disabled:f}},Pe.createElement(nV,null,Pe.createElement(tI.Provider,{value:O},Pe.createElement(Vh.Provider,{value:P},Pe.createElement(Hk,{value:Vn(L,{[kt.Open]:Qn.Open,[kt.Closed]:Qn.Closed})},a!=null&&x!=null&&Pe.createElement(m6,{disabled:f,data:{[a]:x},form:o,onReset:K}),z({ourProps:B,theirProps:g,slot:le,defaultTag:OV,name:"Listbox"}))))))}let LV="button";function MV(t,e){let n=T.useId(),r=ok(),i=pu("Listbox.Button"),s=tv("Listbox.Button"),{id:o=r||`headlessui-listbox-button-${n}`,disabled:a=i.disabled||!1,autoFocus:l=!1,...u}=t,h=Un(e,JM(),s.actions.setButtonElement),f=ZM(),[p,m,v]=Pn(s,$=>[$.listboxState,$.buttonElement,$.optionsElement]),g=p===kt.Open;g5(g,{trigger:m,action:T.useCallback($=>{if(m!=null&&m.contains($.target))return ic.Ignore;let B=$.target.closest('[role="option"]:not([data-disabled])');return ei(B)?ic.Select(B):v!=null&&v.contains($.target)?ic.Ignore:ic.Close},[m,v]),close:s.actions.closeListbox,select:s.actions.selectActiveOption});let E=De($=>{switch($.key){case bt.Enter:c6($.currentTarget);break;case bt.Space:case bt.ArrowDown:$.preventDefault(),s.actions.openListbox({focus:i.value?nt.Nothing:nt.First});break;case bt.ArrowUp:$.preventDefault(),s.actions.openListbox({focus:i.value?nt.Nothing:nt.Last});break}}),y=De($=>{switch($.key){case bt.Space:$.preventDefault();break}}),_=De($=>{var B;if($.button===Wk.Left){if(E6($.currentTarget))return $.preventDefault();s.state.listboxState===kt.Open?(jn.flushSync(()=>s.actions.closeListbox()),(B=s.state.buttonElement)==null||B.focus({preventScroll:!0})):($.preventDefault(),s.actions.openListbox({focus:nt.Nothing}))}}),x=T.useRef(null),N=De($=>{x.current=$.pointerType,$.pointerType==="mouse"&&_($)}),O=De($=>{x.current!=="mouse"&&_($)}),V=De($=>$.preventDefault()),S=hk([o]),b=S6(),{isFocusVisible:k,focusProps:P}=YL({autoFocus:l}),{isHovered:L,hoverProps:A}=QL({isDisabled:a}),{pressed:j,pressProps:R}=n6({disabled:a}),G=T.useMemo(()=>({open:p===kt.Open,active:j||p===kt.Open,disabled:a,invalid:i.invalid,value:i.value,hover:L,focus:k,autofocus:l}),[p,i.value,a,L,k,j,i.invalid,l]),le=Pn(s,$=>$.listboxState===kt.Open),Y=tk(f(),{ref:h,id:o,type:y5(t,m),"aria-haspopup":"listbox","aria-controls":v==null?void 0:v.id,"aria-expanded":le,"aria-labelledby":S,"aria-describedby":b,disabled:a||void 0,autoFocus:l,onKeyDown:E,onKeyUp:y,onKeyPress:V,onPointerDown:N,onClick:O},P,A,R);return Tn()({ourProps:Y,theirProps:u,slot:G,defaultTag:LV,name:"Listbox.Button"})}let rI=T.createContext(!1),VV="div",FV=Nd.RenderStrategy|Nd.Static;function $V(t,e){let n=T.useId(),{id:r=`headlessui-listbox-options-${n}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=t,u=XM(i),[h,f]=T.useState(null);u&&(s=!0);let p=pu("Listbox.Options"),m=tv("Listbox.Options"),[v,g,E,y]=Pn(m,ie=>[ie.listboxState,ie.buttonElement,ie.optionsElement,ie.__demoMode]),_=jm(g),x=jm(E),N=Jy(),[O,V]=Ik(a,h,N!==null?(N&Qn.Open)===Qn.Open:v===kt.Open);t5(O,g,m.actions.closeListbox);let S=y?!1:o&&v===kt.Open;S5(S,x);let b=y?!1:o&&v===kt.Open;e5(b,{allowed:T.useCallback(()=>[g,E],[g,E])});let k=v!==kt.Open,P=CV(k,g)?!1:O,L=O&&v===kt.Closed,A=sV(L,p.value),j=De(ie=>p.compare(A,ie)),R=Pn(m,ie=>{var me;if(u==null||!((me=u==null?void 0:u.to)!=null&&me.includes("selection")))return null;let Ee=ie.options.findIndex(Ve=>j(Ve.dataRef.current.value));return Ee===-1&&(Ee=0),Ee}),G=(()=>{if(u==null)return;if(R===null)return{...u,inner:void 0};let ie=Array.from(p.listRef.current.values());return{...u,inner:{listRef:{current:ie},index:R}}})(),[le,Y]=tV(G),$=eV(),B=Un(e,u?le:null,m.actions.setOptionsElement,f),K=sa();T.useEffect(()=>{var ie;let me=E;me&&v===kt.Open&&me!==((ie=cu(me))==null?void 0:ie.activeElement)&&(me==null||me.focus({preventScroll:!0}))},[v,E]);let z=De(ie=>{var me,Ee;switch(K.dispose(),ie.key){case bt.Space:if(m.state.searchQuery!=="")return ie.preventDefault(),ie.stopPropagation(),m.actions.search(ie.key);case bt.Enter:if(ie.preventDefault(),ie.stopPropagation(),m.state.activeOptionIndex!==null){let{dataRef:Ve}=m.state.options[m.state.activeOptionIndex];m.actions.onChange(Ve.current.value)}p.mode===dr.Single&&(jn.flushSync(()=>m.actions.closeListbox()),(me=m.state.buttonElement)==null||me.focus({preventScroll:!0}));break;case Vn(p.orientation,{vertical:bt.ArrowDown,horizontal:bt.ArrowRight}):return ie.preventDefault(),ie.stopPropagation(),m.actions.goToOption({focus:nt.Next});case Vn(p.orientation,{vertical:bt.ArrowUp,horizontal:bt.ArrowLeft}):return ie.preventDefault(),ie.stopPropagation(),m.actions.goToOption({focus:nt.Previous});case bt.Home:case bt.PageUp:return ie.preventDefault(),ie.stopPropagation(),m.actions.goToOption({focus:nt.First});case bt.End:case bt.PageDown:return ie.preventDefault(),ie.stopPropagation(),m.actions.goToOption({focus:nt.Last});case bt.Escape:ie.preventDefault(),ie.stopPropagation(),jn.flushSync(()=>m.actions.closeListbox()),(Ee=m.state.buttonElement)==null||Ee.focus({preventScroll:!0});return;case bt.Tab:ie.preventDefault(),ie.stopPropagation(),jn.flushSync(()=>m.actions.closeListbox()),u5(m.state.buttonElement,ie.shiftKey?Nm.Previous:Nm.Next);break;default:ie.key.length===1&&(m.actions.search(ie.key),K.setTimeout(()=>m.actions.clearSearch(),350));break}}),U=Pn(m,ie=>{var me;return(me=ie.buttonElement)==null?void 0:me.id}),J=T.useMemo(()=>({open:v===kt.Open}),[v]),oe=tk(u?$():{},{id:r,ref:B,"aria-activedescendant":Pn(m,m.selectors.activeDescendantId),"aria-multiselectable":p.mode===dr.Multi?!0:void 0,"aria-labelledby":U,"aria-orientation":p.orientation,onKeyDown:z,role:"listbox",tabIndex:v===kt.Open?0:void 0,style:{...l.style,...Y,"--button-width":M6(g,!0).width},...kk(V)}),ne=Tn(),Ie=T.useMemo(()=>p.mode===dr.Multi?p:{...p,isSelected:j},[p,j]);return Pe.createElement(vV,{enabled:s?t.static||O:!1,ownerDocument:_},Pe.createElement(Vh.Provider,{value:Ie},ne({ourProps:oe,theirProps:l,slot:J,defaultTag:VV,features:FV,visible:P,name:"Listbox.Options"})))}let UV="div";function zV(t,e){let n=T.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:s,...o}=t,a=T.useContext(rI)===!0,l=pu("Listbox.Option"),u=tv("Listbox.Option"),h=Pn(u,P=>u.selectors.isActive(P,r)),f=l.isSelected(s),p=T.useRef(null),m=RV(p),v=zs({disabled:i,value:s,domRef:p,get textValue(){return m()}}),g=Un(e,p,P=>{P?l.listRef.current.set(r,P):l.listRef.current.delete(r)}),E=Pn(u,P=>u.selectors.shouldScrollIntoView(P,r));Ze(()=>{if(E)return sr().requestAnimationFrame(()=>{var P,L;(L=(P=p.current)==null?void 0:P.scrollIntoView)==null||L.call(P,{block:"nearest"})})},[E,p]),Ze(()=>{if(!a)return u.actions.registerOption(r,v),()=>u.actions.unregisterOption(r)},[v,r,a]);let y=De(P=>{var L;if(i)return P.preventDefault();u.actions.onChange(s),l.mode===dr.Single&&(jn.flushSync(()=>u.actions.closeListbox()),(L=u.state.buttonElement)==null||L.focus({preventScroll:!0}))}),_=De(()=>{if(i)return u.actions.goToOption({focus:nt.Nothing});u.actions.goToOption({focus:nt.Specific,id:r})}),x=k5(),N=De(P=>x.update(P)),O=De(P=>{x.wasMoved(P)&&(i||h&&u.state.activationTrigger===Mc.Pointer||u.actions.goToOption({focus:nt.Specific,id:r},Mc.Pointer))}),V=De(P=>{x.wasMoved(P)&&(i||h&&u.state.activationTrigger===Mc.Pointer&&u.actions.goToOption({focus:nt.Nothing}))}),S=T.useMemo(()=>({active:h,focus:h,selected:f,disabled:i,selectedOption:f&&a}),[h,f,i,a]),b=a?{}:{id:r,ref:g,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":f,disabled:void 0,onClick:y,onFocus:_,onPointerEnter:N,onMouseEnter:N,onPointerMove:O,onMouseMove:O,onPointerLeave:V,onMouseLeave:V},k=Tn();return!f&&a?null:k({ourProps:b,theirProps:o,slot:S,defaultTag:UV,name:"Listbox.Option"})}let BV=T.Fragment;function HV(t,e){let{options:n,placeholder:r,...i}=t,s={ref:Un(e)},o=pu("ListboxSelectedOption"),a=T.useMemo(()=>({}),[]),l=o.value===void 0||o.value===null||o.mode===dr.Multi&&Array.isArray(o.value)&&o.value.length===0,u=Tn();return Pe.createElement(rI.Provider,{value:!0},u({ourProps:s,theirProps:{...i,children:Pe.createElement(Pe.Fragment,null,r&&l?r:n)},slot:a,defaultTag:BV,name:"ListboxSelectedOption"}))}let WV=dn(DV),qV=dn(MV),GV=j6,KV=dn($V),QV=dn(zV),YV=dn(HV),ac=Object.assign(WV,{Button:qV,Label:GV,Options:KV,Option:QV,SelectedOption:YV});const XV={slug:"dental",displayName:"Dental School Admissions",hero:{title:"Nail Your Dental School Interviews."},defaultQuestion:"Why do you want to become a dentist?",tips:[{title:"Tell an honest why dentistry story",body:"Share how you discovered dentistry, what you observed in clinical settings, and the moments that confirmed your fit."},{title:"Reflect on exposure",body:"Move past listing hours. Explain what you learned from shadowing/assisting and how it shaped your perspective."},{title:"Communication & trust matter",body:"Expect scenarios about nervous patients, explaining procedures plainly, and building rapport under time pressure."},{title:"Teamwork over technicals",body:"Theyre looking for reliability, empathy, and collaboration  not drilling techniques in an interview."}]},JV={slug:"medical",displayName:"Medical School Admissions",hero:{title:"Nail Your Medical School Interviews."},defaultQuestion:"Why do you want to become a doctor?",tipsIntro:"Get ready for ethical scenarios, teamwork, and patient-centered communication.",questionTags:["Medical"]},iI={dental:XV,medical:JV},sI=T.createContext(null);function ZV({children:t}){const{profession:e}=nh()||{};if(!e)return t;const n=iI[e.toLowerCase()];return n?(T.useEffect(()=>{try{e&&localStorage.setItem("lastProfession",e)}catch{}},[e]),d.jsx(sI.Provider,{value:{slug:e,config:n},children:t})):d.jsx(dd,{to:"/",replace:!0})}function qt(){return T.useContext(sI)}function eF(t){return d.jsx("svg",{...t,viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})}function tF(){var o;const t=$n(),e=nn(),n=(o=qt==null?void 0:qt())==null?void 0:o.slug,r=T.useMemo(()=>Object.values(iI).map(a=>({slug:a.slug,label:a.displayName||a.slug})),[]),i=r.find(a=>a.slug===n)||r[0],s=a=>{const l=e.pathname.split("/").filter(Boolean),u=l.length>1?l.slice(1).join("/"):"";t(u?`/${a}/${u}`:`/${a}`)};return d.jsx(ac,{value:i,onChange:a=>s(a.slug),children:d.jsxs("div",{className:"relative",children:[d.jsxs(ac.Button,{className:`
            inline-flex items-center gap-1 text-sm font-medium text-gray-700 hover:text-gray-900
            focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500
          `,children:[d.jsx("span",{children:i==null?void 0:i.label}),d.jsx(eF,{className:"h-4 w-4 text-gray-500"})]}),d.jsx(IV,{as:T.Fragment,enter:"transition ease-out duration-100",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:d.jsx(ac.Options,{className:`
              absolute z-50 mt-2 w-56 overflow-hidden rounded-xl border border-gray-200 bg-white
              shadow-lg ring-1 ring-black/5
            `,children:r.map(a=>d.jsx(ac.Option,{value:a,className:({active:l})=>["cursor-pointer select-none px-3 py-2 text-sm",l?"bg-teal-50":"bg-white"].join(" "),children:({selected:l})=>d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("span",{className:l?"font-semibold text-gray-900":"text-gray-800",children:a.label})})},a.slug))})})]})})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rF=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),w1=t=>{const e=rF(t);return e.charAt(0).toUpperCase()+e.slice(1)},oI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),iF=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...sF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:oI("lucide",i),...!s&&!iF(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,h])=>T.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(oF,{ref:s,iconNode:e,className:oI(`lucide-${nF(w1(t))}`,`lucide-${t}`,r),...i}));return n.displayName=w1(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lF=ot("award",aF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],cF=ot("book-open",uF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],aI=ot("chart-column",dF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vm=ot("chevron-left",hF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pF=ot("circle-check",fF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fm=ot("clock",mF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],yF=ot("copy",gF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],x1=ot("crown",vF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],wF=ot("download",_F);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],EF=ot("file-text",xF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],E1=ot("gift",bF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],SF=ot("menu",TF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],IF=ot("mic-off",kF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],AF=ot("mic",CF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],b1=ot("play",RF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],NF=ot("skip-forward",PF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Yf=ot("star",jF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],DF=ot("target",OF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],MF=ot("trending-up",LF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],T1=ot("triangle-alert",VF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$F=ot("trophy",FF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],zF=ot("video",UF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HF=ot("x",BF);function WF(){const[t,e]=T.useState(null),[n,r]=T.useState(!1),i=$n(),{slug:s}=qt()||{},o=s?`/${s}`:"/dental",a=nn();T.useEffect(()=>{const f=Zo(Dn,e);return()=>f()},[]);const l=async()=>{await Yj(Dn),i(o)};if(a.pathname.endsWith("/session")||a.pathname.endsWith("/summary"))return null;const h=({isActive:f})=>`hover:text-gray-900 ${f?"text-gray-900 underline underline-offset-4":"text-gray-700"}`;return d.jsxs("header",{className:"sticky top-0 z-40 w-full border-b bg-white/70 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:[d.jsxs("div",{className:"mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(tt,{to:o,className:"flex items-center gap-2 font-semibold tracking-tight",children:[d.jsx("span",{className:"inline-block h-8 w-8 rounded-xl bg-gradient-to-br from-teal-500 to-blue-600"}),"InterviewPrep"]}),d.jsx(tF,{})]}),d.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-sm",children:[d.jsx(ls,{to:`${o}/pricing`,className:h,children:"Pricing"}),d.jsx(ls,{to:`${o}/resources`,className:h,children:"Resources"}),d.jsx(ls,{to:`${o}/about`,className:h,children:"About"})]}),d.jsx("div",{className:"hidden md:flex items-center gap-2",children:t?d.jsxs(d.Fragment,{children:[d.jsx(tt,{to:`${o}/dashboard`,className:"rounded-lg border px-3 py-2 text-sm",children:"Dashboard"}),d.jsx("button",{onClick:l,className:"rounded-lg px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})]}):d.jsxs(d.Fragment,{children:[d.jsx(tt,{to:"/login",className:"rounded-lg px-3 py-2 text-sm hover:bg-gray-100",children:"Log in"}),d.jsx(tt,{to:"/signup",className:"rounded-lg bg-gray-900 px-3 py-2 text-sm font-medium text-white hover:bg-gray-800",children:"Get started"})]})}),d.jsx("button",{onClick:()=>r(!n),className:"md:hidden inline-flex items-center justify-center rounded-md p-2 text-gray-700 hover:bg-gray-100","aria-label":n?"Close menu":"Open menu","aria-expanded":n,"aria-controls":"mobile-menu",children:n?d.jsx(HF,{className:"h-6 w-6"}):d.jsx(SF,{className:"h-6 w-6"})})]}),n&&d.jsxs("div",{id:"mobile-menu",className:"md:hidden border-t bg-white px-4 py-4 space-y-2",children:[d.jsx(ls,{to:`${o}/pricing`,className:"block",children:"Pricing"}),d.jsx(ls,{to:`${o}/resources`,className:"block",children:"Resources"}),d.jsx(ls,{to:`${o}/about`,className:"block",children:"About"}),t?d.jsxs(d.Fragment,{children:[d.jsx(tt,{to:`${o}/dashboard`,className:"block",children:"Dashboard"}),d.jsx("button",{onClick:l,className:"block text-left w-full",children:"Logout"})]}):d.jsxs(d.Fragment,{children:[d.jsx(tt,{to:"/login",className:"block",children:"Log in"}),d.jsx(tt,{to:"/signup",className:"block",children:"Get started"})]})]})]})}function qF(){const{slug:t}=qt()||{},e=t?`/${t}`:"/dental";return d.jsxs("footer",{className:"border-t bg-white",children:[d.jsxs("div",{className:"mx-auto grid max-w-7xl grid-cols-1 gap-8 px-4 py-12 sm:px-6 md:grid-cols-4 lg:px-8",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 font-semibold text-gray-900",children:[d.jsx("span",{className:"inline-block h-7 w-7 rounded-lg bg-gradient-to-br from-teal-500 to-blue-600","aria-hidden":"true"}),"InterviewPrep"]}),d.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Structured practice for healthcare interviews  scenarios, scoring, and instant feedback."})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Product"}),d.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:[d.jsx("li",{children:d.jsx(tt,{to:`${e}/features`,className:"hover:text-gray-900",children:"Features"})}),d.jsx("li",{children:d.jsx(tt,{to:`${e}/pricing`,className:"hover:text-gray-900",children:"Pricing"})}),d.jsx("li",{children:d.jsx(tt,{to:`${e}/resources`,className:"hover:text-gray-900",children:"Resources"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Company"}),d.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:[d.jsx("li",{children:d.jsx(tt,{to:`${e}/about`,className:"hover:text-gray-900",children:"About"})}),d.jsx("li",{children:d.jsx("a",{href:"mailto:kam.interviewprep@gmail.com",className:"hover:text-gray-900",children:"Contact"})}),d.jsx("li",{children:d.jsx(tt,{to:`${e}/privacy`,className:"hover:text-gray-900",children:"Privacy Policy"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Support"}),d.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:[d.jsx("li",{children:d.jsx("a",{href:"mailto:kam.interviewprep@gmail.com",className:"hover:text-gray-900",children:"Email Support"})}),d.jsx("li",{children:d.jsx(tt,{to:`${e}/terms`,className:"hover:text-gray-900",children:"Terms of Service"})})]})]})]}),d.jsx("div",{className:"border-t",children:d.jsx("div",{className:"mx-auto flex max-w-7xl items-center justify-center px-4 py-6 text-xs text-gray-500 sm:px-6 lg:px-8",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," InterviewPrep. All rights reserved."]})})})]})}function GF(){const{profession:t}=nh(),e=nn(),n=t&&e.pathname===`/${t}`;return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(WF,{}),d.jsx("main",{className:"flex-1",children:d.jsx(kR,{})}),n&&d.jsx(qF,{})]})}function KF(){var s,o;const[t,e]=T.useState(null);T.useEffect(()=>{const a=Zo(Dn,e);return()=>a()},[]);const n=qt==null?void 0:qt(),r=((o=(s=n==null?void 0:n.config)==null?void 0:s.hero)==null?void 0:o.title)||"Ace your healthcare school interviews.",i=n!=null&&n.slug?`/${n.slug}/setup`:"/dental/setup";return n!=null&&n.slug&&`${n.slug}`,d.jsxs("main",{className:"",children:[d.jsxs("section",{className:"relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(60%_60%_at_50%_0%,rgba(13,148,136,0.15),transparent)]"}),d.jsx("div",{className:"mx-auto max-w-7xl px-4 py-20 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid items-center gap-10 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-balance text-4xl font-semibold tracking-tight text-gray-900 sm:text-5xl",children:r}),d.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Practice with mock interviews designed specifically for your profession. Get instant, actionable feedback and build confidence for your big day."}),d.jsx("div",{className:"mt-8 flex flex-wrap gap-3",children:d.jsx(tt,{to:t?i:"/signup",className:"rounded-xl bg-gray-900 px-4 py-2.5 text-sm font-medium text-white hover:bg-gray-800",children:t?"Start a practice session":"Create free account"})})]}),d.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-4 shadow-sm",children:[d.jsxs("div",{className:"rounded-xl border bg-gray-50 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"h-2 w-24 rounded bg-gray-300"}),d.jsx("div",{className:"h-2 w-8 rounded bg-gray-300"})]}),d.jsxs("div",{className:"mt-6 space-y-3",children:[d.jsx("div",{className:"h-3 w-3/4 rounded bg-gray-300"}),d.jsx("div",{className:"h-3 w-2/3 rounded bg-gray-200"}),d.jsx("div",{className:"h-3 w-1/2 rounded bg-gray-200"})]})]}),d.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"rounded-lg border p-3",children:[d.jsx("div",{className:"h-3 w-2/3 rounded bg-gray-200"}),d.jsx("div",{className:"mt-2 h-2 w-1/2 rounded bg-gray-100"})]}),d.jsxs("div",{className:"rounded-lg border p-3",children:[d.jsx("div",{className:"h-3 w-2/3 rounded bg-gray-200"}),d.jsx("div",{className:"mt-2 h-2 w-1/2 rounded bg-gray-100"})]})]})]})]})})]}),d.jsx("section",{id:"features",className:"border-t bg-gray-50",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:[d.jsx("h2",{className:"text-4xl font-semibold tracking-tight text-gray-900 text-center md:text-4xl",children:"Everything You Need to Succeed"}),d.jsx("p",{className:"mt-3 mx-auto text-center text-lg text-gray-600 text-balance max-w-prose sm:max-w-2xl md:max-w-3xl lg:max-w-4xl",children:"Comprehensive interview preparation tools modeled after real interview expectations across healthcare programs."}),d.jsx("div",{className:"mt-10 grid grid-cols-1 gap-6 md:grid-cols-3",children:[{title:"Profession-Specific Questions",body:"Curated questions for dental, medical, PA, pharmacy, and PT school interviews."},{title:"Video Practice Sessions",body:"Record yourself answering questions and review your body language and delivery."},{title:"Instant Feedback",body:"Get detailed analysis of your responses with personalized improvement suggestions."},{title:"Customizable Scenarios",body:"Tailor your practice by choosing the question focus, recording style, and session length."},{title:"Progress Tracking",body:"Monitor your improvement over time with detailed analytics and performance insights."},{title:"Secure & Private",body:"Your practice sessions are encrypted and stored securely with full privacy protection."}].map(a=>d.jsxs("div",{className:"rounded-2xl border bg-white p-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-8 w-8 shrink-0 rounded-md bg-gradient-to-br from-teal-500 to-blue-600"}),d.jsx("h3",{className:"text-base font-semibold text-gray-900",children:a.title})]}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:a.body})]},a.title))})]})}),d.jsx("section",{id:"how-it-works",className:"border-t bg-white",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:[d.jsx("h2",{className:"text-4xl font-semibold tracking-tight text-gray-900 text-center",children:"How it works"}),d.jsx("ol",{className:"mt-10 grid gap-6 md:grid-cols-3",children:[{step:"1",title:"Choose Your Format",body:"Select between standard mock interviews or create custom sessions tailored to your needs."},{step:"2",title:"Practice Answering Questions",body:"Record structured responses in realistic, interview-style flows."},{step:"3",title:"Review and Improve",body:"Use our instant personalized feedback to improve your delivery immediately."}].map(a=>d.jsxs("li",{className:"rounded-2xl border p-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"inline-flex h-7 w-7 items-center justify-center rounded-md bg-gray-900 text-xs font-medium text-white",children:a.step}),d.jsx("div",{className:"text-base font-semibold text-gray-900",children:a.title})]}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:a.body})]},a.step))})]})}),d.jsx("section",{className:"border-t bg-gray-50",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:[d.jsx("h2",{className:"text-4xl font-semibold tracking-tight text-gray-900 text-center md:text-4xl",children:"Ready to practice?"}),d.jsx("p",{className:"mt-3 mx-auto text-center text-lg text-gray-600 text-balance max-w-prose sm:max-w-2xl md:max-w-3xl lg:max-w-4xl",children:"Build confidence with structured reps and clear guidance."}),d.jsx("div",{className:"mt-6 flex justify-center",children:d.jsx(tt,{to:t?i:"/signup",className:"rounded-xl bg-gray-900 px-4 py-2.5 text-sm font-medium text-white hover:bg-gray-800",children:t?"Start a session":"Create free account"})})]})})]})}function nv({children:t,type:e="primary",full:n=!1,...r}){const i="inline-block px-4 py-2 rounded font-medium transition text-center",s={primary:"bg-blue-600 text-white hover:bg-blue-700",secondary:"border border-blue-600 text-blue-600 hover:bg-blue-50",danger:"bg-red-600 text-white hover:bg-red-700"},o=n?"w-full":"";return d.jsx("button",{className:`${i} ${s[e]} ${o}`,...r,children:t})}function QF(){var h;const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),o=nn(),a=$n(),l=(h=o.state)==null?void 0:h.from,u=async f=>{f.preventDefault(),s("Logging in...");try{const m=(await qj(Dn,t,n)).user,v=Qr(vn,"users",m.uid),g=await My(v),E=g.exists()?g.data():{};s(" Logged in!"),E.role==="admin"?a("/admin",{replace:!0}):l?a(l,{replace:!0}):a("/dashboard",{replace:!0})}catch(p){console.error(" Login error:",p),s(" "+p.message)}};return d.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded-xl shadow-md bg-white space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Log In"}),d.jsxs("form",{onSubmit:u,className:"flex flex-col gap-4",children:[d.jsx("input",{type:"email",placeholder:"Email",className:"p-2 border rounded",value:t,onChange:f=>e(f.target.value),required:!0}),d.jsx("input",{type:"password",placeholder:"Password",className:"p-2 border rounded",value:n,onChange:f=>r(f.target.value),required:!0}),d.jsx(nv,{type:"primary",full:!0,children:"Log In"})]}),i&&d.jsx("p",{className:"text-sm text-gray-700",children:i})]})}function YF(){const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(""),l=$n(),u=async h=>{h.preventDefault(),s("Creating account...");try{const p=(await Wj(Dn,t,n)).user,m=new Date;m.setDate(m.getDate()+1),await xL(Qr(vn,"users",p.uid),{name:o,email:p.email,createdAt:SL(),trialExpiresAt:m.toISOString(),hasPaid:!1,promoCodeUsed:null,emailVerified:!1}),await Gj(p),l("/dashboard",{replace:!0})}catch(f){console.error(" Error:",f),s(" "+f.message)}};return d.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded-xl shadow-md bg-white space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Create Account"}),d.jsx("label",{className:"block",children:d.jsx("input",{type:"text",value:o,onChange:h=>a(h.target.value),required:!0,className:"mt-1 block w-full border rounded-md p-2",placeholder:"Name"})}),d.jsxs("form",{onSubmit:u,className:"flex flex-col gap-4",children:[d.jsx("input",{type:"email",placeholder:"Email",className:"p-2 border rounded",value:t,onChange:h=>e(h.target.value),required:!0}),d.jsx("input",{type:"password",placeholder:"Password",className:"p-2 border rounded",value:n,onChange:h=>r(h.target.value),required:!0}),d.jsx(nv,{type:"primary",full:!0,children:"Sign Up"})]}),i&&d.jsx("p",{className:"text-sm text-gray-700",children:i})]})}function S1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function XF(...t){return e=>{let n=!1;const r=t.map(i=>{const s=S1(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():S1(t[i],null)}}}}function lI(t){const e=ZF(t),n=T.forwardRef((r,i)=>{const{children:s,...o}=r,a=T.Children.toArray(s),l=a.find(t$);if(l){const u=l.props.children,h=a.map(f=>f===l?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:f);return d.jsx(e,{...o,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,h):null})}return d.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var JF=lI("Slot");function ZF(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const o=r$(i),a=n$(s,i.props);return i.type!==T.Fragment&&(a.ref=r?XF(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var e$=Symbol("radix.slottable");function t$(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===e$}function n$(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function r$(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const k1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,I1=BS,uI=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return I1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const h=n==null?void 0:n[u],f=s==null?void 0:s[u];if(h===null)return null;const p=k1(h)||k1(f);return i[u][p]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:p,...m}=h;return Object.entries(m).every(v=>{let[g,E]=v;return Array.isArray(E)?E.includes({...s,...a}[g]):{...s,...a}[g]===E})?[...u,f,p]:u},[]);return I1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},rv="-",i$=t=>{const e=o$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(rv);return a[0]===""&&a.length!==1&&a.shift(),cI(a,e)||s$(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},cI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?cI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(rv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},C1=/^\[(.+)\]$/,s$=t=>{if(C1.test(t)){const e=C1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},o$=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)$m(n[i],r,i,e);return r},$m=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:A1(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(a$(i)){$m(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{$m(o,A1(e,s),n,r)})})},A1=(t,e)=>{let n=t;return e.split(rv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},a$=t=>t.isThemeGetter,l$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Um="!",zm=":",u$=zm.length,c$=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,u;for(let v=0;v<i.length;v++){let g=i[v];if(o===0&&a===0){if(g===zm){s.push(i.slice(l,v)),l=v+u$;continue}if(g==="/"){u=v;continue}}g==="["?o++:g==="]"?o--:g==="("?a++:g===")"&&a--}const h=s.length===0?i:i.substring(l),f=d$(h),p=f!==h,m=u&&u>l?u-l:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:m}};if(e){const i=e+zm,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},d$=t=>t.endsWith(Um)?t.substring(0,t.length-1):t.startsWith(Um)?t.substring(1):t,h$=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},f$=t=>({cache:l$(t.cacheSize),parseClassName:c$(t),sortModifiers:h$(t),...i$(t)}),p$=/\s+/,m$=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(p$);let l="";for(let u=a.length-1;u>=0;u-=1){const h=a[u],{isExternal:f,modifiers:p,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}=n(h);if(f){l=h+(l.length>0?" "+l:l);continue}let E=!!g,y=r(E?v.substring(0,g):v);if(!y){if(!E){l=h+(l.length>0?" "+l:l);continue}if(y=r(v),!y){l=h+(l.length>0?" "+l:l);continue}E=!1}const _=s(p).join(":"),x=m?_+Um:_,N=x+y;if(o.includes(N))continue;o.push(N);const O=i(y,E);for(let V=0;V<O.length;++V){const S=O[V];o.push(x+S)}l=h+(l.length>0?" "+l:l)}return l};function g$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=dI(e))&&(r&&(r+=" "),r+=n);return r}const dI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=dI(t[r]))&&(n&&(n+=" "),n+=e);return n};function y$(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((h,f)=>f(h),t());return n=f$(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=m$(l,n);return i(l,h),h}return function(){return s(g$.apply(null,arguments))}}const vt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},hI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,fI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,v$=/^\d+\/\d+$/,_$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,E$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,b$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=t=>v$.test(t),Ae=t=>!!t&&!Number.isNaN(Number(t)),ui=t=>!!t&&Number.isInteger(Number(t)),Xf=t=>t.endsWith("%")&&Ae(t.slice(0,-1)),Ir=t=>_$.test(t),T$=()=>!0,S$=t=>w$.test(t)&&!x$.test(t),pI=()=>!1,k$=t=>E$.test(t),I$=t=>b$.test(t),C$=t=>!ye(t)&&!ve(t),A$=t=>ua(t,yI,pI),ye=t=>hI.test(t),ss=t=>ua(t,vI,S$),Jf=t=>ua(t,O$,Ae),R1=t=>ua(t,mI,pI),R$=t=>ua(t,gI,I$),lc=t=>ua(t,_I,k$),ve=t=>fI.test(t),Oa=t=>ca(t,vI),P$=t=>ca(t,D$),P1=t=>ca(t,mI),N$=t=>ca(t,yI),j$=t=>ca(t,gI),uc=t=>ca(t,_I,!0),ua=(t,e,n)=>{const r=hI.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ca=(t,e,n=!1)=>{const r=fI.exec(t);return r?r[1]?e(r[1]):n:!1},mI=t=>t==="position"||t==="percentage",gI=t=>t==="image"||t==="url",yI=t=>t==="length"||t==="size"||t==="bg-size",vI=t=>t==="length",O$=t=>t==="number",D$=t=>t==="family-name",_I=t=>t==="shadow",L$=()=>{const t=vt("color"),e=vt("font"),n=vt("text"),r=vt("font-weight"),i=vt("tracking"),s=vt("leading"),o=vt("breakpoint"),a=vt("container"),l=vt("spacing"),u=vt("radius"),h=vt("shadow"),f=vt("inset-shadow"),p=vt("text-shadow"),m=vt("drop-shadow"),v=vt("blur"),g=vt("perspective"),E=vt("aspect"),y=vt("ease"),_=vt("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...N(),ve,ye],V=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],b=()=>[ve,ye,l],k=()=>[Qs,"full","auto",...b()],P=()=>[ui,"none","subgrid",ve,ye],L=()=>["auto",{span:["full",ui,ve,ye]},ui,ve,ye],A=()=>[ui,"auto",ve,ye],j=()=>["auto","min","max","fr",ve,ye],R=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],le=()=>["auto",...b()],Y=()=>[Qs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],$=()=>[t,ve,ye],B=()=>[...N(),P1,R1,{position:[ve,ye]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",N$,A$,{size:[ve,ye]}],U=()=>[Xf,Oa,ss],J=()=>["","none","full",u,ve,ye],oe=()=>["",Ae,Oa,ss],ne=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[Ae,Xf,P1,R1],me=()=>["","none",v,ve,ye],Ee=()=>["none",Ae,ve,ye],Ve=()=>["none",Ae,ve,ye],$e=()=>[Ae,ve,ye],yt=()=>[Qs,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ir],breakpoint:[Ir],color:[T$],container:[Ir],"drop-shadow":[Ir],ease:["in","out","in-out"],font:[C$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ir],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ir],shadow:[Ir],spacing:["px",Ae],text:[Ir],"text-shadow":[Ir],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qs,ye,ve,E]}],container:["container"],columns:[{columns:[Ae,ye,ve,a]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[ui,"auto",ve,ye]}],basis:[{basis:[Qs,"full","auto",a,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ae,Qs,"auto","initial","none",ye]}],grow:[{grow:["",Ae,ve,ye]}],shrink:[{shrink:["",Ae,ve,ye]}],order:[{order:[ui,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...R(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...R()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":R()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:le()}],mx:[{mx:le()}],my:[{my:le()}],ms:[{ms:le()}],me:[{me:le()}],mt:[{mt:le()}],mr:[{mr:le()}],mb:[{mb:le()}],ml:[{ml:le()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[a,"screen",...Y()]}],"min-w":[{"min-w":[a,"screen","none",...Y()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",n,Oa,ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,Jf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xf,ye]}],"font-family":[{font:[P$,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ve,ye]}],"line-clamp":[{"line-clamp":[Ae,"none",ve,Jf]}],leading:[{leading:[s,...b()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ae,"from-font","auto",ve,ss]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Ae,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ui,ve,ye],radial:["",ve,ye],conic:[ui,ve,ye]},j$,R$]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ae,ve,ye]}],"outline-w":[{outline:["",Ae,Oa,ss]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",h,uc,lc]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",f,uc,lc]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Ae,ss]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",p,uc,lc]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Ae,ve,ye]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ae]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Ae]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:me()}],brightness:[{brightness:[Ae,ve,ye]}],contrast:[{contrast:[Ae,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",m,uc,lc]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Ae,ve,ye]}],"hue-rotate":[{"hue-rotate":[Ae,ve,ye]}],invert:[{invert:["",Ae,ve,ye]}],saturate:[{saturate:[Ae,ve,ye]}],sepia:[{sepia:["",Ae,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[Ae,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Ae,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ae,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ae,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Ae,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Ae,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Ae,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Ae,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ae,"initial",ve,ye]}],ease:[{ease:["linear","initial",y,ve,ye]}],delay:[{delay:[Ae,ve,ye]}],animate:[{animate:["none",_,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,ve,ye]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:Ve()}],"scale-x":[{"scale-x":Ve()}],"scale-y":[{"scale-y":Ve()}],"scale-z":[{"scale-z":Ve()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:yt()}],"translate-x":[{"translate-x":yt()}],"translate-y":[{"translate-y":yt()}],"translate-z":[{"translate-z":yt()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Ae,Oa,ss,Jf]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},M$=y$(L$);function ti(...t){return M$(BS(t))}const V$=uI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),It=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?JF:"button";return d.jsx(o,{className:ti(V$({variant:e,size:n,className:t})),ref:s,...i})});It.displayName="Button";const F$=uI("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function cs({className:t,variant:e,...n}){return d.jsx("div",{className:ti(F$({variant:e}),t),...n})}function Ga({children:t,className:e=""}){return d.jsx("div",{className:`bg-white border border-gray-200 rounded-xl p-6 shadow-sm ${e}`,children:t})}function Zf(t){if(!t)return null;if(typeof t=="object"&&t.seconds)return new Date(t.seconds*1e3);if(t instanceof Date)return t;const e=new Date(t);return isNaN(e.getTime())?null:e}function $$(t,e){const n=new Date(t.getTime());return n.setDate(n.getDate()+e),n}function U$(t){if(!t)return null;const e=t.getTime()-Date.now();if(e<=0)return"0h 0m";const n=Math.floor(e/(1e3*60*60)),r=Math.floor(e/(1e3*60)%60);return`${n}h ${r}m`}function z$(t){if(!t)return 0;const e=t.getTime()-Date.now();return Math.max(0,Math.ceil(e/864e5))}function B$(){const[t,e]=T.useState(null),[n,r]=T.useState(!1),i=$n();T.useEffect(()=>{const x=Zo(Dn,async N=>{if(!N){i("/login");return}try{await N.reload();const O=N.emailVerified===!0;if(r(O),O)try{await Vy(Qr(vn,"users",N.uid),{emailVerified:!0})}catch(S){console.warn("Could not update emailVerified flag:",S)}const V=await My(Qr(vn,"users",N.uid));V.exists()?e(V.data()):console.warn("User data not found.")}catch(O){console.error("Dashboard init error:",O)}});return()=>x()},[i]);const s=async()=>{try{const x=Dn.currentUser&&Dn.currentUser.uid;if(!x)throw new Error("User not authenticated");const N=await fetch("/api/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:x})});if(!N.ok){const V=await N.text();throw new Error("Server error: "+V)}const O=await N.json();window.location.href=O.url}catch(x){console.error("Checkout redirect failed:",x),alert("Something went wrong. Please try again.")}};if(!t)return d.jsx("div",{className:"mx-auto max-w-7xl px-4 py-12",children:d.jsx(Ga,{className:"rounded-2xl border",children:d.jsx("div",{className:"p-6",children:d.jsx("p",{children:"Checking access"})})})});const o=new Date,a=Zf(t.trialExpiresAt),l=a?o<a:!1,u=!!t.hasPaid,h=Zf(t.paidAt),f=Zf(t.subscriptionEndsAt)||(h?$$(h,365):null);let p="free_trial_expired";u&&f?p=o<=f?"paid_active":"paid_cancelled":l&&(p="free_trial_active");const m=U$(a),v=f?z$(f):null,g=[{label:"Sessions Completed",value:p==="paid_active"||p==="free_trial_active"?t.sessionsCompleted||12:2,Icon:$F,color:"text-primary"},{label:"Questions Practiced",value:p==="paid_active"||p==="free_trial_active"?t.questionsPracticed||150:10,Icon:cF,color:"text-medical-teal"},{label:"Average Score",value:String(t.averageScore||78)+"%",Icon:DF,color:"text-medical-blue"}],E=!(p==="paid_active"||p==="free_trial_active"),y=[{id:1,type:"Behavioral",questions:8,score:85,date:"2025-08-31"},{id:2,type:"Technical",questions:6,score:72,date:"2025-08-29"},{id:3,type:"Situational",questions:10,score:90,date:"2025-08-27"}];if(!n)return d.jsx("div",{className:"mx-auto max-w-3xl px-4 py-12 space-y-6",children:d.jsx(Ga,{className:"rounded-2xl border-2 border-yellow-400",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-yellow-800",children:"Verify your email to unlock the app"}),d.jsx("p",{className:"mt-1 text-yellow-900",children:"Weve sent a verification link to your inbox. Once verified, refresh this page."}),d.jsx("p",{className:"mt-2 text-sm text-yellow-900",children:"Tip: check your spam folder if you dont see it."})]})})});const _=(()=>{switch(p){case"free_trial_active":return{text:`Free Trial${m?` (${m})`:""}`,Icon:Yf,color:"text-warning",bg:"bg-warning/10",border:"border-warning/20"};case"free_trial_expired":return{text:"Trial Expired",Icon:T1,color:"text-destructive",bg:"bg-destructive/10",border:"border-destructive/20"};case"paid_active":return{text:`Premium${v!=null?` (${v} days left)`:""}`,Icon:x1,color:"text-primary",bg:"bg-primary/10",border:"border-primary/20"};case"paid_cancelled":return{text:"Subscription Ended",Icon:E1,color:"text-orange-600",bg:"bg-orange-50",border:"border-orange-200"};default:return{text:"Free Trial",Icon:Yf,color:"text-warning",bg:"bg-warning/10",border:"border-warning/20"}}})();return d.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-0 pb-10",children:[d.jsx("header",{className:"border-b border-border bg-card",children:d.jsx("div",{className:"container mx-auto px-0 md:px-4 py-6",children:d.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:t&&t.name?"Welcome, "+t.name:"Welcome"}),d.jsx("p",{className:"mt-2 text-muted-foreground",children:p==="free_trial_expired"?"Upgrade to continue your interview preparation journey.":p==="paid_cancelled"?"Your subscription has ended. Reactivate to continue your progress.":"Continue your interview preparation journey."})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("span",{className:`hidden sm:inline-flex items-center gap-2 rounded-full border px-3 py-1 ${_.bg} ${_.border}`,children:[d.jsx(_.Icon,{className:`h-4 w-4 ${_.color}`}),d.jsx("span",{className:`text-sm font-medium ${_.color}`,children:_.text})]}),d.jsx(It,{className:"bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-60 disabled:pointer-events-none",onClick:()=>{if(E)return;const x=localStorage.getItem("lastProfession");i(x?"/"+x+"/setup":"/setup")},disabled:E,children:d.jsxs("span",{className:"inline-flex items-center",children:[d.jsx(b1,{className:"h-4 w-4 mr-2"}),E?"Upgrade to Practice":"Start Practice"]})})]})]})})}),d.jsx("section",{className:"mt-8 grid grid-cols-1 gap-4 md:grid-cols-3",children:g.map(x=>d.jsx(Ga,{className:"rounded-2xl border bg-card hover:shadow-md transition",children:d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-muted-foreground tracking-wide",children:x.label}),d.jsx("p",{className:"mt-2 text-3xl font-bold text-foreground",children:x.value})]}),x.Icon&&d.jsx(x.Icon,{className:`h-8 w-8 ${x.color}`})]})})},x.label))}),d.jsx("section",{className:"mt-10",children:d.jsx(Ga,{className:"rounded-2xl border bg-card",children:d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("h2",{className:"text-base font-semibold text-foreground",children:"Recent Practice Sessions"})}),d.jsx("div",{className:"mt-4",children:E?d.jsxs("div",{className:"flex flex-col items-center justify-center text-center border border-border rounded-xl bg-background p-10",children:[d.jsx(aI,{className:"h-12 w-12 text-muted-foreground mb-3"}),d.jsx("h3",{className:"text-base font-semibold text-foreground",children:p==="paid_cancelled"?"Access Ended":"Session History Locked"}),d.jsx("p",{className:"mt-2 text-sm text-muted-foreground max-w-md",children:p==="paid_cancelled"?"Your subscription has ended. Reactivate to access your complete history and analytics.":"Upgrade to access your complete practice history and detailed performance analytics."}),d.jsx("div",{className:"mt-5",children:d.jsx(It,{onClick:s,className:p==="paid_cancelled"?"bg-orange-600 text-white hover:bg-orange-700":"bg-primary text-primary-foreground",children:p==="paid_cancelled"?"Reactivate Access":"Upgrade to Unlock"})})]}):y.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center text-center border border-border rounded-xl bg-background p-10",children:[d.jsx("h3",{className:"text-base font-semibold text-foreground",children:"No sessions yet"}),d.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start your first timed practice to see it here."}),d.jsx("div",{className:"mt-4",children:d.jsx(It,{onClick:()=>{const x=localStorage.getItem("lastProfession");i(x?"/"+x+"/setup":"/setup")},className:"bg-primary text-primary-foreground hover:bg-primary/90",children:d.jsxs("span",{className:"inline-flex items-center",children:[d.jsx(b1,{className:"h-4 w-4 mr-2"}),"Start Practice"]})})})]}):d.jsx("div",{className:"space-y-3",children:y.map(x=>d.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border bg-background p-4 hover:bg-muted/40 transition",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-foreground","aria-hidden":!0}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-foreground",children:[x.type," Questions"]}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:[x.questions," questions  ",x.date]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs(cs,{variant:x.score>=80?"default":"secondary",children:[x.score,"%"]}),d.jsx(It,{variant:"outline",children:"Review"})]})]},x.id))})})]})})}),d.jsxs("section",{className:"mt-8 mb-8",children:[p==="free_trial_expired"&&d.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(T1,{className:"h-5 w-5 text-destructive"}),d.jsx("span",{className:"font-medium text-destructive",children:"Your free trial has expired"})]}),d.jsx(It,{size:"sm",className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:s,children:"Upgrade Now"})]})}),p==="paid_cancelled"&&d.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(E1,{className:"h-5 w-5 text-orange-600"}),d.jsx("span",{className:"font-medium text-orange-800",children:"Subscription Ended  Reactivate your access"})]}),d.jsx(It,{size:"sm",className:"bg-orange-600 text-white hover:bg-orange-700",onClick:s,children:"Reactivate"})]})}),p==="free_trial_active"&&d.jsx("div",{className:"p-3 bg-warning/10 border border-warning/20 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Yf,{className:"h-5 w-5 text-warning"}),d.jsxs("span",{className:"font-medium text-foreground",children:["Your free trial ends in ",m||"0h 0m"]})]}),d.jsx(It,{size:"sm",className:"bg-warning text-warning-foreground hover:bg-warning/90",onClick:s,children:"Upgrade Now"})]})}),p==="paid_active"&&d.jsx("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(x1,{className:"h-5 w-5 text-primary"}),d.jsx("span",{className:"font-medium text-foreground",children:"Premium Features Active"})]}),d.jsx("div",{className:"inline-flex items-center gap-2 rounded-full border border-primary/20 bg-white px-3 py-1",children:d.jsx("span",{className:"text-xs text-primary",children:v!=null?`${v} days remaining`:"Active"})})]})})]})]})}function H$(){const[t,e]=T.useState("random"),[n,r]=T.useState("video"),[i,s]=T.useState(!0),[o,a]=T.useState(5),l=$n(),[u,h]=T.useState([]),[f,p]=T.useState(""),[m,v]=T.useState([]),{profession:g}=nh(),y=(N=>N?{dental:"Dental",medical:"Medical",pt:"Physical Therapy",pa:"Physician Assistant",pharmacy:"Pharmacy",ot:"Occupational Therapy",veterinary:"Veterinary Medicine"}[N.toLowerCase()]??null:null)(g),_=()=>{const N={profession:y||"Dental",mode:n,big3:i,questionCount:o,interviewType:t};t==="custom"&&(N.questions=u,N.big3=!1,N.questionCount=u.length,N.isCustom=!0);const O=`/${g||"dental"}/session`;l(O,{state:{config:N}})};T.useEffect(()=>{(async()=>{const V=(await kh($l(vn,"questions"))).docs.map(S=>({id:S.id,...S.data()}));v(V)})()},[]);const x=t==="custom"&&y?m.filter(N=>{var O;return(O=N.mainTags)==null?void 0:O.includes(y)}):m;return d.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interview Setup"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"interviewType",value:"random",checked:t==="random",onChange:N=>e(N.target.value),className:"mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:"Standard"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Questions are generated as you go for a realistic, interview-day experience."})]})]}),d.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"interviewType",value:"custom",checked:t==="custom",onChange:N=>e(N.target.value),className:"mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:"Custom"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Choose or create specific questions to target areas you want to practice."})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recording Mode"}),d.jsxs("select",{value:n,onChange:N=>r(N.target.value),className:"w-full p-2 border rounded-lg",children:[d.jsx("option",{value:"video",children:"Video"}),d.jsx("option",{value:"audio",children:"Audio Only"})]})]}),t==="random"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",checked:i,onChange:N=>s(N.target.checked)}),d.jsxs("span",{className:"flex items-center space-x-1 text-sm text-gray-800",children:[d.jsx("span",{children:"Include Big 3 questions?"}),d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("span",{className:"text-black-500 cursor-pointer peer",tabIndex:0,children:""}),d.jsx("div",{className:"absolute left-6 top-0 w-64 p-2 bg-white border border-gray-300 rounded shadow-lg text-sm text-gray-700 opacity-0 peer-hover:opacity-100 peer-focus:opacity-100 transition-opacity z-10 pointer-events-none",children:'The "Big 3" are the three interview questions that are guaranteed to show up in every interview: Tell me about yourself, Why this profession, and Why our school.'})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Questions"}),d.jsx("input",{type:"number",min:"1",max:"10",value:o,onChange:N=>a(Number(N.target.value)),className:"w-full p-2 border rounded-lg"})]})]}),t==="custom"&&d.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Custom Interview Builder"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:f,onChange:N=>p(N.target.value),placeholder:"Type a custom question...",className:"flex-1 p-2 border border-gray-300 rounded"}),d.jsx("button",{onClick:()=>{f.trim()&&(h([...u,{text:f.trim()}]),p(""))},className:"bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700",children:"Add"})]}),u.length>0&&d.jsxs("div",{className:"mt-2 space-y-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Questions:"}),d.jsx("ul",{className:"list-disc list-inside text-sm text-gray-800 space-y-1",children:u.map((N,O)=>d.jsxs("li",{className:"flex justify-between items-center",children:[N.text,d.jsx("button",{onClick:()=>{const V=[...u];V.splice(O,1),h(V)},className:"text-red-500 text-xs hover:underline",children:"Remove"})]},O))})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Browse Question Bank"}),d.jsx("div",{className:"max-h-64 overflow-y-auto border rounded-lg p-2 space-y-2 bg-white",children:x.map(N=>d.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[d.jsx("span",{className:"text-sm text-gray-800",children:N.text}),d.jsx("button",{onClick:()=>{u.some(O=>O.text===N.text)||h([...u,{text:N.text}])},className:"text-blue-600 text-xs hover:underline",children:"Add"})]},N.id))})]})]}),d.jsx("div",{children:d.jsx("button",{onClick:_,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition",children:"Start Interview"})})]})]})}let Vc=null;function W$(){return Vc&&Vc.getTracks().some(e=>e.readyState==="live")?Vc:null}function q$(){Vc=null}const N1=async()=>{var t;if(!((t=navigator.mediaDevices)!=null&&t.getUserMedia))throw new Error("Browser does not support getUserMedia.");try{return await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})}catch(e){throw console.error("Error accessing media devices:",e),e.name==="NotAllowedError"?new Error("Camera and microphone access was denied."):e.name==="NotFoundError"?new Error("No camera or microphone found."):new Error("Unable to access media devices.")}},ws=T.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ti("rounded-xl border bg-card text-card-foreground shadow",t),...e}));ws.displayName="Card";const Ld=T.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ti("flex flex-col space-y-1.5 p-6",t),...e}));Ld.displayName="CardHeader";const Md=T.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ti("font-semibold leading-none tracking-tight",t),...e}));Md.displayName="CardTitle";const G$=T.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ti("text-sm text-muted-foreground",t),...e}));G$.displayName="CardDescription";const xs=T.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ti("p-6 pt-0",t),...e}));xs.displayName="CardContent";const K$=T.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ti("flex items-center p-6 pt-0",t),...e}));K$.displayName="CardFooter";function Q$(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];const u=f=>{var y;const{scope:p,children:m,...v}=f,g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,E=T.useMemo(()=>v,Object.values(v));return d.jsx(g.Provider,{value:E,children:m})};u.displayName=s+"Provider";function h(f,p){var g;const m=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,v=T.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,h]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Y$(i,...e)]}function Y$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var X$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wI=X$.reduce((t,e)=>{const n=lI(`Primitive.${e}`),r=T.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),iv="Progress",sv=100,[J$,R8]=Q$(iv),[Z$,e8]=J$(iv),xI=T.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=t8,...o}=t;(i||i===0)&&!j1(i)&&console.error(n8(`${i}`,"Progress"));const a=j1(i)?i:sv;r!==null&&!O1(r,a)&&console.error(r8(`${r}`,"Progress"));const l=O1(r,a)?r:null,u=Vd(l)?s(l,a):void 0;return d.jsx(Z$,{scope:n,value:l,max:a,children:d.jsx(wI.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Vd(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":TI(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});xI.displayName=iv;var EI="ProgressIndicator",bI=T.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=e8(EI,n);return d.jsx(wI.div,{"data-state":TI(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});bI.displayName=EI;function t8(t,e){return`${Math.round(t/e*100)}%`}function TI(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Vd(t){return typeof t=="number"}function j1(t){return Vd(t)&&!isNaN(t)&&t>0}function O1(t,e){return Vd(t)&&!isNaN(t)&&t<=e&&t>=0}function n8(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${sv}\`.`}function r8(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${sv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var SI=xI,i8=bI;const dl=T.forwardRef(({className:t,value:e,...n},r)=>d.jsx(SI,{ref:r,className:ti("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:d.jsx(i8,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));dl.displayName=SI.displayName;function s8(){const t=nn(),e=$n(),{config:n={}}=t.state||{},r=n.mode==="video",[i,s]=T.useState(null),[o,a]=T.useState([]),[l,u]=T.useState(0),[h,f]=T.useState(!1),[p,m]=T.useState([]),[v,g]=T.useState(""),[E,y]=T.useState(!1),[_,x]=T.useState(0),[N,O]=T.useState(0),V=T.useRef(null),S=T.useRef(null),b=T.useRef([]),k=T.useRef([]),P=T.useRef(null),L=T.useRef(null);T.useEffect(()=>{if(!h)return;const B=setInterval(()=>x(K=>K+1),1e3);return()=>clearInterval(B)},[h]),T.useEffect(()=>{const B=setInterval(()=>O(K=>K+1),1e3);return()=>clearInterval(B)},[]),T.useEffect(()=>{(async()=>{if(n.questions&&Array.isArray(n.questions)){a(n.questions);return}const z=(await kh(yL($l(vn,"questions"),vL("mainTags","array-contains",n.profession)))).docs.map(ie=>({id:ie.id,...ie.data()}));let U=[];n.big3&&(U=z.filter(ie=>ie.big3===!0).sort((ie,me)=>(ie.big3Order||0)-(me.big3Order||0)));const J=new Set(U.map(ie=>ie.id)),oe=z.filter(ie=>n.big3?!J.has(ie.id):!ie.big3),ne=Math.max((n.questionCount||0)-U.length,0),Ie=[...oe].sort(()=>.5-Math.random()).slice(0,ne);a([...U,...Ie].slice(0,n.questionCount))})()},[n]),T.useEffect(()=>{if(!r)return;const B=W$(),K=z=>{if(s(z),P.current){const U=P.current;U.srcObject=z,U.muted=!0,U.playsInline=!0;const J=()=>U.play().catch(()=>{});U.readyState>=2?J():U.onloadedmetadata=J}};return B&&B.getTracks().some(z=>z.readyState==="live")?K(B):(async()=>{try{const z=await N1();K(z)}catch(z){console.error("Stream request error:",z),g((z==null?void 0:z.message)||" Unable to access microphone/camera.")}})(),()=>{P.current&&(P.current.srcObject=null)}},[r]);const A=!!p[l]&&!p[l].skipped;T.useEffect(()=>{if(!(r&&(!A||h))||!i||!P.current)return;const K=P.current;K.srcObject!==i&&(K.srcObject=i),K.muted=!0,K.playsInline=!0;const z=()=>K.play().catch(()=>{});K.readyState>=2?z():K.onloadedmetadata=z},[r,i,h,A,l]),T.useEffect(()=>()=>{L.current&&clearTimeout(L.current),P.current&&(P.current.srcObject=null),q$()},[]);const j=async()=>{var B,K;try{g(""),y(!1);let z=i;z||(z=r?await N1():await navigator.mediaDevices.getUserMedia({audio:!0}),s(z),r&&P.current&&(P.current.srcObject=z,(K=(B=P.current).play)==null||K.call(B).catch(()=>{})));const U=[],J=new MediaRecorder(z);J.ondataavailable=me=>{me.data.size>0&&U.push(me.data)},V.current=J,b.current=U,J.start();const oe=z.getAudioTracks(),ne=new MediaStream(oe),Ie=[],ie=new MediaRecorder(ne);ie.ondataavailable=me=>{me.data.size>0&&Ie.push(me.data)},S.current=ie,k.current=Ie,ie.start(),L.current=setTimeout(()=>{y(!0),R()},3*60*1e3),x(0),f(!0)}catch(z){console.error(z),g((z==null?void 0:z.message)||"Unable to access microphone/camera.")}},R=()=>{if(!(!V.current||!S.current))return new Promise(B=>{let K=0;const z=()=>{K+=1,K===2&&B()};V.current.onstop=z,S.current.onstop=z,V.current.stop(),S.current.stop()}).then(()=>{const B=new Blob(b.current,{type:"video/webm"}),K=new Blob(k.current,{type:"audio/webm"}),z=r?URL.createObjectURL(B):null,U=URL.createObjectURL(K),J=o[l];m(oe=>{const ne=[...oe];return ne[l]={question:J.text,tip:J.tip||"",videoBlob:r?B:null,videoUrl:z,audioBlob:K,audioUrl:U,mode:n.mode,skipped:!1},ne}),f(!1),r||i&&(i.getTracks().forEach(oe=>oe.stop()),s(null)),V.current=null,S.current=null,L.current&&(clearTimeout(L.current),L.current=null)})},G=B=>{if(y(!1),l+1<o.length){u(U=>U+1);return}const z=(B??p).map(U=>({question:U.question,tip:U.tip||"",skipped:!!U.skipped,mode:U.mode,videoUrl:U.videoUrl||null,audioUrl:U.audioUrl||null}));e("../summary",{state:{recordings:z,profession:n.profession,totalSessionTime:N}})},le=()=>{if(!!p[l]&&!p[l].skipped)return;const K={question:o[l].text,skipped:!0,videoBlob:null,audioBlob:null,videoUrl:null,mode:n.mode,tip:o[l].tip||""},z=[...p];z[l]=K,m(z),G(z)},Y=p.filter(B=>!!B&&(B.skipped||B.audioUrl||B.videoUrl)).length,$=o.length?Math.round(Y/o.length*100):0;return o.length?d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("header",{className:"border-b border-border bg-card",children:d.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(It,{variant:"ghost",size:"lg",onClick:()=>e("../dashboard"),className:"text-muted-foreground hover:text-foreground",children:[d.jsx(Vm,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),d.jsxs(cs,{variant:"outline",children:["Question ",l+1," of ",o.length]})]}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[d.jsx(Fm,{className:"h-4 w-4"}),d.jsxs("span",{children:[String(Math.floor(N/60)),":",String(N%60).padStart(2,"0")]})]})]})}),d.jsxs("main",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h2",{className:"text-lg font-medium",children:"Session Progress"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[$,"% Complete"]})]}),d.jsx(dl,{value:$,className:"h-2"})]}),d.jsxs(ws,{className:"mb-6",children:[d.jsx(Ld,{children:d.jsxs(Md,{className:"text-xl",children:["Question ",l+1]})}),d.jsx(xs,{children:d.jsx("p",{className:"text-lg text-foreground leading-relaxed",children:o[l].text})})]}),d.jsx(ws,{className:"mb-6",children:d.jsx(xs,{className:"p-6",children:d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-4",children:[r&&(!A||h)&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm font-medium",children:"Camera Preview"}),d.jsx("div",{className:"w-full rounded-lg border bg-black/5",children:d.jsx("div",{className:"relative w-full",style:{aspectRatio:n.videoAspectRatio||"16 / 9"},children:d.jsx("video",{ref:P,autoPlay:!0,muted:!0,playsInline:!0,className:"absolute inset-0 h-full w-full rounded object-cover"})})})]}),!h&&A&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm font-medium",children:"Your Answer"}),p[l].videoUrl?d.jsx("div",{className:"relative w-full",style:{aspectRatio:n.videoAspectRatio||"16 / 9"},children:d.jsx("video",{controls:!0,className:"absolute inset-0 h-full w-full rounded object-cover",src:p[l].videoUrl,preload:"metadata",onLoadedMetadata:B=>{const K=B.currentTarget;if(!isFinite(K.duration)||isNaN(K.duration))return;const z=()=>{K.removeEventListener("timeupdate",z),K.currentTime=0};K.currentTime=Number.MAX_SAFE_INTEGER,K.addEventListener("timeupdate",z)}})}):d.jsx("audio",{controls:!0,src:p[l].audioUrl,className:"w-full rounded"})]})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 text-center",children:[v&&d.jsx("p",{className:"text-sm text-red-600 font-medium",children:v}),!h&&!A&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-lg font-medium",children:"Ready to record your answer?"}),d.jsx("p",{className:"text-muted-foreground",children:"Take your time to think, then click record when ready."}),d.jsx(It,{size:"lg",className:"w-24 h-24 rounded-full",onClick:j,children:d.jsx(AF,{className:"h-8 w-8"})})]}),h&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-lg font-medium",children:"Recording"}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-500",children:[d.jsx("span",{className:"inline-block h-2 w-2 animate-pulse rounded-full bg-red-500"}),d.jsx("span",{children:"Live"})]}),d.jsx(It,{size:"lg",variant:"destructive",className:"w-24 h-24 rounded-full",onClick:R,children:d.jsx(IF,{className:"h-8 w-8"})})]}),A&&!h&&d.jsx("p",{className:"text-lg text-muted-foreground",children:"Answer saved. Continue to the next question when ready."}),E&&d.jsx("p",{className:"text-lg text-red-600",children:"3-minute limit reached. Your response was saved."})]})]})})}),d.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[!h&&!A&&d.jsxs(It,{variant:"outline",onClick:le,children:[d.jsx(NF,{className:"mr-2 h-4 w-4"})," Skip"]}),!h&&A&&d.jsx(It,{onClick:()=>G(),children:l===o.length-1?d.jsxs(d.Fragment,{children:[d.jsx(pF,{className:"mr-2 h-4 w-4"})," Complete Session"]}):"Next Question"})]})]})]}):d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("header",{className:"border-b border-border bg-card",children:d.jsx("div",{className:"container mx-auto px-4 py-4",children:d.jsxs(It,{variant:"ghost",size:"sm",onClick:()=>e(-1),children:[d.jsx(Vm,{className:"h-4 w-4 mr-2"})," Back"]})})}),d.jsx("main",{className:"container mx-auto px-4 py-10",children:d.jsx(ws,{children:d.jsx(xs,{className:"p-6 text-center",children:"Loading questions"})})})]})}async function o8(t){console.log(" Uploading audioBlob:",t),console.log(" Type:",t==null?void 0:t.type),console.log(" Size:",t==null?void 0:t.size),console.log(" Is instance of Blob:",t instanceof Blob);const e=new FormData;e.append("file",t,"audio.webm"),e.append("model","whisper-1");try{const n=await Dn.currentUser.getIdToken(),r=await fetch("/api/transcribe",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:e});if(r.status===403){const{error:s}=await r.json();return{limitReached:!0,error:s}}if(!r.ok){const s=await r.json();throw console.error(" Whisper API (backend) error:",s),new Error(s.error||"Failed to transcribe")}return{transcript:(await r.json()).text,limitReached:!1}}catch(n){throw console.error(" Whisper API fetch error:",n.message),n}}async function a8(t,e,n){try{const r=await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t,transcript:e,profession:n})}),i=await r.json();if(!r.ok)throw console.error(" Feedback API error:",i),new Error(i.error||"Error generating feedback");return i.feedback}catch(r){throw console.error(" Feedback fetch error:",r.message),r}}function cc(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var kI={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(u,h){if(!i[u]){if(!r[u]){var f=typeof cc=="function"&&cc;if(!h&&f)return f(u,!0);if(a)return a(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[u]={exports:{}};r[u][0].call(m.exports,function(v){var g=r[u][1][v];return o(g||v)},m,m.exports,n,r,i,s)}return i[u].exports}for(var a=typeof cc=="function"&&cc,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,h,f,p,m,v,g,E=[],y=0,_=l.length,x=_,N=s.getTypeOf(l)!=="string";y<l.length;)x=_-y,f=N?(u=l[y++],h=y<_?l[y++]:0,y<_?l[y++]:0):(u=l.charCodeAt(y++),h=y<_?l.charCodeAt(y++):0,y<_?l.charCodeAt(y++):0),p=u>>2,m=(3&u)<<4|h>>4,v=1<x?(15&h)<<2|f>>6:64,g=2<x?63&f:64,E.push(a.charAt(p)+a.charAt(m)+a.charAt(v)+a.charAt(g));return E.join("")},i.decode=function(l){var u,h,f,p,m,v,g=0,E=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var _,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&x--,l.charAt(l.length-2)===a.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=o.uint8array?new Uint8Array(0|x):new Array(0|x);g<l.length;)u=a.indexOf(l.charAt(g++))<<2|(p=a.indexOf(l.charAt(g++)))>>4,h=(15&p)<<4|(m=a.indexOf(l.charAt(g++)))>>2,f=(3&m)<<6|(v=a.indexOf(l.charAt(g++))),_[E++]=u,m!==64&&(_[E++]=h),v!==64&&(_[E++]=f);return _}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(h,f,p,m,v){this.compressedSize=h,this.uncompressedSize=f,this.crc32=p,this.compression=m,this.compressedContent=v}u.prototype={getContentWorker:function(){var h=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return h.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,f,p){return h.pipe(new a).pipe(new l("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,h,f,p){var m=o,v=p+f;u^=-1;for(var g=p;g<v;g++)u=u>>>8^m[255&(u^h[g])];return-1^u}(0|l,a,a.length,0):function(u,h,f,p){var m=o,v=p+f;u^=-1;for(var g=p;g<v;g++)u=u>>>8^m[255&(u^h.charCodeAt(g))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=s?"uint8array":"array";function h(f,p){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}i.magic="\b\0",a.inherits(h,l),h.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,f.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},i.compressWorker=function(f){return new h("Deflate",f)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(m,v){var g,E="";for(g=0;g<v;g++)E+=String.fromCharCode(255&m),m>>>=8;return E}function o(m,v,g,E,y,_){var x,N,O=m.file,V=m.compression,S=_!==u.utf8encode,b=a.transformTo("string",_(O.name)),k=a.transformTo("string",u.utf8encode(O.name)),P=O.comment,L=a.transformTo("string",_(P)),A=a.transformTo("string",u.utf8encode(P)),j=k.length!==O.name.length,R=A.length!==P.length,G="",le="",Y="",$=O.dir,B=O.date,K={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(K.crc32=m.crc32,K.compressedSize=m.compressedSize,K.uncompressedSize=m.uncompressedSize);var z=0;v&&(z|=8),S||!j&&!R||(z|=2048);var U=0,J=0;$&&(U|=16),y==="UNIX"?(J=798,U|=function(ne,Ie){var ie=ne;return ne||(ie=Ie?16893:33204),(65535&ie)<<16}(O.unixPermissions,$)):(J=20,U|=function(ne){return 63&(ne||0)}(O.dosPermissions)),x=B.getUTCHours(),x<<=6,x|=B.getUTCMinutes(),x<<=5,x|=B.getUTCSeconds()/2,N=B.getUTCFullYear()-1980,N<<=4,N|=B.getUTCMonth()+1,N<<=5,N|=B.getUTCDate(),j&&(le=s(1,1)+s(h(b),4)+k,G+="up"+s(le.length,2)+le),R&&(Y=s(1,1)+s(h(L),4)+A,G+="uc"+s(Y.length,2)+Y);var oe="";return oe+=`
\0`,oe+=s(z,2),oe+=V.magic,oe+=s(x,2),oe+=s(N,2),oe+=s(K.crc32,4),oe+=s(K.compressedSize,4),oe+=s(K.uncompressedSize,4),oe+=s(b.length,2),oe+=s(G.length,2),{fileRecord:f.LOCAL_FILE_HEADER+oe+b+G,dirRecord:f.CENTRAL_FILE_HEADER+s(J,2)+oe+s(L.length,2)+"\0\0\0\0"+s(U,4)+s(E,4)+b+G+L}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),h=n("../crc32"),f=n("../signature");function p(m,v,g,E){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=E,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,l),p.prototype.push=function(m){var v=m.meta.percent||0,g=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-E-1))/g:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var v=this.streamFiles&&!m.file.dir;if(v){var g=o(m,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var v=this.streamFiles&&!m.file.dir,g=o(m,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:function(E){return f.DATA_DESCRIPTOR+s(E.crc32,4)+s(E.compressedSize,4)+s(E.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-m,E=function(y,_,x,N,O){var V=a.transformTo("string",O(N));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(y,2)+s(y,2)+s(_,4)+s(x,4)+s(V.length,2)+V}(this.dirRecords.length,g,m,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var v=this;return m.on("data",function(g){v.processChunk(g)}),m.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),m.on("error",function(g){v.error(g)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var v=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var g=0;g<v.length;g++)try{v[g].error(m)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,v=0;v<m.length;v++)m[v].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var h=new o(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{a.forEach(function(p,m){f++;var v=function(_,x){var N=_||x,O=s[N];if(!O)throw new Error(N+" is not a valid compression method !");return O}(m.options.compression,l.compression),g=m.options.compressionOptions||l.compressionOptions||{},E=m.dir,y=m.date;m._compressWorker(v,g).withStreamInfo("file",{name:p,dir:E,date:y,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(h)}),h.entriesCount=f}catch(p){h.error(p)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function f(p){return new o.Promise(function(m,v){var g=p.decompressed.getContentWorker().pipe(new u);g.on("error",function(E){v(E)}).on("end",function(){g.streamInfo.crc32!==p.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var v=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),h.isNode&&h.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(g){var E=new l(m);return E.load(g),E}).then(function(g){var E=[o.Promise.resolve(g)],y=g.files;if(m.checkCRC32)for(var _=0;_<y.length;_++)E.push(f(y[_]));return o.Promise.all(E)}).then(function(g){for(var E=g.shift(),y=E.files,_=0;_<y.length;_++){var x=y[_],N=x.fileNameStr,O=s.resolve(x.fileNameStr);v.file(O,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:m.createFolders}),x.dir||(v.file(O).unsafeOriginalName=N)}return E.zipComment.length&&(v.comment=E.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var h=this;a.on("data",function(f,p){h.push(f)||h._helper.pause(),u&&u(p)}).on("error",function(f){h.emit("error",f)}).on("end",function(){h.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(O,V,S){var b,k=a.getTypeOf(V),P=a.extend(S||{},h);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(O=y(O)),P.createFolders&&(b=E(O))&&_.call(this,b,!0);var L=k==="string"&&P.binary===!1&&P.base64===!1;S&&S.binary!==void 0||(P.binary=!L),(V instanceof f&&V.uncompressedSize===0||P.dir||!V||V.length===0)&&(P.base64=!1,P.binary=!0,V="",P.compression="STORE",k="string");var A=null;A=V instanceof f||V instanceof l?V:v.isNode&&v.isStream(V)?new g(O,V):a.prepareContent(O,V,P.binary,P.optimizedBinaryString,P.base64);var j=new p(O,A,P);this.files[O]=j}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),h=n("./defaults"),f=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),v=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),E=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var V=O.lastIndexOf("/");return 0<V?O.substring(0,V):""},y=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},_=function(O,V){return V=V!==void 0?V:h.createFolders,O=y(O),this.files[O]||s.call(this,O,null,{dir:!0,createFolders:V}),this.files[O]};function x(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var V,S,b;for(V in this.files)b=this.files[V],(S=V.slice(this.root.length,V.length))&&V.slice(0,this.root.length)===this.root&&O(S,b)},filter:function(O){var V=[];return this.forEach(function(S,b){O(S,b)&&V.push(b)}),V},file:function(O,V,S){if(arguments.length!==1)return O=this.root+O,s.call(this,O,V,S),this;if(x(O)){var b=O;return this.filter(function(P,L){return!L.dir&&b.test(P)})}var k=this.files[this.root+O];return k&&!k.dir?k:null},folder:function(O){if(!O)return this;if(x(O))return this.filter(function(k,P){return P.dir&&O.test(k)});var V=this.root+O,S=_.call(this,V),b=this.clone();return b.root=S.name,b},remove:function(O){O=this.root+O;var V=this.files[O];if(V||(O.slice(-1)!=="/"&&(O+="/"),V=this.files[O]),V&&!V.dir)delete this.files[O];else for(var S=this.filter(function(k,P){return P.name.slice(0,O.length)===O}),b=0;b<S.length;b++)delete this.files[S[b].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var V,S={};try{if((S=a.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");a.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var b=S.comment||this.comment||"";V=m.generateWorker(this,S,b)}catch(k){(V=new l("error")).error(k)}return new u(V,S.type||"string",S.mimeType)},generateAsync:function(O,V){return this.generateInternalStream(O).accumulate(V)},generateNodeStream:function(O,V){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(V)}};r.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),h=a.charCodeAt(2),f=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===u&&this.data[p+2]===h&&this.data[p+3]===f)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),h=a.charCodeAt(2),f=a.charCodeAt(3),p=this.readData(4);return l===p[0]&&u===p[1]&&h===p[2]&&f===p[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");r.exports=function(f){var p=s.getTypeOf(f);return s.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new u(f):o.uint8array?new h(s.transformTo("uint8array",f)):new a(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=s.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),h=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(v,g){return new h.Promise(function(E,y){var _=[],x=v._internalType,N=v._outputType,O=v._mimeType;v.on("data",function(V,S){_.push(V),g&&g(S)}).on("error",function(V){_=[],y(V)}).on("end",function(){try{var V=function(S,b,k){switch(S){case"blob":return s.newBlob(s.transformTo("arraybuffer",b),k);case"base64":return l.encode(b);default:return s.transformTo(S,b)}}(N,function(S,b){var k,P=0,L=null,A=0;for(k=0;k<b.length;k++)A+=b[k].length;switch(S){case"string":return b.join("");case"array":return Array.prototype.concat.apply([],b);case"uint8array":for(L=new Uint8Array(A),k=0;k<b.length;k++)L.set(b[k],P),P+=b[k].length;return L;case"nodebuffer":return Buffer.concat(b);default:throw new Error("concat : unsupported type '"+S+"'")}}(x,_),O);E(V)}catch(S){y(S)}_=[]}).resume()})}function m(v,g,E){var y=g;switch(g){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=g,this._mimeType=E,s.checkSupport(y),this._worker=v.pipe(new o(y)),v.lock()}catch(_){this._worker=new a("error"),this._worker.error(_)}}m.prototype={accumulate:function(v){return p(this,v)},on:function(v,g){var E=this;return v==="data"?this._worker.on(v,function(y){g.call(E,y.data,y.meta)}):this._worker.on(v,function(){s.delay(g,arguments,E)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return o.nodebuffer?a.newBufferFrom(m,"utf-8"):function(v){var g,E,y,_,x,N=v.length,O=0;for(_=0;_<N;_++)(64512&(E=v.charCodeAt(_)))==55296&&_+1<N&&(64512&(y=v.charCodeAt(_+1)))==56320&&(E=65536+(E-55296<<10)+(y-56320),_++),O+=E<128?1:E<2048?2:E<65536?3:4;for(g=o.uint8array?new Uint8Array(O):new Array(O),_=x=0;x<O;_++)(64512&(E=v.charCodeAt(_)))==55296&&_+1<N&&(64512&(y=v.charCodeAt(_+1)))==56320&&(E=65536+(E-55296<<10)+(y-56320),_++),E<128?g[x++]=E:(E<2048?g[x++]=192|E>>>6:(E<65536?g[x++]=224|E>>>12:(g[x++]=240|E>>>18,g[x++]=128|E>>>12&63),g[x++]=128|E>>>6&63),g[x++]=128|63&E);return g}(m)},i.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(v){var g,E,y,_,x=v.length,N=new Array(2*x);for(g=E=0;g<x;)if((y=v[g++])<128)N[E++]=y;else if(4<(_=u[y]))N[E++]=65533,g+=_-1;else{for(y&=_===2?31:_===3?15:7;1<_&&g<x;)y=y<<6|63&v[g++],_--;1<_?N[E++]=65533:y<65536?N[E++]=y:(y-=65536,N[E++]=55296|y>>10&1023,N[E++]=56320|1023&y)}return N.length!==E&&(N.subarray?N=N.subarray(0,E):N.length=E),s.applyFromCharCode(N)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(f,l),f.prototype.processChunk=function(m){var v=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var E=function(_,x){var N;for((x=x||_.length)>_.length&&(x=_.length),N=x-1;0<=N&&(192&_[N])==128;)N--;return N<0||N===0?x:N+u[_[N]]>x?N:x}(v),y=v;E!==v.length&&(o.uint8array?(y=v.subarray(0,E),this.leftOver=v.subarray(E,v.length)):(y=v.slice(0,E),this.leftOver=v.slice(E,v.length))),this.push({data:i.utf8decode(y),meta:m.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(p,l),p.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(g){return g}function h(g,E){for(var y=0;y<g.length;++y)E[y]=255&g.charCodeAt(y);return E}n("setimmediate"),i.newBlob=function(g,E){i.checkSupport("blob");try{return new Blob([g],{type:E})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(g),y.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,E,y){var _=[],x=0,N=g.length;if(N<=y)return String.fromCharCode.apply(null,g);for(;x<N;)E==="array"||E==="nodebuffer"?_.push(String.fromCharCode.apply(null,g.slice(x,Math.min(x+y,N)))):_.push(String.fromCharCode.apply(null,g.subarray(x,Math.min(x+y,N)))),x+=y;return _.join("")},stringifyByChar:function(g){for(var E="",y=0;y<g.length;y++)E+=String.fromCharCode(g[y]);return E},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(g){var E=65536,y=i.getTypeOf(g),_=!0;if(y==="uint8array"?_=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(_=f.applyCanBeUsed.nodebuffer),_)for(;1<E;)try{return f.stringifyByChunk(g,y,E)}catch{E=Math.floor(E/2)}return f.stringifyByChar(g)}function m(g,E){for(var y=0;y<g.length;y++)E[y]=g[y];return E}i.applyFromCharCode=p;var v={};v.string={string:u,array:function(g){return h(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return h(g,new Uint8Array(g.length))},nodebuffer:function(g){return h(g,a.allocBuffer(g.length))}},v.array={string:p,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(g)}},v.arraybuffer={string:function(g){return p(new Uint8Array(g))},array:function(g){return m(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:p,array:function(g){return m(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return a.newBufferFrom(g)}},v.nodebuffer={string:p,array:function(g){return m(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return m(g,new Uint8Array(g.length))},nodebuffer:u},i.transformTo=function(g,E){if(E=E||"",!g)return E;i.checkSupport(g);var y=i.getTypeOf(E);return v[y][g](E)},i.resolve=function(g){for(var E=g.split("/"),y=[],_=0;_<E.length;_++){var x=E[_];x==="."||x===""&&_!==0&&_!==E.length-1||(x===".."?y.pop():y.push(x))}return y.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var E,y,_="";for(y=0;y<(g||"").length;y++)_+="\\x"+((E=g.charCodeAt(y))<16?"0":"")+E.toString(16).toUpperCase();return _},i.delay=function(g,E,y){setImmediate(function(){g.apply(y||null,E||[])})},i.inherits=function(g,E){function y(){}y.prototype=E.prototype,g.prototype=new y},i.extend=function(){var g,E,y={};for(g=0;g<arguments.length;g++)for(E in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],E)&&y[E]===void 0&&(y[E]=arguments[g][E]);return y},i.prepareContent=function(g,E,y,_,x){return l.Promise.resolve(E).then(function(N){return s.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new l.Promise(function(O,V){var S=new FileReader;S.onload=function(b){O(b.target.result)},S.onerror=function(b){V(b.target.error)},S.readAsArrayBuffer(N)}):N}).then(function(N){var O=i.getTypeOf(N);return O?(O==="arraybuffer"?N=i.transformTo("uint8array",N):O==="string"&&(x?N=o.decode(N):y&&_!==!0&&(N=function(V){return h(V,s.uint8array?new Uint8Array(V.length):new Array(V.length))}(N))),N):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function h(f){this.files=[],this.loadOptions=f}h.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(f)+")")}},isSignature:function(f,p){var m=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===p;return this.reader.setIndex(m),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",m=o.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,m,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var v=p-m;if(0<v)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),h=n("./compressions"),f=n("./support");function p(m,v){this.options=m,this.loadOptions=v}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var v,g;if(m.skip(22),this.fileNameLength=m.readInt(2),g=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(E){for(var y in h)if(Object.prototype.hasOwnProperty.call(h,y)&&h[y].magic===E)return h[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var v=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(v),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var v,g,E,y=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<y;)v=m.readInt(2),g=m.readInt(2),E=m.readData(g),this.extraFields[v]={id:v,length:g,value:E};m.setIndex(y)},handleUTF8:function(){var m=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var y=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var v=s(m.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var v=s(m.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(v,g,E){this.name=v,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=g,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),h=n("./stream/GenericWorker");s.prototype={internalStream:function(v){var g=null,E="string";try{if(!v)throw new Error("No output type specified.");var y=(E=v.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),g=this._decompressWorker();var _=!this._dataBinary;_&&!y&&(g=g.pipe(new l.Utf8EncodeWorker)),!_&&y&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(x){(g=new h("error")).error(x)}return new o(g,E,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(E,v,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<f.length;m++)s.prototype[f[m]]=p;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,h=new l(v),f=s.document.createTextNode("");h.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var p=new s.MessageChannel;p.port1.onmessage=v,o=function(){p.port2.postMessage(0)}}var m=[];function v(){var g,E;a=!0;for(var y=m.length;y;){for(E=m,m=[],g=-1;++g<y;)E[g]();y=m.length}a=!1}r.exports=function(g){m.push(g)!==1||a||o()}}).call(this,typeof Rr<"u"?Rr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,y!==o&&g(this,y)}function p(y,_,x){this.promise=y,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function m(y,_,x){s(function(){var N;try{N=_(x)}catch(O){return a.reject(y,O)}N===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,N)})}function v(y){var _=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof _=="function")return function(){_.apply(y,arguments)}}function g(y,_){var x=!1;function N(S){x||(x=!0,a.reject(y,S))}function O(S){x||(x=!0,a.resolve(y,S))}var V=E(function(){_(O,N)});V.status==="error"&&N(V.value)}function E(y,_){var x={};try{x.value=y(_),x.status="success"}catch(N){x.status="error",x.value=N}return x}(r.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var _=this.constructor;return this.then(function(x){return _.resolve(y()).then(function(){return x})},function(x){return _.resolve(y()).then(function(){throw x})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,_){if(typeof y!="function"&&this.state===u||typeof _!="function"&&this.state===l)return this;var x=new this.constructor(o);return this.state!==h?m(x,this.state===u?y:_,this.outcome):this.queue.push(new p(x,y,_)),x},p.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},p.prototype.otherCallFulfilled=function(y){m(this.promise,this.onFulfilled,y)},p.prototype.callRejected=function(y){a.reject(this.promise,y)},p.prototype.otherCallRejected=function(y){m(this.promise,this.onRejected,y)},a.resolve=function(y,_){var x=E(v,_);if(x.status==="error")return a.reject(y,x.value);var N=x.value;if(N)g(y,N);else{y.state=u,y.outcome=_;for(var O=-1,V=y.queue.length;++O<V;)y.queue[O].callFulfilled(_)}return y},a.reject=function(y,_){y.state=l,y.outcome=_;for(var x=-1,N=y.queue.length;++x<N;)y.queue[x].callRejected(_);return y},f.resolve=function(y){return y instanceof this?y:a.resolve(new this(o),y)},f.reject=function(y){var _=new this(o);return a.reject(_,y)},f.all=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,N=!1;if(!x)return this.resolve([]);for(var O=new Array(x),V=0,S=-1,b=new this(o);++S<x;)k(y[S],S);return b;function k(P,L){_.resolve(P).then(function(A){O[L]=A,++V!==x||N||(N=!0,a.resolve(b,O))},function(A){N||(N=!0,a.reject(b,A))})}},f.race=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,N=!1;if(!x)return this.resolve([]);for(var O=-1,V=new this(o);++O<x;)S=y[O],_.resolve(S).then(function(b){N||(N=!0,a.resolve(V,b))},function(b){N||(N=!0,a.reject(V,b))});var S;return V}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),h=Object.prototype.toString,f=0,p=-1,m=0,v=8;function g(y){if(!(this instanceof g))return new g(y);this.options=o.assign({level:p,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},y||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(x!==f)throw new Error(l[x]);if(_.header&&s.deflateSetHeader(this.strm,_.header),_.dictionary){var N;if(N=typeof _.dictionary=="string"?a.string2buf(_.dictionary):h.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(x=s.deflateSetDictionary(this.strm,N))!==f)throw new Error(l[x]);this._dict_set=!0}}function E(y,_){var x=new g(_);if(x.push(y,!0),x.err)throw x.msg||l[x.err];return x.result}g.prototype.push=function(y,_){var x,N,O=this.strm,V=this.options.chunkSize;if(this.ended)return!1;N=_===~~_?_:_===!0?4:0,typeof y=="string"?O.input=a.string2buf(y):h.call(y)==="[object ArrayBuffer]"?O.input=new Uint8Array(y):O.input=y,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new o.Buf8(V),O.next_out=0,O.avail_out=V),(x=s.deflate(O,N))!==1&&x!==f)return this.onEnd(x),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(O.output,O.next_out))):this.onData(o.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&x!==1);return N===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===f):N!==2||(this.onEnd(f),!(O.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=g,i.deflate=E,i.deflateRaw=function(y,_){return(_=_||{}).raw=!0,E(y,_)},i.gzip=function(y,_){return(_=_||{}).gzip=!0,E(y,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),h=n("./zlib/zstream"),f=n("./zlib/gzheader"),p=Object.prototype.toString;function m(g){if(!(this instanceof m))return new m(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||g&&g.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&!(15&E.windowBits)&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,E.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function v(g,E){var y=new m(E);if(y.push(g,!0),y.err)throw y.msg||u[y.err];return y.result}m.prototype.push=function(g,E){var y,_,x,N,O,V,S=this.strm,b=this.options.chunkSize,k=this.options.dictionary,P=!1;if(this.ended)return!1;_=E===~~E?E:E===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?S.input=a.binstring2buf(g):p.call(g)==="[object ArrayBuffer]"?S.input=new Uint8Array(g):S.input=g,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new o.Buf8(b),S.next_out=0,S.avail_out=b),(y=s.inflate(S,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&k&&(V=typeof k=="string"?a.string2buf(k):p.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,y=s.inflateSetDictionary(this.strm,V)),y===l.Z_BUF_ERROR&&P===!0&&(y=l.Z_OK,P=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&y!==l.Z_STREAM_END&&(S.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=a.utf8border(S.output,S.next_out),N=S.next_out-x,O=a.buf2string(S.output,x),S.next_out=N,S.avail_out=b-N,N&&o.arraySet(S.output,S.output,x,N,0),this.onData(O)):this.onData(o.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(P=!0)}while((0<S.avail_in||S.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(y=s.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(S.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=m,i.inflate=v,i.inflateRaw=function(g,E){return(E=E||{}).raw=!0,v(g,E)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(l[f]=h[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,h,f,p){if(u.subarray&&l.subarray)l.set(u.subarray(h,h+f),p);else for(var m=0;m<f;m++)l[p+m]=u[h+m]},flattenChunks:function(l){var u,h,f,p,m,v;for(u=f=0,h=l.length;u<h;u++)f+=l[u].length;for(v=new Uint8Array(f),u=p=0,h=l.length;u<h;u++)m=l[u],v.set(m,p),p+=m.length;return v}},a={arraySet:function(l,u,h,f,p){for(var m=0;m<f;m++)l[p+m]=u[h+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(f,p){if(p<65537&&(f.subarray&&a||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,p));for(var m="",v=0;v<p;v++)m+=String.fromCharCode(f[v]);return m}l[254]=l[254]=1,i.string2buf=function(f){var p,m,v,g,E,y=f.length,_=0;for(g=0;g<y;g++)(64512&(m=f.charCodeAt(g)))==55296&&g+1<y&&(64512&(v=f.charCodeAt(g+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),g++),_+=m<128?1:m<2048?2:m<65536?3:4;for(p=new s.Buf8(_),g=E=0;E<_;g++)(64512&(m=f.charCodeAt(g)))==55296&&g+1<y&&(64512&(v=f.charCodeAt(g+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),g++),m<128?p[E++]=m:(m<2048?p[E++]=192|m>>>6:(m<65536?p[E++]=224|m>>>12:(p[E++]=240|m>>>18,p[E++]=128|m>>>12&63),p[E++]=128|m>>>6&63),p[E++]=128|63&m);return p},i.buf2binstring=function(f){return h(f,f.length)},i.binstring2buf=function(f){for(var p=new s.Buf8(f.length),m=0,v=p.length;m<v;m++)p[m]=f.charCodeAt(m);return p},i.buf2string=function(f,p){var m,v,g,E,y=p||f.length,_=new Array(2*y);for(m=v=0;m<y;)if((g=f[m++])<128)_[v++]=g;else if(4<(E=l[g]))_[v++]=65533,m+=E-1;else{for(g&=E===2?31:E===3?15:7;1<E&&m<y;)g=g<<6|63&f[m++],E--;1<E?_[v++]=65533:g<65536?_[v++]=g:(g-=65536,_[v++]=55296|g>>10&1023,_[v++]=56320|1023&g)}return h(_,v)},i.utf8border=function(f,p){var m;for((p=p||f.length)>f.length&&(p=f.length),m=p-1;0<=m&&(192&f[m])==128;)m--;return m<0||m===0?p:m+l[f[m]]>p?m:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var u=65535&s|0,h=s>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;h=h+(u=u+o[l++]|0)|0,--f;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var h=s,f=u+l;o^=-1;for(var p=u;p<f;p++)o=o>>>8^h[255&(o^a[p])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),h=n("./messages"),f=0,p=4,m=0,v=-2,g=-1,E=4,y=2,_=8,x=9,N=286,O=30,V=19,S=2*N+1,b=15,k=3,P=258,L=P+k+1,A=42,j=113,R=1,G=2,le=3,Y=4;function $(C,Z){return C.msg=h[Z],Z}function B(C){return(C<<1)-(4<C?9:0)}function K(C){for(var Z=C.length;0<=--Z;)C[Z]=0}function z(C){var Z=C.state,X=Z.pending;X>C.avail_out&&(X=C.avail_out),X!==0&&(o.arraySet(C.output,Z.pending_buf,Z.pending_out,X,C.next_out),C.next_out+=X,Z.pending_out+=X,C.total_out+=X,C.avail_out-=X,Z.pending-=X,Z.pending===0&&(Z.pending_out=0))}function U(C,Z){a._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,Z),C.block_start=C.strstart,z(C.strm)}function J(C,Z){C.pending_buf[C.pending++]=Z}function oe(C,Z){C.pending_buf[C.pending++]=Z>>>8&255,C.pending_buf[C.pending++]=255&Z}function ne(C,Z){var X,F,M=C.max_chain_length,H=C.strstart,re=C.prev_length,se=C.nice_match,q=C.strstart>C.w_size-L?C.strstart-(C.w_size-L):0,ue=C.window,fe=C.w_mask,ce=C.prev,_e=C.strstart+P,Ce=ue[H+re-1],be=ue[H+re];C.prev_length>=C.good_match&&(M>>=2),se>C.lookahead&&(se=C.lookahead);do if(ue[(X=Z)+re]===be&&ue[X+re-1]===Ce&&ue[X]===ue[H]&&ue[++X]===ue[H+1]){H+=2,X++;do;while(ue[++H]===ue[++X]&&ue[++H]===ue[++X]&&ue[++H]===ue[++X]&&ue[++H]===ue[++X]&&ue[++H]===ue[++X]&&ue[++H]===ue[++X]&&ue[++H]===ue[++X]&&ue[++H]===ue[++X]&&H<_e);if(F=P-(_e-H),H=_e-P,re<F){if(C.match_start=Z,se<=(re=F))break;Ce=ue[H+re-1],be=ue[H+re]}}while((Z=ce[Z&fe])>q&&--M!=0);return re<=C.lookahead?re:C.lookahead}function Ie(C){var Z,X,F,M,H,re,se,q,ue,fe,ce=C.w_size;do{if(M=C.window_size-C.lookahead-C.strstart,C.strstart>=ce+(ce-L)){for(o.arraySet(C.window,C.window,ce,ce,0),C.match_start-=ce,C.strstart-=ce,C.block_start-=ce,Z=X=C.hash_size;F=C.head[--Z],C.head[Z]=ce<=F?F-ce:0,--X;);for(Z=X=ce;F=C.prev[--Z],C.prev[Z]=ce<=F?F-ce:0,--X;);M+=ce}if(C.strm.avail_in===0)break;if(re=C.strm,se=C.window,q=C.strstart+C.lookahead,ue=M,fe=void 0,fe=re.avail_in,ue<fe&&(fe=ue),X=fe===0?0:(re.avail_in-=fe,o.arraySet(se,re.input,re.next_in,fe,q),re.state.wrap===1?re.adler=l(re.adler,se,fe,q):re.state.wrap===2&&(re.adler=u(re.adler,se,fe,q)),re.next_in+=fe,re.total_in+=fe,fe),C.lookahead+=X,C.lookahead+C.insert>=k)for(H=C.strstart-C.insert,C.ins_h=C.window[H],C.ins_h=(C.ins_h<<C.hash_shift^C.window[H+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[H+k-1])&C.hash_mask,C.prev[H&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=H,H++,C.insert--,!(C.lookahead+C.insert<k)););}while(C.lookahead<L&&C.strm.avail_in!==0)}function ie(C,Z){for(var X,F;;){if(C.lookahead<L){if(Ie(C),C.lookahead<L&&Z===f)return R;if(C.lookahead===0)break}if(X=0,C.lookahead>=k&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+k-1])&C.hash_mask,X=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),X!==0&&C.strstart-X<=C.w_size-L&&(C.match_length=ne(C,X)),C.match_length>=k)if(F=a._tr_tally(C,C.strstart-C.match_start,C.match_length-k),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=k){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+k-1])&C.hash_mask,X=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,--C.match_length!=0;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else F=a._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(F&&(U(C,!1),C.strm.avail_out===0))return R}return C.insert=C.strstart<k-1?C.strstart:k-1,Z===p?(U(C,!0),C.strm.avail_out===0?le:Y):C.last_lit&&(U(C,!1),C.strm.avail_out===0)?R:G}function me(C,Z){for(var X,F,M;;){if(C.lookahead<L){if(Ie(C),C.lookahead<L&&Z===f)return R;if(C.lookahead===0)break}if(X=0,C.lookahead>=k&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+k-1])&C.hash_mask,X=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=k-1,X!==0&&C.prev_length<C.max_lazy_match&&C.strstart-X<=C.w_size-L&&(C.match_length=ne(C,X),C.match_length<=5&&(C.strategy===1||C.match_length===k&&4096<C.strstart-C.match_start)&&(C.match_length=k-1)),C.prev_length>=k&&C.match_length<=C.prev_length){for(M=C.strstart+C.lookahead-k,F=a._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-k),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=M&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+k-1])&C.hash_mask,X=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),--C.prev_length!=0;);if(C.match_available=0,C.match_length=k-1,C.strstart++,F&&(U(C,!1),C.strm.avail_out===0))return R}else if(C.match_available){if((F=a._tr_tally(C,0,C.window[C.strstart-1]))&&U(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return R}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(F=a._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<k-1?C.strstart:k-1,Z===p?(U(C,!0),C.strm.avail_out===0?le:Y):C.last_lit&&(U(C,!1),C.strm.avail_out===0)?R:G}function Ee(C,Z,X,F,M){this.good_length=C,this.max_lazy=Z,this.nice_length=X,this.max_chain=F,this.func=M}function Ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*S),this.dyn_dtree=new o.Buf16(2*(2*O+1)),this.bl_tree=new o.Buf16(2*(2*V+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(b+1),this.heap=new o.Buf16(2*N+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*N+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $e(C){var Z;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=y,(Z=C.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?A:j,C.adler=Z.wrap===2?0:1,Z.last_flush=f,a._tr_init(Z),m):$(C,v)}function yt(C){var Z=$e(C);return Z===m&&function(X){X.window_size=2*X.w_size,K(X.head),X.max_lazy_match=s[X.level].max_lazy,X.good_match=s[X.level].good_length,X.nice_match=s[X.level].nice_length,X.max_chain_length=s[X.level].max_chain,X.strstart=0,X.block_start=0,X.lookahead=0,X.insert=0,X.match_length=X.prev_length=k-1,X.match_available=0,X.ins_h=0}(C.state),Z}function Qt(C,Z,X,F,M,H){if(!C)return v;var re=1;if(Z===g&&(Z=6),F<0?(re=0,F=-F):15<F&&(re=2,F-=16),M<1||x<M||X!==_||F<8||15<F||Z<0||9<Z||H<0||E<H)return $(C,v);F===8&&(F=9);var se=new Ve;return(C.state=se).strm=C,se.wrap=re,se.gzhead=null,se.w_bits=F,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=M+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+k-1)/k),se.window=new o.Buf8(2*se.w_size),se.head=new o.Buf16(se.hash_size),se.prev=new o.Buf16(se.w_size),se.lit_bufsize=1<<M+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new o.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=Z,se.strategy=H,se.method=X,yt(C)}s=[new Ee(0,0,0,0,function(C,Z){var X=65535;for(X>C.pending_buf_size-5&&(X=C.pending_buf_size-5);;){if(C.lookahead<=1){if(Ie(C),C.lookahead===0&&Z===f)return R;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var F=C.block_start+X;if((C.strstart===0||C.strstart>=F)&&(C.lookahead=C.strstart-F,C.strstart=F,U(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-L&&(U(C,!1),C.strm.avail_out===0))return R}return C.insert=0,Z===p?(U(C,!0),C.strm.avail_out===0?le:Y):(C.strstart>C.block_start&&(U(C,!1),C.strm.avail_out),R)}),new Ee(4,4,8,4,ie),new Ee(4,5,16,8,ie),new Ee(4,6,32,32,ie),new Ee(4,4,16,16,me),new Ee(8,16,32,32,me),new Ee(8,16,128,128,me),new Ee(8,32,128,256,me),new Ee(32,128,258,1024,me),new Ee(32,258,258,4096,me)],i.deflateInit=function(C,Z){return Qt(C,Z,_,15,8,0)},i.deflateInit2=Qt,i.deflateReset=yt,i.deflateResetKeep=$e,i.deflateSetHeader=function(C,Z){return C&&C.state?C.state.wrap!==2?v:(C.state.gzhead=Z,m):v},i.deflate=function(C,Z){var X,F,M,H;if(!C||!C.state||5<Z||Z<0)return C?$(C,v):v;if(F=C.state,!C.output||!C.input&&C.avail_in!==0||F.status===666&&Z!==p)return $(C,C.avail_out===0?-5:v);if(F.strm=C,X=F.last_flush,F.last_flush=Z,F.status===A)if(F.wrap===2)C.adler=0,J(F,31),J(F,139),J(F,8),F.gzhead?(J(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),J(F,255&F.gzhead.time),J(F,F.gzhead.time>>8&255),J(F,F.gzhead.time>>16&255),J(F,F.gzhead.time>>24&255),J(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),J(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(J(F,255&F.gzhead.extra.length),J(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(C.adler=u(C.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(J(F,0),J(F,0),J(F,0),J(F,0),J(F,0),J(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),J(F,3),F.status=j);else{var re=_+(F.w_bits-8<<4)<<8;re|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(re|=32),re+=31-re%31,F.status=j,oe(F,re),F.strstart!==0&&(oe(F,C.adler>>>16),oe(F,65535&C.adler)),C.adler=1}if(F.status===69)if(F.gzhead.extra){for(M=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>M&&(C.adler=u(C.adler,F.pending_buf,F.pending-M,M)),z(C),M=F.pending,F.pending!==F.pending_buf_size));)J(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>M&&(C.adler=u(C.adler,F.pending_buf,F.pending-M,M)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){M=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>M&&(C.adler=u(C.adler,F.pending_buf,F.pending-M,M)),z(C),M=F.pending,F.pending===F.pending_buf_size)){H=1;break}H=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,J(F,H)}while(H!==0);F.gzhead.hcrc&&F.pending>M&&(C.adler=u(C.adler,F.pending_buf,F.pending-M,M)),H===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){M=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>M&&(C.adler=u(C.adler,F.pending_buf,F.pending-M,M)),z(C),M=F.pending,F.pending===F.pending_buf_size)){H=1;break}H=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,J(F,H)}while(H!==0);F.gzhead.hcrc&&F.pending>M&&(C.adler=u(C.adler,F.pending_buf,F.pending-M,M)),H===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&z(C),F.pending+2<=F.pending_buf_size&&(J(F,255&C.adler),J(F,C.adler>>8&255),C.adler=0,F.status=j)):F.status=j),F.pending!==0){if(z(C),C.avail_out===0)return F.last_flush=-1,m}else if(C.avail_in===0&&B(Z)<=B(X)&&Z!==p)return $(C,-5);if(F.status===666&&C.avail_in!==0)return $(C,-5);if(C.avail_in!==0||F.lookahead!==0||Z!==f&&F.status!==666){var se=F.strategy===2?function(q,ue){for(var fe;;){if(q.lookahead===0&&(Ie(q),q.lookahead===0)){if(ue===f)return R;break}if(q.match_length=0,fe=a._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,fe&&(U(q,!1),q.strm.avail_out===0))return R}return q.insert=0,ue===p?(U(q,!0),q.strm.avail_out===0?le:Y):q.last_lit&&(U(q,!1),q.strm.avail_out===0)?R:G}(F,Z):F.strategy===3?function(q,ue){for(var fe,ce,_e,Ce,be=q.window;;){if(q.lookahead<=P){if(Ie(q),q.lookahead<=P&&ue===f)return R;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=k&&0<q.strstart&&(ce=be[_e=q.strstart-1])===be[++_e]&&ce===be[++_e]&&ce===be[++_e]){Ce=q.strstart+P;do;while(ce===be[++_e]&&ce===be[++_e]&&ce===be[++_e]&&ce===be[++_e]&&ce===be[++_e]&&ce===be[++_e]&&ce===be[++_e]&&ce===be[++_e]&&_e<Ce);q.match_length=P-(Ce-_e),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=k?(fe=a._tr_tally(q,1,q.match_length-k),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(fe=a._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),fe&&(U(q,!1),q.strm.avail_out===0))return R}return q.insert=0,ue===p?(U(q,!0),q.strm.avail_out===0?le:Y):q.last_lit&&(U(q,!1),q.strm.avail_out===0)?R:G}(F,Z):s[F.level].func(F,Z);if(se!==le&&se!==Y||(F.status=666),se===R||se===le)return C.avail_out===0&&(F.last_flush=-1),m;if(se===G&&(Z===1?a._tr_align(F):Z!==5&&(a._tr_stored_block(F,0,0,!1),Z===3&&(K(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),z(C),C.avail_out===0))return F.last_flush=-1,m}return Z!==p?m:F.wrap<=0?1:(F.wrap===2?(J(F,255&C.adler),J(F,C.adler>>8&255),J(F,C.adler>>16&255),J(F,C.adler>>24&255),J(F,255&C.total_in),J(F,C.total_in>>8&255),J(F,C.total_in>>16&255),J(F,C.total_in>>24&255)):(oe(F,C.adler>>>16),oe(F,65535&C.adler)),z(C),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?m:1)},i.deflateEnd=function(C){var Z;return C&&C.state?(Z=C.state.status)!==A&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==j&&Z!==666?$(C,v):(C.state=null,Z===j?$(C,-3):m):v},i.deflateSetDictionary=function(C,Z){var X,F,M,H,re,se,q,ue,fe=Z.length;if(!C||!C.state||(H=(X=C.state).wrap)===2||H===1&&X.status!==A||X.lookahead)return v;for(H===1&&(C.adler=l(C.adler,Z,fe,0)),X.wrap=0,fe>=X.w_size&&(H===0&&(K(X.head),X.strstart=0,X.block_start=0,X.insert=0),ue=new o.Buf8(X.w_size),o.arraySet(ue,Z,fe-X.w_size,X.w_size,0),Z=ue,fe=X.w_size),re=C.avail_in,se=C.next_in,q=C.input,C.avail_in=fe,C.next_in=0,C.input=Z,Ie(X);X.lookahead>=k;){for(F=X.strstart,M=X.lookahead-(k-1);X.ins_h=(X.ins_h<<X.hash_shift^X.window[F+k-1])&X.hash_mask,X.prev[F&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=F,F++,--M;);X.strstart=F,X.lookahead=k-1,Ie(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=k-1,X.match_available=0,C.next_in=se,C.input=q,C.avail_in=re,X.wrap=H,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,u,h,f,p,m,v,g,E,y,_,x,N,O,V,S,b,k,P,L,A,j,R,G;a=s.state,l=s.next_in,R=s.input,u=l+(s.avail_in-5),h=s.next_out,G=s.output,f=h-(o-s.avail_out),p=h+(s.avail_out-257),m=a.dmax,v=a.wsize,g=a.whave,E=a.wnext,y=a.window,_=a.hold,x=a.bits,N=a.lencode,O=a.distcode,V=(1<<a.lenbits)-1,S=(1<<a.distbits)-1;e:do{x<15&&(_+=R[l++]<<x,x+=8,_+=R[l++]<<x,x+=8),b=N[_&V];t:for(;;){if(_>>>=k=b>>>24,x-=k,(k=b>>>16&255)===0)G[h++]=65535&b;else{if(!(16&k)){if(!(64&k)){b=N[(65535&b)+(_&(1<<k)-1)];continue t}if(32&k){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}P=65535&b,(k&=15)&&(x<k&&(_+=R[l++]<<x,x+=8),P+=_&(1<<k)-1,_>>>=k,x-=k),x<15&&(_+=R[l++]<<x,x+=8,_+=R[l++]<<x,x+=8),b=O[_&S];n:for(;;){if(_>>>=k=b>>>24,x-=k,!(16&(k=b>>>16&255))){if(!(64&k)){b=O[(65535&b)+(_&(1<<k)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(L=65535&b,x<(k&=15)&&(_+=R[l++]<<x,(x+=8)<k&&(_+=R[l++]<<x,x+=8)),m<(L+=_&(1<<k)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(_>>>=k,x-=k,(k=h-f)<L){if(g<(k=L-k)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(j=y,(A=0)===E){if(A+=v-k,k<P){for(P-=k;G[h++]=y[A++],--k;);A=h-L,j=G}}else if(E<k){if(A+=v+E-k,(k-=E)<P){for(P-=k;G[h++]=y[A++],--k;);if(A=0,E<P){for(P-=k=E;G[h++]=y[A++],--k;);A=h-L,j=G}}}else if(A+=E-k,k<P){for(P-=k;G[h++]=y[A++],--k;);A=h-L,j=G}for(;2<P;)G[h++]=j[A++],G[h++]=j[A++],G[h++]=j[A++],P-=3;P&&(G[h++]=j[A++],1<P&&(G[h++]=j[A++]))}else{for(A=h-L;G[h++]=G[A++],G[h++]=G[A++],G[h++]=G[A++],2<(P-=3););P&&(G[h++]=G[A++],1<P&&(G[h++]=G[A++]))}break}}break}}while(l<u&&h<p);l-=P=x>>3,_&=(1<<(x-=P<<3))-1,s.next_in=l,s.next_out=h,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=h<p?p-h+257:257-(h-p),a.hold=_,a.bits=x}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),h=1,f=2,p=0,m=-2,v=1,g=852,E=592;function y(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(A){var j;return A&&A.state?(j=A.state,A.total_in=A.total_out=j.total=0,A.msg="",j.wrap&&(A.adler=1&j.wrap),j.mode=v,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new s.Buf32(g),j.distcode=j.distdyn=new s.Buf32(E),j.sane=1,j.back=-1,p):m}function N(A){var j;return A&&A.state?((j=A.state).wsize=0,j.whave=0,j.wnext=0,x(A)):m}function O(A,j){var R,G;return A&&A.state?(G=A.state,j<0?(R=0,j=-j):(R=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?m:(G.window!==null&&G.wbits!==j&&(G.window=null),G.wrap=R,G.wbits=j,N(A))):m}function V(A,j){var R,G;return A?(G=new _,(A.state=G).window=null,(R=O(A,j))!==p&&(A.state=null),R):m}var S,b,k=!0;function P(A){if(k){var j;for(S=new s.Buf32(512),b=new s.Buf32(32),j=0;j<144;)A.lens[j++]=8;for(;j<256;)A.lens[j++]=9;for(;j<280;)A.lens[j++]=7;for(;j<288;)A.lens[j++]=8;for(u(h,A.lens,0,288,S,0,A.work,{bits:9}),j=0;j<32;)A.lens[j++]=5;u(f,A.lens,0,32,b,0,A.work,{bits:5}),k=!1}A.lencode=S,A.lenbits=9,A.distcode=b,A.distbits=5}function L(A,j,R,G){var le,Y=A.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new s.Buf8(Y.wsize)),G>=Y.wsize?(s.arraySet(Y.window,j,R-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(G<(le=Y.wsize-Y.wnext)&&(le=G),s.arraySet(Y.window,j,R-G,le,Y.wnext),(G-=le)?(s.arraySet(Y.window,j,R-G,G,0),Y.wnext=G,Y.whave=Y.wsize):(Y.wnext+=le,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=le))),0}i.inflateReset=N,i.inflateReset2=O,i.inflateResetKeep=x,i.inflateInit=function(A){return V(A,15)},i.inflateInit2=V,i.inflate=function(A,j){var R,G,le,Y,$,B,K,z,U,J,oe,ne,Ie,ie,me,Ee,Ve,$e,yt,Qt,C,Z,X,F,M=0,H=new s.Buf8(4),re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return m;(R=A.state).mode===12&&(R.mode=13),$=A.next_out,le=A.output,K=A.avail_out,Y=A.next_in,G=A.input,B=A.avail_in,z=R.hold,U=R.bits,J=B,oe=K,Z=p;e:for(;;)switch(R.mode){case v:if(R.wrap===0){R.mode=13;break}for(;U<16;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}if(2&R.wrap&&z===35615){H[R.check=0]=255&z,H[1]=z>>>8&255,R.check=a(R.check,H,2,0),U=z=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&z)<<8)+(z>>8))%31){A.msg="incorrect header check",R.mode=30;break}if((15&z)!=8){A.msg="unknown compression method",R.mode=30;break}if(U-=4,C=8+(15&(z>>>=4)),R.wbits===0)R.wbits=C;else if(C>R.wbits){A.msg="invalid window size",R.mode=30;break}R.dmax=1<<C,A.adler=R.check=1,R.mode=512&z?10:12,U=z=0;break;case 2:for(;U<16;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}if(R.flags=z,(255&R.flags)!=8){A.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){A.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=z>>8&1),512&R.flags&&(H[0]=255&z,H[1]=z>>>8&255,R.check=a(R.check,H,2,0)),U=z=0,R.mode=3;case 3:for(;U<32;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}R.head&&(R.head.time=z),512&R.flags&&(H[0]=255&z,H[1]=z>>>8&255,H[2]=z>>>16&255,H[3]=z>>>24&255,R.check=a(R.check,H,4,0)),U=z=0,R.mode=4;case 4:for(;U<16;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}R.head&&(R.head.xflags=255&z,R.head.os=z>>8),512&R.flags&&(H[0]=255&z,H[1]=z>>>8&255,R.check=a(R.check,H,2,0)),U=z=0,R.mode=5;case 5:if(1024&R.flags){for(;U<16;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}R.length=z,R.head&&(R.head.extra_len=z),512&R.flags&&(H[0]=255&z,H[1]=z>>>8&255,R.check=a(R.check,H,2,0)),U=z=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(B<(ne=R.length)&&(ne=B),ne&&(R.head&&(C=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),s.arraySet(R.head.extra,G,Y,ne,C)),512&R.flags&&(R.check=a(R.check,G,ne,Y)),B-=ne,Y+=ne,R.length-=ne),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(B===0)break e;for(ne=0;C=G[Y+ne++],R.head&&C&&R.length<65536&&(R.head.name+=String.fromCharCode(C)),C&&ne<B;);if(512&R.flags&&(R.check=a(R.check,G,ne,Y)),B-=ne,Y+=ne,C)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(B===0)break e;for(ne=0;C=G[Y+ne++],R.head&&C&&R.length<65536&&(R.head.comment+=String.fromCharCode(C)),C&&ne<B;);if(512&R.flags&&(R.check=a(R.check,G,ne,Y)),B-=ne,Y+=ne,C)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;U<16;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}if(z!==(65535&R.check)){A.msg="header crc mismatch",R.mode=30;break}U=z=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),A.adler=R.check=0,R.mode=12;break;case 10:for(;U<32;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}A.adler=R.check=y(z),U=z=0,R.mode=11;case 11:if(R.havedict===0)return A.next_out=$,A.avail_out=K,A.next_in=Y,A.avail_in=B,R.hold=z,R.bits=U,2;A.adler=R.check=1,R.mode=12;case 12:if(j===5||j===6)break e;case 13:if(R.last){z>>>=7&U,U-=7&U,R.mode=27;break}for(;U<3;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}switch(R.last=1&z,U-=1,3&(z>>>=1)){case 0:R.mode=14;break;case 1:if(P(R),R.mode=20,j!==6)break;z>>>=2,U-=2;break e;case 2:R.mode=17;break;case 3:A.msg="invalid block type",R.mode=30}z>>>=2,U-=2;break;case 14:for(z>>>=7&U,U-=7&U;U<32;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}if((65535&z)!=(z>>>16^65535)){A.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&z,U=z=0,R.mode=15,j===6)break e;case 15:R.mode=16;case 16:if(ne=R.length){if(B<ne&&(ne=B),K<ne&&(ne=K),ne===0)break e;s.arraySet(le,G,Y,ne,$),B-=ne,Y+=ne,K-=ne,$+=ne,R.length-=ne;break}R.mode=12;break;case 17:for(;U<14;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}if(R.nlen=257+(31&z),z>>>=5,U-=5,R.ndist=1+(31&z),z>>>=5,U-=5,R.ncode=4+(15&z),z>>>=4,U-=4,286<R.nlen||30<R.ndist){A.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;U<3;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}R.lens[re[R.have++]]=7&z,z>>>=3,U-=3}for(;R.have<19;)R.lens[re[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,X={bits:R.lenbits},Z=u(0,R.lens,0,19,R.lencode,0,R.work,X),R.lenbits=X.bits,Z){A.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;Ee=(M=R.lencode[z&(1<<R.lenbits)-1])>>>16&255,Ve=65535&M,!((me=M>>>24)<=U);){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}if(Ve<16)z>>>=me,U-=me,R.lens[R.have++]=Ve;else{if(Ve===16){for(F=me+2;U<F;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}if(z>>>=me,U-=me,R.have===0){A.msg="invalid bit length repeat",R.mode=30;break}C=R.lens[R.have-1],ne=3+(3&z),z>>>=2,U-=2}else if(Ve===17){for(F=me+3;U<F;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}U-=me,C=0,ne=3+(7&(z>>>=me)),z>>>=3,U-=3}else{for(F=me+7;U<F;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}U-=me,C=0,ne=11+(127&(z>>>=me)),z>>>=7,U-=7}if(R.have+ne>R.nlen+R.ndist){A.msg="invalid bit length repeat",R.mode=30;break}for(;ne--;)R.lens[R.have++]=C}}if(R.mode===30)break;if(R.lens[256]===0){A.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,X={bits:R.lenbits},Z=u(h,R.lens,0,R.nlen,R.lencode,0,R.work,X),R.lenbits=X.bits,Z){A.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,X={bits:R.distbits},Z=u(f,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,X),R.distbits=X.bits,Z){A.msg="invalid distances set",R.mode=30;break}if(R.mode=20,j===6)break e;case 20:R.mode=21;case 21:if(6<=B&&258<=K){A.next_out=$,A.avail_out=K,A.next_in=Y,A.avail_in=B,R.hold=z,R.bits=U,l(A,oe),$=A.next_out,le=A.output,K=A.avail_out,Y=A.next_in,G=A.input,B=A.avail_in,z=R.hold,U=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;Ee=(M=R.lencode[z&(1<<R.lenbits)-1])>>>16&255,Ve=65535&M,!((me=M>>>24)<=U);){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}if(Ee&&!(240&Ee)){for($e=me,yt=Ee,Qt=Ve;Ee=(M=R.lencode[Qt+((z&(1<<$e+yt)-1)>>$e)])>>>16&255,Ve=65535&M,!($e+(me=M>>>24)<=U);){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}z>>>=$e,U-=$e,R.back+=$e}if(z>>>=me,U-=me,R.back+=me,R.length=Ve,Ee===0){R.mode=26;break}if(32&Ee){R.back=-1,R.mode=12;break}if(64&Ee){A.msg="invalid literal/length code",R.mode=30;break}R.extra=15&Ee,R.mode=22;case 22:if(R.extra){for(F=R.extra;U<F;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}R.length+=z&(1<<R.extra)-1,z>>>=R.extra,U-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;Ee=(M=R.distcode[z&(1<<R.distbits)-1])>>>16&255,Ve=65535&M,!((me=M>>>24)<=U);){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}if(!(240&Ee)){for($e=me,yt=Ee,Qt=Ve;Ee=(M=R.distcode[Qt+((z&(1<<$e+yt)-1)>>$e)])>>>16&255,Ve=65535&M,!($e+(me=M>>>24)<=U);){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}z>>>=$e,U-=$e,R.back+=$e}if(z>>>=me,U-=me,R.back+=me,64&Ee){A.msg="invalid distance code",R.mode=30;break}R.offset=Ve,R.extra=15&Ee,R.mode=24;case 24:if(R.extra){for(F=R.extra;U<F;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}R.offset+=z&(1<<R.extra)-1,z>>>=R.extra,U-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){A.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(K===0)break e;if(ne=oe-K,R.offset>ne){if((ne=R.offset-ne)>R.whave&&R.sane){A.msg="invalid distance too far back",R.mode=30;break}Ie=ne>R.wnext?(ne-=R.wnext,R.wsize-ne):R.wnext-ne,ne>R.length&&(ne=R.length),ie=R.window}else ie=le,Ie=$-R.offset,ne=R.length;for(K<ne&&(ne=K),K-=ne,R.length-=ne;le[$++]=ie[Ie++],--ne;);R.length===0&&(R.mode=21);break;case 26:if(K===0)break e;le[$++]=R.length,K--,R.mode=21;break;case 27:if(R.wrap){for(;U<32;){if(B===0)break e;B--,z|=G[Y++]<<U,U+=8}if(oe-=K,A.total_out+=oe,R.total+=oe,oe&&(A.adler=R.check=R.flags?a(R.check,le,oe,$-oe):o(R.check,le,oe,$-oe)),oe=K,(R.flags?z:y(z))!==R.check){A.msg="incorrect data check",R.mode=30;break}U=z=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;U<32;){if(B===0)break e;B--,z+=G[Y++]<<U,U+=8}if(z!==(4294967295&R.total)){A.msg="incorrect length check",R.mode=30;break}U=z=0}R.mode=29;case 29:Z=1;break e;case 30:Z=-3;break e;case 31:return-4;case 32:default:return m}return A.next_out=$,A.avail_out=K,A.next_in=Y,A.avail_in=B,R.hold=z,R.bits=U,(R.wsize||oe!==A.avail_out&&R.mode<30&&(R.mode<27||j!==4))&&L(A,A.output,A.next_out,oe-A.avail_out)?(R.mode=31,-4):(J-=A.avail_in,oe-=A.avail_out,A.total_in+=J,A.total_out+=oe,R.total+=oe,R.wrap&&oe&&(A.adler=R.check=R.flags?a(R.check,le,oe,A.next_out-oe):o(R.check,le,oe,A.next_out-oe)),A.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(J==0&&oe===0||j===4)&&Z===p&&(Z=-5),Z)},i.inflateEnd=function(A){if(!A||!A.state)return m;var j=A.state;return j.window&&(j.window=null),A.state=null,p},i.inflateGetHeader=function(A,j){var R;return A&&A.state&&2&(R=A.state).wrap?((R.head=j).done=!1,p):m},i.inflateSetDictionary=function(A,j){var R,G=j.length;return A&&A.state?(R=A.state).wrap!==0&&R.mode!==11?m:R.mode===11&&o(1,j,G,0)!==R.check?-3:L(A,j,G,G)?(R.mode=31,-4):(R.havedict=1,p):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,f,p,m,v,g,E,y){var _,x,N,O,V,S,b,k,P,L=y.bits,A=0,j=0,R=0,G=0,le=0,Y=0,$=0,B=0,K=0,z=0,U=null,J=0,oe=new s.Buf16(16),ne=new s.Buf16(16),Ie=null,ie=0;for(A=0;A<=15;A++)oe[A]=0;for(j=0;j<m;j++)oe[f[p+j]]++;for(le=L,G=15;1<=G&&oe[G]===0;G--);if(G<le&&(le=G),G===0)return v[g++]=20971520,v[g++]=20971520,y.bits=1,0;for(R=1;R<G&&oe[R]===0;R++);for(le<R&&(le=R),A=B=1;A<=15;A++)if(B<<=1,(B-=oe[A])<0)return-1;if(0<B&&(h===0||G!==1))return-1;for(ne[1]=0,A=1;A<15;A++)ne[A+1]=ne[A]+oe[A];for(j=0;j<m;j++)f[p+j]!==0&&(E[ne[f[p+j]]++]=j);if(S=h===0?(U=Ie=E,19):h===1?(U=o,J-=257,Ie=a,ie-=257,256):(U=l,Ie=u,-1),A=R,V=g,$=j=z=0,N=-1,O=(K=1<<(Y=le))-1,h===1&&852<K||h===2&&592<K)return 1;for(;;){for(b=A-$,P=E[j]<S?(k=0,E[j]):E[j]>S?(k=Ie[ie+E[j]],U[J+E[j]]):(k=96,0),_=1<<A-$,R=x=1<<Y;v[V+(z>>$)+(x-=_)]=b<<24|k<<16|P|0,x!==0;);for(_=1<<A-1;z&_;)_>>=1;if(_!==0?(z&=_-1,z+=_):z=0,j++,--oe[A]==0){if(A===G)break;A=f[p+E[j]]}if(le<A&&(z&O)!==N){for($===0&&($=le),V+=R,B=1<<(Y=A-$);Y+$<G&&!((B-=oe[Y+$])<=0);)Y++,B<<=1;if(K+=1<<Y,h===1&&852<K||h===2&&592<K)return 1;v[N=z&O]=le<<24|Y<<16|V-g|0}}return z!==0&&(v[V+z]=A-$<<24|64<<16|0),y.bits=le,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(M){for(var H=M.length;0<=--H;)M[H]=0}var u=0,h=29,f=256,p=f+1+h,m=30,v=19,g=2*p+1,E=15,y=16,_=7,x=256,N=16,O=17,V=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],b=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(p+2));l(L);var A=new Array(2*m);l(A);var j=new Array(512);l(j);var R=new Array(256);l(R);var G=new Array(h);l(G);var le,Y,$,B=new Array(m);function K(M,H,re,se,q){this.static_tree=M,this.extra_bits=H,this.extra_base=re,this.elems=se,this.max_length=q,this.has_stree=M&&M.length}function z(M,H){this.dyn_tree=M,this.max_code=0,this.stat_desc=H}function U(M){return M<256?j[M]:j[256+(M>>>7)]}function J(M,H){M.pending_buf[M.pending++]=255&H,M.pending_buf[M.pending++]=H>>>8&255}function oe(M,H,re){M.bi_valid>y-re?(M.bi_buf|=H<<M.bi_valid&65535,J(M,M.bi_buf),M.bi_buf=H>>y-M.bi_valid,M.bi_valid+=re-y):(M.bi_buf|=H<<M.bi_valid&65535,M.bi_valid+=re)}function ne(M,H,re){oe(M,re[2*H],re[2*H+1])}function Ie(M,H){for(var re=0;re|=1&M,M>>>=1,re<<=1,0<--H;);return re>>>1}function ie(M,H,re){var se,q,ue=new Array(E+1),fe=0;for(se=1;se<=E;se++)ue[se]=fe=fe+re[se-1]<<1;for(q=0;q<=H;q++){var ce=M[2*q+1];ce!==0&&(M[2*q]=Ie(ue[ce]++,ce))}}function me(M){var H;for(H=0;H<p;H++)M.dyn_ltree[2*H]=0;for(H=0;H<m;H++)M.dyn_dtree[2*H]=0;for(H=0;H<v;H++)M.bl_tree[2*H]=0;M.dyn_ltree[2*x]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function Ee(M){8<M.bi_valid?J(M,M.bi_buf):0<M.bi_valid&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function Ve(M,H,re,se){var q=2*H,ue=2*re;return M[q]<M[ue]||M[q]===M[ue]&&se[H]<=se[re]}function $e(M,H,re){for(var se=M.heap[re],q=re<<1;q<=M.heap_len&&(q<M.heap_len&&Ve(H,M.heap[q+1],M.heap[q],M.depth)&&q++,!Ve(H,se,M.heap[q],M.depth));)M.heap[re]=M.heap[q],re=q,q<<=1;M.heap[re]=se}function yt(M,H,re){var se,q,ue,fe,ce=0;if(M.last_lit!==0)for(;se=M.pending_buf[M.d_buf+2*ce]<<8|M.pending_buf[M.d_buf+2*ce+1],q=M.pending_buf[M.l_buf+ce],ce++,se===0?ne(M,q,H):(ne(M,(ue=R[q])+f+1,H),(fe=S[ue])!==0&&oe(M,q-=G[ue],fe),ne(M,ue=U(--se),re),(fe=b[ue])!==0&&oe(M,se-=B[ue],fe)),ce<M.last_lit;);ne(M,x,H)}function Qt(M,H){var re,se,q,ue=H.dyn_tree,fe=H.stat_desc.static_tree,ce=H.stat_desc.has_stree,_e=H.stat_desc.elems,Ce=-1;for(M.heap_len=0,M.heap_max=g,re=0;re<_e;re++)ue[2*re]!==0?(M.heap[++M.heap_len]=Ce=re,M.depth[re]=0):ue[2*re+1]=0;for(;M.heap_len<2;)ue[2*(q=M.heap[++M.heap_len]=Ce<2?++Ce:0)]=1,M.depth[q]=0,M.opt_len--,ce&&(M.static_len-=fe[2*q+1]);for(H.max_code=Ce,re=M.heap_len>>1;1<=re;re--)$e(M,ue,re);for(q=_e;re=M.heap[1],M.heap[1]=M.heap[M.heap_len--],$e(M,ue,1),se=M.heap[1],M.heap[--M.heap_max]=re,M.heap[--M.heap_max]=se,ue[2*q]=ue[2*re]+ue[2*se],M.depth[q]=(M.depth[re]>=M.depth[se]?M.depth[re]:M.depth[se])+1,ue[2*re+1]=ue[2*se+1]=q,M.heap[1]=q++,$e(M,ue,1),2<=M.heap_len;);M.heap[--M.heap_max]=M.heap[1],function(be,At){var ni,hn,Zi,Be,es,Bs,fn=At.dyn_tree,mu=At.max_code,Fh=At.stat_desc.static_tree,da=At.stat_desc.has_stree,gu=At.stat_desc.extra_bits,ha=At.stat_desc.extra_base,zn=At.stat_desc.max_length,ri=0;for(Be=0;Be<=E;Be++)be.bl_count[Be]=0;for(fn[2*be.heap[be.heap_max]+1]=0,ni=be.heap_max+1;ni<g;ni++)zn<(Be=fn[2*fn[2*(hn=be.heap[ni])+1]+1]+1)&&(Be=zn,ri++),fn[2*hn+1]=Be,mu<hn||(be.bl_count[Be]++,es=0,ha<=hn&&(es=gu[hn-ha]),Bs=fn[2*hn],be.opt_len+=Bs*(Be+es),da&&(be.static_len+=Bs*(Fh[2*hn+1]+es)));if(ri!==0){do{for(Be=zn-1;be.bl_count[Be]===0;)Be--;be.bl_count[Be]--,be.bl_count[Be+1]+=2,be.bl_count[zn]--,ri-=2}while(0<ri);for(Be=zn;Be!==0;Be--)for(hn=be.bl_count[Be];hn!==0;)mu<(Zi=be.heap[--ni])||(fn[2*Zi+1]!==Be&&(be.opt_len+=(Be-fn[2*Zi+1])*fn[2*Zi],fn[2*Zi+1]=Be),hn--)}}(M,H),ie(ue,Ce,M.bl_count)}function C(M,H,re){var se,q,ue=-1,fe=H[1],ce=0,_e=7,Ce=4;for(fe===0&&(_e=138,Ce=3),H[2*(re+1)+1]=65535,se=0;se<=re;se++)q=fe,fe=H[2*(se+1)+1],++ce<_e&&q===fe||(ce<Ce?M.bl_tree[2*q]+=ce:q!==0?(q!==ue&&M.bl_tree[2*q]++,M.bl_tree[2*N]++):ce<=10?M.bl_tree[2*O]++:M.bl_tree[2*V]++,ue=q,Ce=(ce=0)===fe?(_e=138,3):q===fe?(_e=6,3):(_e=7,4))}function Z(M,H,re){var se,q,ue=-1,fe=H[1],ce=0,_e=7,Ce=4;for(fe===0&&(_e=138,Ce=3),se=0;se<=re;se++)if(q=fe,fe=H[2*(se+1)+1],!(++ce<_e&&q===fe)){if(ce<Ce)for(;ne(M,q,M.bl_tree),--ce!=0;);else q!==0?(q!==ue&&(ne(M,q,M.bl_tree),ce--),ne(M,N,M.bl_tree),oe(M,ce-3,2)):ce<=10?(ne(M,O,M.bl_tree),oe(M,ce-3,3)):(ne(M,V,M.bl_tree),oe(M,ce-11,7));ue=q,Ce=(ce=0)===fe?(_e=138,3):q===fe?(_e=6,3):(_e=7,4)}}l(B);var X=!1;function F(M,H,re,se){oe(M,(u<<1)+(se?1:0),3),function(q,ue,fe,ce){Ee(q),ce&&(J(q,fe),J(q,~fe)),s.arraySet(q.pending_buf,q.window,ue,fe,q.pending),q.pending+=fe}(M,H,re,!0)}i._tr_init=function(M){X||(function(){var H,re,se,q,ue,fe=new Array(E+1);for(q=se=0;q<h-1;q++)for(G[q]=se,H=0;H<1<<S[q];H++)R[se++]=q;for(R[se-1]=q,q=ue=0;q<16;q++)for(B[q]=ue,H=0;H<1<<b[q];H++)j[ue++]=q;for(ue>>=7;q<m;q++)for(B[q]=ue<<7,H=0;H<1<<b[q]-7;H++)j[256+ue++]=q;for(re=0;re<=E;re++)fe[re]=0;for(H=0;H<=143;)L[2*H+1]=8,H++,fe[8]++;for(;H<=255;)L[2*H+1]=9,H++,fe[9]++;for(;H<=279;)L[2*H+1]=7,H++,fe[7]++;for(;H<=287;)L[2*H+1]=8,H++,fe[8]++;for(ie(L,p+1,fe),H=0;H<m;H++)A[2*H+1]=5,A[2*H]=Ie(H,5);le=new K(L,S,f+1,p,E),Y=new K(A,b,0,m,E),$=new K(new Array(0),k,0,v,_)}(),X=!0),M.l_desc=new z(M.dyn_ltree,le),M.d_desc=new z(M.dyn_dtree,Y),M.bl_desc=new z(M.bl_tree,$),M.bi_buf=0,M.bi_valid=0,me(M)},i._tr_stored_block=F,i._tr_flush_block=function(M,H,re,se){var q,ue,fe=0;0<M.level?(M.strm.data_type===2&&(M.strm.data_type=function(ce){var _e,Ce=4093624447;for(_e=0;_e<=31;_e++,Ce>>>=1)if(1&Ce&&ce.dyn_ltree[2*_e]!==0)return o;if(ce.dyn_ltree[18]!==0||ce.dyn_ltree[20]!==0||ce.dyn_ltree[26]!==0)return a;for(_e=32;_e<f;_e++)if(ce.dyn_ltree[2*_e]!==0)return a;return o}(M)),Qt(M,M.l_desc),Qt(M,M.d_desc),fe=function(ce){var _e;for(C(ce,ce.dyn_ltree,ce.l_desc.max_code),C(ce,ce.dyn_dtree,ce.d_desc.max_code),Qt(ce,ce.bl_desc),_e=v-1;3<=_e&&ce.bl_tree[2*P[_e]+1]===0;_e--);return ce.opt_len+=3*(_e+1)+5+5+4,_e}(M),q=M.opt_len+3+7>>>3,(ue=M.static_len+3+7>>>3)<=q&&(q=ue)):q=ue=re+5,re+4<=q&&H!==-1?F(M,H,re,se):M.strategy===4||ue===q?(oe(M,2+(se?1:0),3),yt(M,L,A)):(oe(M,4+(se?1:0),3),function(ce,_e,Ce,be){var At;for(oe(ce,_e-257,5),oe(ce,Ce-1,5),oe(ce,be-4,4),At=0;At<be;At++)oe(ce,ce.bl_tree[2*P[At]+1],3);Z(ce,ce.dyn_ltree,_e-1),Z(ce,ce.dyn_dtree,Ce-1)}(M,M.l_desc.max_code+1,M.d_desc.max_code+1,fe+1),yt(M,M.dyn_ltree,M.dyn_dtree)),me(M),se&&Ee(M)},i._tr_tally=function(M,H,re){return M.pending_buf[M.d_buf+2*M.last_lit]=H>>>8&255,M.pending_buf[M.d_buf+2*M.last_lit+1]=255&H,M.pending_buf[M.l_buf+M.last_lit]=255&re,M.last_lit++,H===0?M.dyn_ltree[2*re]++:(M.matches++,H--,M.dyn_ltree[2*(R[re]+f+1)]++,M.dyn_dtree[2*U(H)]++),M.last_lit===M.lit_bufsize-1},i._tr_align=function(M){oe(M,2,3),ne(M,x,L),function(H){H.bi_valid===16?(J(H,H.bi_buf),H.bi_buf=0,H.bi_valid=0):8<=H.bi_valid&&(H.pending_buf[H.pending++]=255&H.bi_buf,H.bi_buf>>=8,H.bi_valid-=8)}(M)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,h,f,p=1,m={},v=!1,g=o.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(o);E=E&&E.setTimeout?E:o,l={}.toString.call(o.process)==="[object process]"?function(N){process.nextTick(function(){_(N)})}:function(){if(o.postMessage&&!o.importScripts){var N=!0,O=o.onmessage;return o.onmessage=function(){N=!1},o.postMessage("","*"),o.onmessage=O,N}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(N){o.postMessage(f+N,"*")}):o.MessageChannel?((h=new MessageChannel).port1.onmessage=function(N){_(N.data)},function(N){h.port2.postMessage(N)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(N){var O=g.createElement("script");O.onreadystatechange=function(){_(N),O.onreadystatechange=null,u.removeChild(O),O=null},u.appendChild(O)}):function(N){setTimeout(_,0,N)},E.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var O=new Array(arguments.length-1),V=0;V<O.length;V++)O[V]=arguments[V+1];var S={callback:N,args:O};return m[p]=S,l(p),p++},E.clearImmediate=y}function y(N){delete m[N]}function _(N){if(v)setTimeout(_,0,N);else{var O=m[N];if(O){v=!0;try{(function(V){var S=V.callback,b=V.args;switch(b.length){case 0:S();break;case 1:S(b[0]);break;case 2:S(b[0],b[1]);break;case 3:S(b[0],b[1],b[2]);break;default:S.apply(a,b)}})(O)}finally{y(N),v=!1}}}}function x(N){N.source===o&&typeof N.data=="string"&&N.data.indexOf(f)===0&&_(+N.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Rr<"u"?Rr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(kI);var l8=kI.exports;const u8=L1(l8);var II={exports:{}};(function(t,e){(function(n,r){r()})(Rr,function(){function n(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,h,f){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){l(p.response,h,f)},p.onerror=function(){console.error("could not download file")},p.send()}function i(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Rr=="object"&&Rr.global===Rr?Rr:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,h,f){var p=o.URL||o.webkitURL,m=document.createElement("a");h=h||u.name||"download",m.download=h,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?s(m):i(m.href)?r(u,h,f):s(m,m.target="_blank")):(m.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(m.href)},4e4),setTimeout(function(){s(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,f){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),h);else if(i(u))r(u,h,f);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){s(p)})}}:function(u,h,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return r(u,h,f);var m=u.type==="application/octet-stream",v=/constructor/i.test(o.HTMLElement)||o.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||m&&v||a)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var x=E.result;x=g?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=x:location=x,p=null},E.readAsDataURL(u)}else{var y=o.URL||o.webkitURL,_=y.createObjectURL(u);p?p.location=_:location.href=_,p=null,setTimeout(function(){y.revokeObjectURL(_)},4e4)}});o.saveAs=l.saveAs=l,t.exports=l})})(II);var c8=II.exports;async function d8(t){const e=new u8;t.forEach((r,i)=>{const s=`Q${i+1} - ${r.question.slice(0,50)}`,o=e.folder(s);r.skipped?o.file("skipped.txt","This question was skipped."):(r.audioBlob&&o.file("audio.webm",r.audioBlob),r.videoBlob&&o.file("video.webm",r.videoBlob),r.transcript&&o.file("transcript.txt",r.transcript),r.feedback&&o.file("feedback.txt",r.feedback))});const n=await e.generateAsync({type:"blob"});c8.saveAs(n,"interview.zip")}const h8=["thank you for watching","share this video","subscribe","like and subscribe","I'm still here. I'm still here. I'm still here.","Shh.","Thank you so much for watching","Thank you.","follow me on","Thank you"];function f8(t){if(!t||t.trim().length===0)return!1;const e=t.trim().toLowerCase();return!h8.some(n=>e.includes(n))}const dc=t=>Math.max(0,Math.min(100,Number.isFinite(+t)?+t:0));function Fc(t){var e,n,r;if(!t)return null;if(typeof t=="object")return{overallScore:dc(t.overallScore),sectionScores:{overallImpression:dc((e=t.sectionScores)==null?void 0:e.overallImpression),clarityStructure:dc((n=t.sectionScores)==null?void 0:n.clarityStructure),content:dc((r=t.sectionScores)==null?void 0:r.content)},summary:t.summary||"",suggestions:Array.isArray(t.suggestions)?t.suggestions:[],rubricVersion:t.rubricVersion||"v1"};if(typeof t=="string"){const i=t.match(/\{[\s\S]*\}$/);if(i)try{return Fc(JSON.parse(i[0]))}catch{}return{legacyHtml:t}}return null}function p8(){const{profession:t}=nh(),e=t?`/${t}`:"/dental",n=nn(),r=$n(),i=n.state||{},{recordings:s=[],profession:o,totalSessionTime:a=0}=i,l=T.useMemo(()=>{const S=Math.floor(a/60),b=a%60;return`${S}:${b.toString().padStart(2,"0")}`},[a]),[u,h]=T.useState({}),[f,p]=T.useState([]),[m,v]=T.useState(null),g=T.useMemo(()=>s.length?Math.round((m??0)/s.length*100):0,[m,s.length]),E=T.useMemo(()=>f.filter(S=>!(S!=null&&S.skipped)&&((S==null?void 0:S.audioUrl)||(S==null?void 0:S.videoUrl))).length,[f]);T.useMemo(()=>f.filter(S=>S==null?void 0:S.skipped).length,[f]),T.useMemo(()=>s.length?Math.round(E/s.length*100):0,[E,s.length]);const y=T.useMemo(()=>s.filter(S=>S&&!S.skipped).length,[s]),_=T.useMemo(()=>f.filter(S=>!(S!=null&&S.skipped)&&(S==null?void 0:S.feedback)).map(S=>({...S,feedback:Fc(S.feedback)})).filter(S=>S.feedback&&Number.isFinite(+S.feedback.overallScore)),[f]),x=T.useMemo(()=>{if(!_.length)return 0;const S=_.reduce((b,k)=>b+(+k.feedback.overallScore||0),0);return Math.round(S/_.length)},[_]),N=12,O=async S=>{try{await navigator.clipboard.writeText(S||"")}catch{}};T.useEffect(()=>{let S=!1;return(async()=>{const k=[];for(let P=0;P<s.length;P++){if(S)return;const L=s[P];if(L.skipped||!L.audioUrl){k.push({...L,originalIndex:P,transcript:null,feedback:null});continue}v(P);try{const j=await(await fetch(L.audioUrl)).blob(),R=await o8(j);if(R.limitReached){alert(R.error||"Weve noticed unusually heavy usage on your account. To ensure fair access for all users, weve temporarily paused usage. If you believe this is a mistake, please contact support."),r(`${e}/dashboard`);return}let G=R.transcript||"",le=null;f8(G)?le=await a8(L.question,G,o):(le="No meaningful response detected. Skipping feedback.",G=""),k.push({...L,originalIndex:P,transcript:G,feedback:le})}catch(A){console.error(`Error processing response ${P+1}`,A),k.push({...L,originalIndex:P,transcript:"Error",feedback:"Error generating feedback"})}}S||(p(k),v(null))})(),()=>{S=!0}},[s,o,e,r]);const V=T.useMemo(()=>[...f].sort((S,b)=>S.skipped&&!b.skipped?1:!S.skipped&&b.skipped?-1:0),[f]);return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("header",{className:"border-b border-border bg-card",children:d.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(It,{variant:"ghost",size:"sm",onClick:()=>r(`${e}/dashboard`),className:"text-muted-foreground hover:text-foreground",children:[d.jsx(Vm,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),d.jsx(cs,{variant:"outline",children:"Practice Session Complete"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[f.length>0&&d.jsxs(It,{variant:"outline",onClick:()=>d8(f),children:[d.jsx(wF,{className:"h-4 w-4 mr-2"})," Download ZIP"]}),d.jsx(It,{onClick:()=>r(`${e}/setup`),children:"Start New Session"})]})]})}),d.jsxs("main",{className:"container mx-auto px-4 py-8",children:[d.jsxs(ws,{className:"mb-8",children:[d.jsxs(Ld,{className:"text-center",children:[d.jsx("div",{className:"mx-auto w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(lF,{className:"h-10 w-10 text-primary"})}),d.jsx(Md,{className:"text-2xl",children:"Session Complete!"}),d.jsx("p",{className:"text-muted-foreground",children:"Here's your detailed feedback and performance analysis"})]}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("div",{className:"text-4xl font-bold text-foreground mb-2",children:[x,"%"]}),d.jsx("p",{className:"text-muted-foreground",children:"Overall Score"}),d.jsx(dl,{value:x,className:"mt-4 h-3"})]}),d.jsx(xs,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"text-center p-4 bg-card rounded-lg border",children:[d.jsx(Fm,{className:"h-6 w-6 text-primary mx-auto mb-2"}),d.jsx("div",{className:"text-xl font-semibold",children:l}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Time"})]}),d.jsxs("div",{className:"text-center p-4 bg-card rounded-lg border",children:[d.jsx(aI,{className:"h-6 w-6 text-primary mx-auto mb-2"}),d.jsx("div",{className:"text-xl font-semibold",children:y}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Questions"})]}),d.jsxs("div",{className:"text-center p-4 bg-card rounded-lg border",children:[d.jsx(MF,{className:"h-6 w-6 text-primary mx-auto mb-2"}),d.jsxs("div",{className:"text-xl font-semibold",children:["+",N,"%"]}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Improvement"})]})]})})]}),f.length===0?d.jsx(ws,{children:d.jsxs(xs,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d.jsx(Fm,{className:"h-4 w-4"}),d.jsx("span",{children:"Transcribing and analyzing your responses"})]}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[g,"%"]})]}),d.jsx(dl,{value:g,className:"h-2"}),m!==null&&d.jsxs("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:["Processing response ",m+1," of ",s.length]})]})}):d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:V.map(S=>d.jsxs(ws,{className:"overflow-hidden",children:[d.jsxs(Ld,{className:"pb-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(Md,{className:"text-base",children:["Question ",(S.originalIndex??0)+1]}),(()=>{const b=Fc(S.feedback);if(S.skipped)return d.jsx(cs,{variant:"destructive",children:"Skipped"});if(!b)return d.jsx(cs,{variant:"secondary",children:"No score"});if(b.legacyHtml)return d.jsx(cs,{variant:"secondary",children:"Feedback"});const k=Math.round(b.overallScore||0),P=k>=80?"default":k>=70?"secondary":"destructive";return d.jsxs(cs,{variant:P,children:[k,"%"]})})()]}),d.jsx("p",{className:"mt-2 text-sm text-muted-foreground leading-relaxed",children:S.question})]}),d.jsxs(xs,{className:"space-y-4",children:[!S.skipped&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(zF,{className:"h-4 w-4"})," Your Response"]}),S.videoUrl?d.jsx("div",{className:"relative w-full rounded-lg border bg-black/5",style:{aspectRatio:"16 / 9"},children:d.jsx("video",{controls:!0,className:"absolute inset-0 h-full w-full rounded object-cover",src:S.videoUrl,preload:"metadata",onLoadedMetadata:b=>{const k=b.currentTarget;if(!isFinite(k.duration)||isNaN(k.duration)){k.currentTime=Number.MAX_SAFE_INTEGER;const P=()=>{k.removeEventListener("timeupdate",P),k.currentTime=0};k.addEventListener("timeupdate",P)}}})}):d.jsx("audio",{controls:!0,src:S.audioUrl,className:"w-full rounded"})]}),S.tip&&d.jsxs("div",{className:"bg-card/50 border rounded-lg p-3",children:[d.jsx("button",{onClick:()=>h(b=>({...b,[S.originalIndex]:!b[S.originalIndex]})),className:"text-sm text-primary underline",children:u[S.originalIndex]?"Hide Tip":"Show Tip"}),u[S.originalIndex]&&d.jsx("p",{className:"mt-2 text-sm italic text-muted-foreground",children:S.tip})]}),!S.skipped&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"rounded-lg border bg-gray-50 p-3",children:[d.jsxs("p",{className:"font-medium text-sm flex items-center gap-2 mb-1",children:[d.jsx(EF,{className:"h-4 w-4"})," Transcript"]}),d.jsx("p",{className:"text-sm whitespace-pre-wrap text-foreground/90",children:S.transcript}),!!S.transcript&&d.jsx("div",{className:"mt-2",children:d.jsxs(It,{variant:"outline",size:"sm",onClick:()=>O(S.transcript),children:[d.jsx(yF,{className:"h-4 w-4 mr-2"})," Copy transcript"]})})]}),(()=>{var P,L,A;const b=Fc(S.feedback);if(!b)return null;if(b.legacyHtml)return d.jsxs("div",{className:"rounded-lg border bg-yellow-50 p-3",children:[d.jsx("p",{className:"font-medium text-sm mb-1",children:"Feedback"}),d.jsx("div",{className:"text-sm text-foreground/90 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:b.legacyHtml}})]});const k=[["Overall Impression",(P=b.sectionScores)==null?void 0:P.overallImpression],["Clarity & Structure",(L=b.sectionScores)==null?void 0:L.clarityStructure],["Content",(A=b.sectionScores)==null?void 0:A.content]];return d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"rounded-lg border bg-card p-3",children:[d.jsx("p",{className:"font-medium text-sm mb-2",children:"Section Scores"}),k.map(([j,R])=>d.jsxs("div",{className:"mb-2",children:[d.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[d.jsx("span",{className:"text-muted-foreground",children:j}),d.jsxs("span",{className:"text-foreground",children:[Math.round(R??0),"%"]})]}),d.jsx(dl,{value:Math.round(R??0),className:"h-2"})]},j))]}),d.jsxs("div",{className:"rounded-lg border bg-yellow-50 p-3",children:[d.jsx("p",{className:"font-medium text-sm mb-1",children:"Feedback Summary"}),d.jsx("p",{className:"text-sm text-foreground/90 whitespace-pre-wrap",children:b.summary}),Array.isArray(b.suggestions)&&b.suggestions.length>0&&d.jsx("ul",{className:"mt-2 list-disc list-inside text-sm text-foreground/90",children:b.suggestions.map((j,R)=>d.jsx("li",{children:j},R))})]})]})})()]})]})]},S.originalIndex??S.question))})]})]})}function m8(){const[t,e]=T.useState(!1),[n,r]=T.useState([]),[i,s]=T.useState(!0),o=$n();T.useEffect(()=>{const l=Zo(Dn,async u=>{if(!u){o("/login");return}try{if(await u.reload(),u.emailVerified){const m=Qr(vn,"users",u.uid);await Vy(m,{emailVerified:!0})}const h=Qr(vn,"users",u.uid),f=await My(h);(f.exists()?f.data():{}).role==="admin"?(e(!0),a()):o("/")}catch(h){console.error("Access check failed:",h),o("/")}});return()=>l()},[o]);const a=async()=>{try{const u=(await kh($l(vn,"users"))).docs.map(h=>({id:h.id,...h.data()}));r(u)}catch(l){console.error("Error fetching users:",l)}finally{s(!1)}};return t?d.jsx("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:d.jsxs(Ga,{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),d.jsx(tt,{to:"/admin/questions",children:d.jsx(nv,{type:"primary",children:" Manage Questions"})})]}),i?d.jsx("p",{children:"Loading users..."}):d.jsxs("table",{className:"w-full border text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100",children:[d.jsx("th",{className:"border px-2 py-1 text-left",children:"Name"}),d.jsx("th",{className:"border px-2 py-1 text-left",children:"Email"}),d.jsx("th",{className:"border px-2 py-1",children:"Verified"}),d.jsx("th",{className:"border px-2 py-1",children:"Trial Ends"}),d.jsx("th",{className:"border px-2 py-1",children:"Paid"}),d.jsx("th",{className:"border px-2 py-1",children:"Usage"}),d.jsx("th",{className:"border px-2 py-1",children:"Role"})]})}),d.jsx("tbody",{children:n.map(l=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-2 py-1",children:l.name||""}),d.jsx("td",{className:"border px-2 py-1",children:l.email}),d.jsx("td",{className:"border px-2 py-1 text-center",children:l.emailVerified?"":""}),d.jsx("td",{className:"border px-2 py-1 text-center",children:l.trialExpiresAt?new Date(l.trialExpiresAt).toLocaleString():""}),d.jsx("td",{className:"border px-2 py-1 text-center",children:l.hasPaid?"":""}),d.jsx("td",{className:"border px-2 py-1 text-center",children:l.usageCount??0}),d.jsx("td",{className:"border px-2 py-1 text-center",children:l.role||"user"})]},l.id))})]})]})}):null}const ep=["Dental","Medical","Physical Therapy","Physician Assistant","Pharmacy","Occupational Therapy","Veterinary Medicine"],D1=["Ethical","Behavioral","Teamwork","Leadership","Communication"];function g8(){const[t,e]=T.useState([]),[n,r]=T.useState(""),[i,s]=T.useState([]),[o,a]=T.useState(""),[l,u]=T.useState(!1),[h,f]=T.useState(""),[p,m]=T.useState(""),[v,g]=T.useState(null),[E,y]=T.useState({});$n(),T.useEffect(()=>{(async()=>{const L=(await kh($l(vn,"questions"))).docs.map(A=>({id:A.id,...A.data()}));e(L)})()},[]);const _=k=>{s(P=>P.includes(k)?P.filter(L=>L!==k):[...P,k])},x=k=>{y(P=>({...P,mainTags:P.mainTags.includes(k)?P.mainTags.filter(L=>L!==k):[...P.mainTags,k]}))},N=async k=>{if(k.preventDefault(),m(""),!n.trim()||i.length===0){m("Please complete all fields.");return}const P={text:n.trim(),subtag:o,tip:h.trim(),big3:l,mainTags:i,createdAt:new Date};try{const L=await bL($l(vn,"questions"),P);e(A=>[...A,{...P,id:L.id}]),r(""),s([]),a(""),u(!1),f("")}catch(L){m("Failed to add question."),console.error(L)}},O=async k=>{try{await EL(Qr(vn,"questions",k)),e(P=>P.filter(L=>L.id!==k))}catch(P){console.error("Delete failed:",P)}},V=k=>{g(k.id),y({text:k.text,subtag:k.subtag,mainTags:k.mainTags||[],big3:k.big3||!1,tip:k.tip||""})},S=()=>{g(null),y({})},b=async k=>{if(!E.text.trim()||E.mainTags.length===0){alert("All fields required");return}try{await Vy(Qr(vn,"questions",k),{...E,text:E.text.trim()}),e(P=>P.map(L=>L.id===k?{...L,...E,text:E.text.trim()}:L)),g(null),y({})}catch(P){console.error("Update failed:",P)}};return d.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Admin: Question Manager"}),d.jsxs("form",{onSubmit:N,className:"space-y-4 p-4 border rounded-lg shadow-sm bg-white",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Add a New Question"}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium mb-1",children:"Question Text"}),d.jsx("textarea",{value:n,onChange:k=>r(k.target.value),className:"w-full border p-2 rounded",rows:3})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium mb-1",children:"Main Tags"}),d.jsx("div",{className:"flex gap-4 flex-wrap",children:ep.map(k=>d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:i.includes(k),onChange:()=>_(k)}),k]},k))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium mb-1",children:"Subtag"}),d.jsxs("select",{value:o,onChange:k=>a(k.target.value),className:"w-full border p-2 rounded",children:[d.jsx("option",{value:"",children:"-- Select a subtag --"}),D1.map(k=>d.jsx("option",{value:k,children:k},k))]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:l,onChange:k=>u(k.target.checked)}),d.jsx("label",{children:"Include as Big 3 question"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium mb-1",children:"Tip (optional)"}),d.jsx("textarea",{value:h,onChange:k=>f(k.target.value),className:"w-full border p-2 rounded",rows:2,placeholder:"e.g., Tie your answer to a healthcare scenario"})]}),p&&d.jsx("p",{className:"text-red-600",children:p}),d.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add Question"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Existing Questions"}),t.length===0?d.jsx("p",{children:"No questions found."}):d.jsx("ul",{className:"space-y-2",children:t.map(k=>{var P,L;return d.jsx("li",{className:"p-3 border rounded shadow-sm bg-white",children:v===k.id?d.jsxs("div",{className:"space-y-2",children:[d.jsx("textarea",{value:E.text,onChange:A=>y(j=>({...j,text:A.target.value})),className:"w-full border p-2 rounded",rows:3}),d.jsx("div",{className:"flex gap-4 flex-wrap",children:ep.map(A=>d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:E.mainTags.includes(A),onChange:()=>x(A)}),A]},A))}),d.jsxs("select",{value:E.subtag,onChange:A=>y(j=>({...j,subtag:A.target.value})),className:"w-full border p-2 rounded",children:[d.jsx("option",{value:"",children:"-- Select a subtag --"}),D1.map(A=>d.jsx("option",{value:A,children:A},A))]}),d.jsxs("label",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"checkbox",checked:E.big3,onChange:A=>y(j=>({...j,big3:A.target.checked}))}),"Big 3"]}),d.jsx("textarea",{value:E.tip,onChange:A=>y(j=>({...j,tip:A.target.value})),className:"w-full border p-2 rounded",rows:2,placeholder:"Tip (optional)"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"bg-green-600 text-white px-3 py-1 rounded",onClick:()=>b(k.id),children:"Save"}),d.jsx("button",{className:"text-gray-600 underline",onClick:S,children:"Cancel"})]})]}):d.jsxs("div",{className:"flex justify-between items-start gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:k.text}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Tags:"," ",((P=k.mainTags)==null?void 0:P.length)===ep.length?"All":(L=k.mainTags)==null?void 0:L.join(", ")," ","| Subtag: ",k.subtag||"None"," | Big3: ",k.big3?"Yes":"No"]})]}),d.jsxs("div",{className:"flex flex-col gap-1 items-end",children:[d.jsx("button",{onClick:()=>V(k),className:"text-sm text-blue-600 hover:underline",children:"Edit"}),d.jsx("button",{onClick:()=>O(k.id),className:"text-sm text-red-600 hover:underline",children:"Delete"})]})]})},k.id)})})]})]})}function y8(){const[t,e]=T.useState(null);T.useEffect(()=>{const o=Zo(Dn,e);return()=>o()},[]);const n=qt==null?void 0:qt(),r=t?n!=null&&n.slug?`/${n.slug}/setup`:"/dental/setup":"/signup",i=[{name:"Free Trial",price:"$0",desc:"Perfect for getting started",features:["2 Practice Interviews","Video Recording","Advanced Feedback"],cta:t?"Start free practice":"Create free account",href:r,highlight:!1},{name:"Premium",price:"$29/year",desc:"Full access for serious preparation",features:["Unlimited practice interviews","Advanced feedback with tips","Saved sessions & progress","Priority email support"],cta:t?"Upgrade to Premium":"Create account",href:r,highlight:!0},{name:"1:1 Mock",price:"$75/hour",desc:"Live mock interview with feedback.",features:["60minute live session","Detailed notes & action plan","Followup Q&A by email"],cta:"Request a session",href:"/contact",highlight:!1}],s=[{q:"Can I switch programs?",a:"Yes. Use the program switcher in the header at any time."},{q:"Do you offer refunds?",a:"If the product is not a fit, contact us within 7 days and we'll make it right."},{q:"Is my data private?",a:"We only store what's necessary for your account and progress. See our Privacy page for details."}];return d.jsxs("main",{children:[d.jsx("section",{className:"border-b bg-white",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:[d.jsx("h1",{className:"text-4xl font-semibold tracking-tight text-gray-900",children:"Pricing"}),d.jsx("p",{className:"mt-3 max-w-2xl text-lg text-gray-600",children:"Simple, studentfriendly pricing for a full application cycle."})]})}),d.jsx("section",{className:"bg-gray-50",children:d.jsx("div",{className:"mx-auto grid max-w-7xl grid-cols-1 gap-6 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8",children:i.map(o=>d.jsxs("div",{className:`rounded-2xl border bg-white p-6 ${o.highlight?"ring-2 ring-gray-900":""}`,children:[d.jsxs("div",{className:"flex items-baseline justify-between",children:[d.jsx("h3",{className:"text-base font-semibold text-gray-900",children:o.name}),d.jsx("div",{className:"text-xl font-semibold text-gray-900",children:o.price})]}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:o.desc}),d.jsx("ul",{className:"mt-4 space-y-2 text-sm text-gray-700",children:o.features.map(a=>d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"mt-1 inline-block h-1.5 w-1.5 rounded-full bg-teal-500","aria-hidden":"true"}),a]},a))}),d.jsx("div",{className:"mt-6",children:d.jsx(tt,{to:o.href,className:`block w-full rounded-xl px-4 py-2.5 text-center text-sm font-medium ${o.highlight?"bg-gray-900 text-white hover:bg-gray-800":"border border-gray-300 text-gray-800 hover:bg-gray-100"}`,children:o.cta})})]},o.name))})}),d.jsx("section",{className:"border-t bg-white",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"FAQs"}),d.jsx("dl",{className:"mt-6 grid gap-6 md:grid-cols-3",children:s.map(o=>d.jsxs("div",{className:"rounded-2xl border p-6",children:[d.jsx("dt",{className:"text-sm font-semibold text-gray-900",children:o.q}),d.jsx("dd",{className:"mt-2 text-sm text-gray-600",children:o.a})]},o.q))})]})})]})}function v8(){const{slug:t}=qt()||{},e=t?`/${t}`:"/dental",n=[{title:"Ethical Frameworks Cheat Sheet",to:`${e}/resources/ethics`},{title:"STAR / SPIKES Communication",to:`${e}/resources/communication`},{title:"Common Pitfalls & How to Avoid Them",to:`${e}/resources/pitfalls`}],r=[{title:"Interview Tips (PDF)",href:"/public/resources/interview-tips.pdf"},{title:"Interview Day Checklist (PDF)",href:"/public/resources/checklist.pdf"},{title:"Thank-You Email Samples (PDF)",href:"/public/resources/thank-you.pdf"}];return d.jsxs("main",{children:[d.jsx("section",{className:"border-b bg-white",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:[d.jsx("h1",{className:"text-4xl font-semibold tracking-tight text-gray-900",children:"Resources"}),d.jsx("p",{className:"mt-3 max-w-2xl text-lg text-gray-600",children:"Curated guides, templates, and tools for high-confidence interview prep."})]})}),d.jsx("section",{className:"bg-gray-50",children:d.jsxs("div",{className:"mx-auto grid max-w-7xl grid-cols-1 gap-8 px-4 py-16 sm:px-6 md:grid-cols-2 lg:px-8",children:[d.jsxs("div",{className:"rounded-2xl border bg-white p-6",children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Guides"}),d.jsx("ul",{className:"mt-4 space-y-3 text-sm text-gray-700",children:n.map(i=>d.jsx("li",{children:d.jsx(tt,{to:i.to,className:"hover:underline",children:i.title})},i.title))})]}),d.jsxs("div",{className:"rounded-2xl border bg-white p-6",children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Downloads"}),d.jsx("ul",{className:"mt-4 space-y-3 text-sm text-gray-700",children:r.map(i=>d.jsx("li",{children:d.jsx("a",{href:i.href,className:"hover:underline",download:!0,children:i.title})},i.title))})]})]})}),d.jsx("section",{className:"border-t bg-white",children:d.jsx("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"rounded-2xl bg-gray-50 p-6",children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Office hours"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Have questions? We love helping applicants. Email"," ",d.jsx("a",{className:"underline",href:"mailto:kam.interviewprep@gmail.com",children:"kam.interviewprep@gmail.com"}),"."]})]})})})]})}function ov({title:t,subtitle:e,children:n}){return d.jsxs("main",{className:"bg-gray-50",children:[d.jsx("section",{className:"border-b bg-white",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-10 sm:px-6 lg:px-8",children:[d.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-gray-900",children:t}),e&&d.jsx("p",{className:"mt-2 max-w-2xl text-gray-600",children:e})]})}),d.jsx("section",{children:d.jsx("div",{className:"mx-auto max-w-7xl px-4 py-10 sm:px-6 lg:px-8",children:d.jsx("div",{className:`
              rounded-2xl border bg-white p-6 shadow-sm
              [&_h2]:mt-8 [&_h2]:text-xl [&_h2]:font-semibold [&_h2]:text-gray-900
              [&_h3]:mt-6 [&_h3]:text-base [&_h3]:font-semibold [&_h3]:text-gray-900
              [&_p]:text-gray-700 [&_p]:leading-7
              [&_ul]:list-disc [&_ul]:pl-6 [&_li]:marker:text-gray-400
              [&_blockquote]:border-l-4 [&_blockquote]:pl-4 [&_blockquote]:text-gray-800 [&_blockquote]:italic
              [&_a]:text-teal-700 hover:[&_a]:underline
            `,children:n})})})]})}function _8(){const{slug:t}=qt()||{},e={dental:"Dental",medical:"Medical"}[t]||"Healthcare",n=t?`/${t}`:"/dental";return d.jsxs(ov,{title:"Ethical Frameworks Cheat Sheet",subtitle:"Apply consistent, patient-centered reasoning under pressure.",children:[d.jsx("h2",{children:"Why ethics matter in interviews"}),d.jsx("p",{children:"Ethical scenarios test judgment, empathy, and professionalism. Schools want to see that you can reason transparently, balance stakeholder interests, and uphold patient safety and dignityespecially in ambiguous situations."}),d.jsx("h2",{children:"Core principles (use as a compass)"}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Autonomy:"})," respect informed choices; check understanding and capacity."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Beneficence:"})," act in the patients best interests; seek meaningful benefit."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Non-maleficence:"})," avoid harm; consider risks and safer alternatives."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Justice:"})," fairness in access, resources, and triage; avoid bias."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Accountability & fidelity:"})," follow standards/policies; be honest about limits."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Confidentiality:"})," protect privacy; know exceptions (imminent harm, legal duty)."]})]}),d.jsx("h2",{children:"A structured approach (how to answer)"}),d.jsxs("ol",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Clarify the scenario:"})," stakeholders, facts, missing information, urgency."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Surface the conflict:"})," which principles are in tension (e.g., autonomy vs safety)?"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Generate options:"})," list feasible paths (incl. watchful waiting) and likely outcomes."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Evaluate trade-offs:"})," risks, benefits, fairness, feasibility, consent."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Decide & justify:"})," choose an option and explain how it honors the principles."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Communicate next steps:"})," document, involve team/supervisor, safety-net, follow-up."]})]}),d.jsx("h2",{children:"Common ethical themes"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Capacity & consent (language barriers, intoxication, cognitive impairment)"}),d.jsx("li",{children:"Resource constraints & fairness (overbooking, emergency triage, rural access)"}),d.jsx("li",{children:"Confidentiality vs duty to warn (harm to self/others, public health)"}),d.jsx("li",{children:"Boundary issues, gifts, social media, conflicts of interest"})]}),e==="Dental"&&d.jsxs(d.Fragment,{children:[d.jsxs("h2",{children:[e,": frequent ethics scenarios"]}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Treatment necessity vs cosmetics:"})," communicate risks, alternatives, and costs clearly; avoid upselling."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Infection control & disclosure:"})," adhere to protocols; be transparent about exposure/incidents."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Anxious/minor patients:"})," assent, parental consent, pain control, trauma-informed care."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Financial hardship:"})," discuss staged care, referrals, or school/clinic resources without compromising safety."]})]})]}),e==="Medical"&&d.jsxs(d.Fragment,{children:[d.jsxs("h2",{children:[e,": frequent ethics scenarios"]}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Refusal of care with capacity:"})," verify understanding, document, and safety-net."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Disclosing errors:"})," prompt, honest disclosure; apology; systems learning."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"End-of-life goals:"})," align care with values; weigh burdens vs benefits."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Dual obligations:"})," advocate for patient while respecting team protocols and constraints."]})]})]}),d.jsx("h2",{children:"Answer starter (use and adapt)"}),d.jsxs("p",{children:["Id clarify the facts and stakeholders, then weigh ",d.jsx("em",{children:"autonomy"}),", ",d.jsx("em",{children:"beneficence"}),", ",d.jsx("em",{children:"non-maleficence"}),", and ",d.jsx("em",{children:"justice"}),". Id outline options, compare risks/benefits, and choose the path that best protects safety and informed choice. Id communicate transparently, document, and involve the team for follow-up."]}),d.jsx("div",{className:"mt-8",children:d.jsx(tt,{to:`${n}/setup`,className:"inline-block rounded-lg bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",children:"Practice an ethics scenario"})})]})}function w8(){const{slug:t}=qt()||{},e={dental:"Dental",medical:"Medical"}[t]||"Healthcare",n=t?`/${t}`:"/dental";return d.jsxs(ov,{title:"STAR / SPIKES Communication",subtitle:"Structure answers clearly and deliver difficult messages with empathy.",children:[d.jsx("h2",{children:"Why communication wins interviews"}),d.jsx("p",{children:"Strong communication shows clarity, empathy, and teamwork. Interviewers listen for organization, audience awareness, and how you translate knowledge into patient-centered language."}),d.jsx("h2",{children:"STAR: structure for behavioral questions"}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Situation:"})," one-line context (who, where, why it mattered)."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Task:"})," your responsibility or target."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Action:"})," specific steps you took (collaboration, rationale, alternatives)."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Result + reflection:"})," outcome, learning, and how youd improve."]})]}),d.jsxs("p",{children:[d.jsx("em",{children:"Tip:"})," be concise on context, specific on actions, explicit on reflection."]}),d.jsx("h2",{children:"SPIKES: delivering difficult news"}),d.jsxs("ol",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Setting:"})," privacy, time, support present."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Perception:"})," ask what they understand."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Invitation:"})," ask how much detail they want."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Knowledge:"})," clear, non-jargon explanation; pause for questions."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Empathy:"})," validate emotion; silence; check in."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Strategy & Summary:"})," plan next steps, follow-up, resources."]})]}),d.jsx("h2",{children:"Active listening & plain language"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Open questions  listen  summarize  confirm understanding."}),d.jsx("li",{children:"Translate jargon into everyday terms; use teach-back."}),d.jsx("li",{children:"Attend to tone, pace, and non-verbals; invite concerns early."})]}),e==="Dental"&&d.jsxs(d.Fragment,{children:[d.jsxs("h2",{children:[e,": common communication challenges"]}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Anxiety management:"})," normalize fears; explain steps, options, and pain control."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Treatment planning:"})," present phased plans and costs transparently; avoid pressure."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Informed consent:"})," visuals/diagrams; check understanding; document questions."]})]})]}),e==="Medical"&&d.jsxs(d.Fragment,{children:[d.jsxs("h2",{children:[e,": common communication challenges"]}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Time-limited settings:"})," prioritize concerns; safety-net with clear return precautions."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Team communication:"})," SBAR for handoffs; closed-loop; clarify roles."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Shared decisions:"})," align plan with goals/values; acknowledge uncertainty."]})]})]}),d.jsx("h2",{children:"Answer starter"}),d.jsx("p",{children:"Id use STAR to keep the response organized and highlight my actions and learning. For sensitive updates, Id use SPIKES: check understanding, share information clearly, respond to emotion, and agree on next steps."}),d.jsx("div",{className:"mt-8",children:d.jsx(tt,{to:`${n}/setup`,className:"inline-block rounded-lg bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",children:"Practice a communication scenario"})})]})}function x8(){const{slug:t}=qt()||{},e={dental:"Dental",medical:"Medical"}[t]||"Healthcare",n=t?`/${t}`:"/dental";return d.jsxs(ov,{title:"Common Pitfalls & How to Avoid Them",subtitle:"Avoid traps that derail otherwise strong interviews.",children:[d.jsx("h2",{children:"Frequent general pitfalls"}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Generic motivation:"})," I just want to help people. Add a specific, personal why."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"School flattery:"})," praising rankings without fit. Tie your goals to concrete programs/resources."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Robotic delivery:"})," over-memorized answers. Aim for structured but conversational."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Thin reflection:"})," describing events without what you learned or changed."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Dodging weaknesses:"})," lack of self-awareness. Share a real gap + mitigation plan."]})]}),d.jsx("h2",{children:"How to avoid them"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Use STAR to make your actions and reflection explicit."}),d.jsx("li",{children:"Swap clichs for specifics: people, projects, patient impact, measurable outcomes."}),d.jsx("li",{children:"Practice aloud with time limits; embrace natural language."}),d.jsx("li",{children:"Close with insight: what youd do differently and why it matters."})]}),e==="Dental"&&d.jsxs(d.Fragment,{children:[d.jsxs("h2",{children:[e,"-specific pitfalls"]}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"No reflection on exposure:"})," shadowing/assisting with no takeaways. Name skills, ethics, and patient experience lessons."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Overemphasizing cosmetics:"})," balance esthetics with oral health and function."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Cost blind spots:"})," ignore affordability. Discuss phased care, referrals, financial counseling."]})]})]}),e==="Medical"&&d.jsxs(d.Fragment,{children:[d.jsxs("h2",{children:[e,"-specific pitfalls"]}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Clich altruism:"})," generic help people answers. Ground in clinical/service stories with reflection."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Hierarchy missteps:"})," dismissing team roles. Emphasize collaboration, curiosity, and safety culture."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Scope confusion:"})," unclear about physician responsibilities vs other professions. Show understanding of interprofessional care."]})]})]}),d.jsx("h2",{children:"Answer starter"}),d.jsx("p",{children:"To avoid common traps, I prepare concise STAR stories tied to program fit and patient impact. I keep delivery natural and end with reflectionwhat changed and how Ill apply it in training."}),d.jsx("div",{className:"mt-8",children:d.jsx(tt,{to:`${n}/setup`,className:"inline-block rounded-lg bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",children:"Practice avoiding pitfalls"})})]})}function E8(){return qt(),d.jsxs("main",{children:[d.jsx("section",{className:"border-b bg-white",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:[d.jsx("h1",{className:"text-4xl font-semibold tracking-tight text-gray-900",children:"About"}),d.jsx("p",{className:"mt-3 max-w-2xl text-lg text-gray-600",children:"The story behind InterviewPrepand the person building it."})]})}),d.jsx("section",{className:"bg-gray-50",children:d.jsxs("div",{className:"mx-auto grid max-w-7xl grid-cols-1 items-start gap-10 px-4 py-16 sm:px-6 md:grid-cols-[auto,1fr] lg:px-8",children:[d.jsx("img",{src:"/images/kamron.jpg",alt:"Kamron",className:"h-24 w-24 rounded-full object-cover ring-2 ring-white shadow md:h-28 md:w-28"}),d.jsxs("div",{className:"rounded-2xl border bg-white p-6",children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Hi, Im Kamron"}),d.jsxs("div",{className:"mt-3 space-y-4 text-sm leading-6 text-gray-700",children:[d.jsxs("p",{children:["Im currently a student at UCSF School of Dentistry. During my application process, I participated in a handful of interviews and was accepted to schools such as UPenn, Tufts, and UCSF. I built ",d.jsx("strong",{children:"InterviewPrep"})," because I know how intimidating the process can beand I wanted to create the tool I wish Id had when I was applying."]}),d.jsxs("p",{className:"text-xs text-gray-500",children:["If you ever want to chat or ask me any questions, you can reach me at ",d.jsx("a",{className:"underline",href:"mailto:kam.interviewprep@gmail.com",children:"kam.interviewprep@gmail.com"})]})]})]})]})})]})}function b8(){const t="September 7, 2025";return d.jsxs("main",{className:"mx-auto max-w-3xl px-4 py-12 sm:px-6 lg:px-8",children:[d.jsxs("header",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Privacy Policy"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Effective Date: ",t]})]}),d.jsxs("section",{className:"prose prose-gray max-w-none",children:[d.jsx("p",{children:'InterviewPrep ("we," "our," "us") provides structured practice tools for interview preparation, including video/audio practice sessions, transcripts, and instant feedback. We respect your privacy and are committed to protecting your personal information.'}),d.jsx("p",{children:"This Privacy Policy explains what data we collect, how we use it, and your rights. By using InterviewPrep, you agree to this Policy."}),d.jsx("h2",{children:"1. Information We Collect"}),d.jsx("h3",{children:"a. Account Information"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Name and email address (when you sign up or log in)."}),d.jsx("li",{children:"Authentication details via Firebase (including whether your email is verified)."})]}),d.jsx("h3",{children:"b. Subscription & Payment Information"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Payment details are processed by our third-party provider (e.g., Stripe). We do not store your credit card number on our servers."}),d.jsx("li",{children:"Subscription status, trial periods, and renewal/cancellation history."})]}),d.jsx("h3",{children:"c. Interview Session Data"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Transcripts generated from your recordings."}),d.jsx("li",{children:"AI feedback, scores, and performance analytics."}),d.jsx("li",{children:"Session metadata (e.g., number of questions, time spent, completion percentage)."})]}),d.jsx("h3",{children:"d. Device & Usage Information"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Log data such as browser type, operating system, and IP address."}),d.jsx("li",{children:"Feature usage (e.g., number of sessions completed, questions practiced)."})]}),d.jsx("h2",{children:"2. How We Use Your Information"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Provide and improve the InterviewPrep platform."}),d.jsx("li",{children:"Generate transcripts, feedback, and analytics from your responses."}),d.jsx("li",{children:"Track your practice history and performance over time."}),d.jsx("li",{children:"Manage subscriptions, payments, and free trial eligibility."}),d.jsx("li",{children:"Communicate with you about account issues, updates, or support."}),d.jsx("li",{children:"Monitor usage to maintain system security and prevent abuse."})]}),d.jsx("h2",{children:"3. How We Share Your Information"}),d.jsx("p",{children:"We do not sell your personal data. We may share limited information with:"}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Service Providers"})," (e.g., Firebase for authentication and storage, Stripe for payments)."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Legal Authorities"})," if required by law, regulation, or legal process."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Business Transfers"})," if InterviewPrep is involved in a merger, acquisition, or sale of assets."]})]}),d.jsx("h2",{children:"4. Data Retention"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Account and session data are retained for as long as your account is active."}),d.jsx("li",{children:"You may request deletion of your account and data at any time (see Section 7)."}),d.jsx("li",{children:"We may retain limited data as required by law (e.g., for billing records)."})]}),d.jsx("h2",{children:"5. Data Security"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Secure authentication via Firebase."}),d.jsx("li",{children:"Restricted access to personal data."})]}),d.jsx("p",{children:"However, no system is 100% secure. We cannot guarantee absolute security of your information."}),d.jsx("h2",{children:"6. Childrens Privacy"}),d.jsx("p",{children:"InterviewPrep is not intended for individuals under the age of 13 (or the minimum legal age in your jurisdiction). We do not knowingly collect personal data from children."}),d.jsx("h2",{children:"7. Your Rights"}),d.jsx("p",{children:"Depending on where you live, you may have the right to:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Access, correct, or delete your personal data."}),d.jsx("li",{children:"Request a copy of your data."}),d.jsx("li",{children:"Opt out of marketing communications."}),d.jsx("li",{children:"Restrict or object to certain processing activities."})]}),d.jsxs("p",{children:["To exercise these rights, contact us at"," ",d.jsx("a",{className:"text-blue-600 underline",href:"mailto:kam.interviewprep@gmail.com",children:"kam.interviewprep@gmail.com"}),"."]}),d.jsx("h2",{children:"8. International Users"}),d.jsx("p",{children:"If you access InterviewPrep from outside the United States, your information may be processed and stored in the U.S. or other countries where our service providers operate."}),d.jsx("h2",{children:"9. Changes to this Policy"}),d.jsxs("p",{children:["We may update this Privacy Policy from time to time. The updated version will be posted at",d.jsx("code",{className:"bg-gray-100 rounded px-1",children:"/privacy"})," with a new effective date."]}),d.jsx("h2",{children:"10. Contact Us"}),d.jsxs("address",{className:"not-italic",children:[d.jsx("strong",{children:"InterviewPrep"}),d.jsx("br",{}),"Email:"," ",d.jsx("a",{className:"text-blue-600 underline",href:"mailto:kam.interviewprep@gmail.com",children:"kam.interviewprep@gmail.com"})]})]})]})}function T8(){const t="September 7, 2025";return d.jsxs("main",{className:"mx-auto max-w-3xl px-4 py-12 sm:px-6 lg:px-8",children:[d.jsxs("header",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Terms of Service"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Effective Date: ",t]})]}),d.jsxs("section",{className:"prose prose-gray max-w-none",children:[d.jsx("p",{children:'Welcome to InterviewPrep ("we," "our," "us"). By using our website, services, and features, you agree to be bound by these Terms of Service ("Terms"). Please read them carefully. If you do not agree, you may not use InterviewPrep.'}),d.jsx("h2",{children:"1. Eligibility"}),d.jsx("p",{children:"You must be at least 13 years old (or the minimum legal age in your jurisdiction) to use InterviewPrep. By creating an account, you represent that you meet this requirement."}),d.jsx("h2",{children:"2. Accounts"}),d.jsxs("ul",{children:[d.jsx("li",{children:"You are responsible for maintaining the confidentiality of your login credentials."}),d.jsx("li",{children:"You are responsible for all activities that occur under your account."}),d.jsx("li",{children:"You must provide accurate and complete information when signing up and keep it up-to-date."})]}),d.jsx("h2",{children:"3. Use of Service"}),d.jsxs("ul",{children:[d.jsx("li",{children:"InterviewPrep provides practice interview sessions, transcripts, and AI-generated feedback for educational and preparation purposes only."}),d.jsx("li",{children:"You may not use the service for unlawful, abusive, or harmful activities, including sharing offensive or infringing content."}),d.jsx("li",{children:"You may not attempt to disrupt, reverse-engineer, or exploit the platform in unauthorized ways."})]}),d.jsx("h2",{children:"4. Payments & Access"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Access to premium features is provided on a one-time purchase basis. A single payment grants you access for one year from the date of purchase."}),d.jsx("li",{children:"At the end of the one-year period, continued access requires purchasing a new plan. We do not automatically renew or charge your payment method."}),d.jsx("li",{children:"All fees are billed at the time of purchase. Refunds are only provided where required by law."})]}),d.jsx("h2",{children:"5. Content & Data"}),d.jsxs("ul",{children:[d.jsx("li",{children:"During sessions, audio/video streams may be temporarily processed for analysis. We do not permanently store recordings. Only transcripts, feedback, and performance data are retained with your account."}),d.jsx("li",{children:"You retain ownership of your content but grant us a limited license to process it for providing the service."})]}),d.jsx("h2",{children:"6. Disclaimers"}),d.jsx("p",{children:"InterviewPrep is provided on an as is and as available basis. We do not guarantee that use of the service will improve interview performance or lead to admission or employment offers. We disclaim all warranties to the maximum extent permitted by law."}),d.jsx("h2",{children:"7. Limitation of Liability"}),d.jsx("p",{children:"To the fullest extent permitted by law, InterviewPrep and its affiliates will not be liable for any indirect, incidental, or consequential damages arising from your use of the service."}),d.jsx("h2",{children:"8. Termination"}),d.jsx("p",{children:"We may suspend or terminate your account if you violate these Terms or misuse the service. You may also delete your account at any time."}),d.jsx("h2",{children:"9. Changes to Terms"}),d.jsxs("p",{children:["We may update these Terms occasionally. Updates will be posted at ",d.jsx("code",{children:"/terms"})," with a new effective date. Continued use of InterviewPrep after changes means you accept the new Terms."]}),d.jsx("h2",{children:"10. Governing Law"}),d.jsx("p",{children:"These Terms are governed by the laws of the United States and the state in which we are based, without regard to conflict of law provisions."}),d.jsx("h2",{children:"11. Contact Us"}),d.jsxs("address",{className:"not-italic",children:[d.jsx("strong",{children:"InterviewPrep"}),d.jsx("br",{}),"Email:"," ",d.jsx("a",{className:"text-blue-600 underline",href:"mailto:kam.interviewprep@gmail.com",children:"kam.interviewprep@gmail.com"})]})]})]})}function Ys({user:t,children:e}){const n=nn();return t?e:d.jsx(dd,{to:"/login",replace:!0,state:{from:n.pathname}})}function S8(){const[t,e]=T.useState(null),[n,r]=T.useState(!0);return T.useEffect(()=>{const i=Zo(Dn,s=>{e(s),r(!1)});return()=>i()},[]),n?d.jsx("div",{className:"p-10 text-center",children:"Loading..."}):d.jsxs(CR,{children:[d.jsx(ut,{path:"/",element:d.jsx(dd,{to:"/dental",replace:!0})}),d.jsx(ut,{path:"/login",element:d.jsx(QF,{})}),d.jsx(ut,{path:"/signup",element:d.jsx(YF,{})}),d.jsxs(ut,{path:"/:profession/*",element:d.jsx(ZV,{children:d.jsx(GF,{})}),children:[d.jsx(ut,{index:!0,element:d.jsx(KF,{})}),d.jsx(ut,{path:"pricing",element:d.jsx(y8,{})}),d.jsx(ut,{path:"resources",element:d.jsx(v8,{})}),d.jsx(ut,{path:"about",element:d.jsx(E8,{})}),d.jsx(ut,{path:"resources/ethics",element:d.jsx(_8,{})}),d.jsx(ut,{path:"resources/communication",element:d.jsx(w8,{})}),d.jsx(ut,{path:"resources/pitfalls",element:d.jsx(x8,{})}),d.jsx(ut,{path:"privacy",element:d.jsx(b8,{})}),d.jsx(ut,{path:"terms",element:d.jsx(T8,{})}),d.jsx(ut,{path:"dashboard",element:d.jsx(Ys,{user:t,children:d.jsx(B$,{})})}),d.jsx(ut,{path:"setup",element:d.jsx(Ys,{user:t,children:d.jsx(H$,{})})}),d.jsx(ut,{path:"session",element:d.jsx(Ys,{user:t,children:d.jsx(s8,{})})}),d.jsx(ut,{path:"summary",element:d.jsx(Ys,{user:t,children:d.jsx(p8,{})})}),d.jsx(ut,{path:"admin",element:d.jsx(Ys,{user:t,children:d.jsx(m8,{})})}),d.jsx(ut,{path:"admin/questions",element:d.jsx(Ys,{user:t,children:d.jsx(g8,{})})})]}),d.jsx(ut,{path:"*",element:d.jsx(dd,{to:"/dental",replace:!0})})]})}np.createRoot(document.getElementById("root")).render(d.jsx(Pe.StrictMode,{children:d.jsx(ZR,{children:d.jsx(S8,{})})}));
